/*! For license information please see 823.557e19a4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkSUBRIVA_BILLING=self.webpackChunkSUBRIVA_BILLING||[]).push([[823],{33359:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(65043),i=a(71360),n=a(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(this,arguments)}const o=(e,t)=>l.createElement(n.A,s({},e,{ref:t,icon:i.A}));const d=l.forwardRef(o)},37823:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});a(65043);var l=a(36621),i=a(12624),n=a(82863),s=a(74198),o=a(70579);const d={title:"Warehouse",columns:[{title:"Warehouse Name",dataIndex:"warehouse_name",key:"warehouse_name"},{title:"Code",dataIndex:"warehouse_code",key:"warehouse_code"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Email",dataIndex:"email",key:"email"},{title:"Address",dataIndex:"address",key:"address",render:e=>e||"-"},{title:"City",dataIndex:"city",key:"city"},{title:"State",dataIndex:"state",key:"state"},{title:"Pincode",dataIndex:"pincode",key:"pincode"},{title:"Status",dataIndex:"status",key:"status",render:e=>e?"Active":"Inactive"}],formItems:[{label:"Warehouse Name",name:"warehouse_name",rules:[{required:!0,message:"Please enter warehouse name"}],component:(0,o.jsx)(l.A,{placeholder:"Enter warehouse name"})},{label:"Code",name:"warehouse_code",rules:[{required:!0,message:"Please enter warehouse code"}],component:(0,o.jsx)(l.A,{placeholder:"Enter warehouse code"})},{label:"Phone",name:"phone",rules:[{required:!0,message:"Please enter phone number"},{pattern:/^\d{10}$/,message:"Phone number must be 10 digits"}],component:(0,o.jsx)(l.A,{placeholder:"Enter phone number",maxLength:10})},{label:"Email",name:"email",rules:[{type:"email",message:"Enter a valid email"}],component:(0,o.jsx)(l.A,{placeholder:"Enter email address"})},{label:"Address",name:"address",component:(0,o.jsx)(l.A.TextArea,{placeholder:"Enter address",rows:3})},{label:"City",name:"city",component:(0,o.jsx)(l.A,{placeholder:"Enter city"})},{label:"State",name:"state",component:(0,o.jsx)(l.A,{placeholder:"Enter state"})},{label:"Pincode",name:"pincode",component:(0,o.jsx)(l.A,{placeholder:"Enter pincode",maxLength:6})},{label:"Status",name:"status",valuePropName:"checked",component:(0,o.jsx)(i.A,{checkedChildren:"Active",unCheckedChildren:"Inactive",defaultChecked:!0})}],apiRoutes:(0,s._V)("Warehouse"),formColumns:2},r=()=>(0,o.jsx)(n.r,{config:d})},74198:(e,t,a)=>{a.d(t,{_V:()=>i});a(65043);var l=a(91449);a(27038);const i=e=>{const t=l.LE[e]||(0,l.lX)(e);return{get:t.getAll(),create:t.create(),update:t.update(),delete:t.delete()}}},82863:(e,t,a)=>{a.d(t,{r:()=>V});var l=a(89379),i=a(65043),n=a(96651),s=a(47419),o=a(11645),d=a(36621),r=a(26553),c=a(93504),u=a(95206),p=a(33359),m=a(9316),h=a(83003),g=a(62305),x=a(97031),f=a(91449),A=a(60446),y=a.n(A);var b=a(22671),j=a(53986),C=a(83833),v=a(88655),k=a(73847),w=a(70579);const R=["key","name","fieldKey"],I=e=>{const{FormValue:t,onSubmit:a,onCancel:n,formItems:d,onChildCancel:r,formColumns:c,splitLabelAndField:p,nested:m,nestedInputs:h,wrapperCol:x,labelCol:f,initialValues:A,loading:y,form:b,onValuesChange:I}=e,S=c||1;return(0,i.useEffect)((()=>{A&&(null===b||void 0===b||b.setFieldsValue(A))}),[A,b]),(0,w.jsxs)("div",{style:{position:"relative",height:"100%"},children:[(0,w.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"600px 600px",opacity:.1,zIndex:0}}),(0,w.jsxs)(g.A,{form:b,onFinish:e=>{a?a(e):t&&t(e),null===b||void 0===b||b.resetFields()},layout:"vertical",onValuesChange:I,children:[(0,w.jsxs)(s.A,{gutter:[16,16],children:[null===d||void 0===d?void 0:d.map(((e,t)=>{var a;return(0,w.jsx)(o.A,{span:24/S,children:p?(0,w.jsxs)("div",{children:[(0,w.jsxs)(C.A.Text,{strong:!0,children:[e.label," ",(null===(a=e.rules)||void 0===a?void 0:a.some((e=>e.required)))&&(0,w.jsx)(C.A.Text,{type:"danger",children:"*"})]}),(0,w.jsx)(g.A.Item,{name:e.name,rules:e.rules,style:{marginTop:"8px"},children:e.component})]}):(0,w.jsx)(g.A.Item,{label:(0,w.jsx)(C.A.Text,{strong:!0,children:e.label}),name:e.name,rules:e.rules,labelCol:{span:f},wrapperCol:{span:x},children:e.component})},t)})),m&&(0,w.jsx)(g.A.List,{name:"nestedItems",children:(e,t)=>{let{add:a,remove:i}=t;return(0,w.jsxs)(w.Fragment,{children:[e.map((e=>{let{key:t,name:a,fieldKey:n}=e,d=(0,j.A)(e,R);return(0,w.jsxs)(s.A,{gutter:[16,16],align:"middle",children:[h.map(((e,t)=>(0,w.jsx)(o.A,{children:(0,w.jsx)(g.A.Item,(0,l.A)((0,l.A)({},d),{},{name:[a,e.name],fieldKey:[n,e.name],rules:[{required:!0,message:"Missing ".concat(e.label)}],label:e.label,children:e.component}))},t))),(0,w.jsx)(o.A,{children:(0,w.jsx)(v.A,{onClick:()=>i(a)})})]},t)})),(0,w.jsx)(s.A,{justify:"center",children:(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{type:"primary",onClick:()=>a(),icon:(0,w.jsx)(k.A,{}),children:"Add More Field"})})})]})}})]}),(0,w.jsxs)(s.A,{justify:"end",gutter:[16,16],style:{padding:"16px"},children:[(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{onClick:()=>{n?n():r&&r(!1),null===b||void 0===b||b.resetFields()},children:"Cancel"})}),(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{type:"primary",htmlType:"submit",loading:y,children:"Submit"})})]})]})]})};var S=a(4413);function E(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{title:"Actions",key:"actions",render:(i,s)=>(0,w.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,w.jsx)(n.A,{title:"Edit ".concat(e),children:(0,w.jsx)(p.A,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>t(s)})}),(0,w.jsx)(n.A,{title:"Delete ".concat(e),children:(0,w.jsx)(m.A,{style:{cursor:l?"not-allowed":"pointer",color:l?"#d9d9d9":"#ff4d4f",opacity:l?.5:1},onClick:()=>!l&&a(s)})})]})}}const V=e=>{let{config:t,filters:a=[],onFilterChange:n,customButtons:p=[],onValuesChange:m}=e;const{loading:A,createLoading:j,updateLoading:C,deleteLoading:v,items:k,pagination:R,drawerVisible:V,initialValues:P,form:F,handleEdit:L,handleDelete:_,handleDrawerOpen:K,resetForm:O,handleSubmit:T,handlePaginationChange:B,columns:N,formItems:q,formColumns:z=2,drawerWidth:D,filterValues:W,setFilterValues:M}=(e=>{const t=(0,h.wA)(),[a]=g.A.useForm(),[n,s]=(0,i.useState)(!1),[o,d]=(0,i.useState)({}),[r,c]=(0,i.useState)({}),[u,p]=(0,i.useState)({current:1,pageSize:10}),{loading:m,items:A}=(0,x.Sm)(e.apiRoutes.get.identifier),{loading:b,items:j,error:C}=(0,x.Sm)(e.apiRoutes.create.identifier),{loading:v,items:k,error:w}=(0,x.Sm)(e.apiRoutes.update.identifier),{loading:R,items:I,error:S}=(0,x.Sm)(e.apiRoutes.delete.identifier),E=(0,i.useCallback)(((e,a,l,i)=>{t((0,x.s7)({method:e,endpoint:a,data:l},i))}),[t]),V=(0,i.useCallback)((()=>{const t=(0,l.A)((0,l.A)({},r),{},{pageNumber:u.current,pageLimit:u.pageSize});E(e.apiRoutes.get.method,e.apiRoutes.get.endpoint,t,e.apiRoutes.get.identifier)}),[E,e.apiRoutes.get,r,u]),P=(0,i.useCallback)((t=>{E(e.apiRoutes.create.method,e.apiRoutes.create.endpoint,t,e.apiRoutes.create.identifier)}),[E,e.apiRoutes.create]),F=(0,i.useCallback)(((t,a)=>{E(e.apiRoutes.update.method,"".concat(e.apiRoutes.update.endpoint,"/").concat(t),a,e.apiRoutes.update.identifier)}),[E,e.apiRoutes.update]),L=(0,i.useCallback)((t=>{E(e.apiRoutes.delete.method,"".concat(e.apiRoutes.delete.endpoint,"/").concat(t),{_id:t},e.apiRoutes.delete.identifier)}),[E,e.apiRoutes.delete]),_=(0,i.useCallback)(((e,t)=>{p({current:e,pageSize:t})}),[]);function K(e){return/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/.test(e)}const O=(0,i.useCallback)((e=>{const t={};for(const a in e){const l=e[a];"string"===typeof l&&K(l)&&y()(l,void 0,!0).isValid()?t[a]=y()(l):t[a]=l}d(t),s(!0)}),[]),T=(0,i.useCallback)((e=>{L(e._id)}),[L]),B=(0,i.useCallback)((()=>{s(!0)}),[]),N=(0,i.useCallback)((()=>{s(!1),d({}),a.resetFields()}),[a]),q=(0,i.useCallback)((e=>{o._id?F(o._id,e):P(e)}),[o._id,P,F]);return(0,i.useEffect)((()=>{if(200===(null===j||void 0===j?void 0:j.statusCode))(0,f.P0)("success","".concat(e.title," created successfully")),V(),N(),t((0,x.Ki)(e.apiRoutes.create.identifier));else if(C){const t=C.message||"Failed to create ".concat(e.title);(0,f.P0)("error",t)}}),[j,C,e.title,V,N,t,e.apiRoutes.create.identifier]),(0,i.useEffect)((()=>{if(200===(null===k||void 0===k?void 0:k.statusCode))(0,f.P0)("success","".concat(e.title," updated successfully")),V(),N(),t((0,x.Ki)(e.apiRoutes.update.identifier));else if(w){const t=w.message||"Failed to update ".concat(e.title);(0,f.P0)("error",t)}}),[k,w,e.title,V,N,t,e.apiRoutes.update.identifier]),(0,i.useEffect)((()=>{if(200===(null===I||void 0===I?void 0:I.statusCode))(0,f.P0)("success","".concat(e.title," deleted successfully")),V(),t((0,x.Ki)(e.apiRoutes.delete.identifier));else if(S){const t=S.message||"Failed to delete ".concat(e.title);(0,f.P0)("error",t)}}),[I,S,e.title,V,t,e.apiRoutes.delete.identifier]),(0,i.useEffect)((()=>{V()}),[V]),(0,l.A)({loading:m,createLoading:b,updateLoading:v,deleteLoading:R,items:null===A||void 0===A?void 0:A.result,pagination:null===A||void 0===A?void 0:A.pagination,drawerVisible:n,initialValues:o,form:a,filterValues:r,setFilterValues:c,handleEdit:O,handleDelete:T,handleDrawerOpen:B,resetForm:N,handleSubmit:q,handlePaginationChange:_},e)})(t),G=(0,i.useCallback)(((e,t)=>{const a=(0,l.A)((0,l.A)({},W),{},{[e]:t});M(a),n&&n(a)}),[W,M,n]),U=(0,i.useMemo)((()=>[...N,E(t.title,L,_,v)]),[N,t.title,L,_,v]);return(0,w.jsxs)("div",{children:[(0,w.jsxs)(s.A,{justify:"space-between",align:"bottom",gutter:[16,16],style:{marginBottom:16},children:[(0,w.jsx)(o.A,{flex:"auto",children:(0,w.jsx)("h1",{style:{margin:0},children:t.title})}),(0,w.jsx)(o.A,{children:(0,w.jsxs)(s.A,{gutter:[12,12],align:"bottom",justify:"end",wrap:!0,children:[a.map((e=>{var t;return(0,w.jsxs)(o.A,{children:["input"===e.type&&(0,w.jsx)(d.A,{placeholder:e.placeholder||e.label,value:W[e.key]||"",onChange:t=>G(e.key,t.target.value),style:{width:e.width||200},disabled:j||C||v}),"select"===e.type&&(0,w.jsx)(r.A,{placeholder:e.placeholder||e.label,value:W[e.key],onChange:t=>{G(e.key,t),e.onChange&&e.onChange(t)},allowClear:!0,style:{width:e.width||200},disabled:e.disabled||j||C||v,children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,w.jsx)(r.A.Option,{value:e.value,children:e.label},e.value)))}),"date"===e.type&&(0,w.jsx)(c.A,{placeholder:e.placeholder||e.label,value:W[e.key],onChange:t=>G(e.key,t),style:{width:e.width||200},disabled:j||C||v})]},e.key)})),(0,w.jsx)(o.A,{children:(0,w.jsx)(d.A,{placeholder:"Search ".concat(t.title),value:W.searchString||"",onChange:e=>G("searchString",e.target.value),style:{width:200},disabled:j||C||v})}),p.map((e=>(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{type:e.type||"default",onClick:e.onClick,icon:e.icon,disabled:j||C||v,children:e.label})},e.key))),(0,w.jsx)(o.A,{children:(0,w.jsxs)(u.Ay,{type:"primary",onClick:K,loading:j,disabled:j,children:["Add ",t.title]})})]})})]}),(0,w.jsx)(S.A,{columns:U,data:k,loading:A||v,rowKeyField:"_id",totalCount:(null===R||void 0===R?void 0:R.totalCount)||0,pageLimit:(null===R||void 0===R?void 0:R.pageLimit)||10,onPaginationChange:B}),(0,w.jsx)(b.A,{title:"".concat(P._id?"Edit":"Add"," ").concat(t.title),open:V,onClose:j||C?()=>{}:O,width:D,children:(0,w.jsx)(I,{form:F,formItems:q,formColumns:z,initialValues:P,onSubmit:T,onCancel:O,onValuesChange:m,loading:j||C})})]})}}}]);
//# sourceMappingURL=823.557e19a4.chunk.js.map