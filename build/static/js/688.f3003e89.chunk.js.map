{"version":3,"file":"static/js/688.f3003e89.chunk.js","mappings":"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","sources":["webpack://SUBRIVA-BILLING/./src/pages/UserProfile/UserProfile.module.css?93b3","pages/UserProfile/UserProfile.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userProfileContainer\":\"UserProfile_userProfileContainer__XwCLZ\",\"userProfileHeader\":\"UserProfile_userProfileHeader__Y56wV\",\"profileCard\":\"UserProfile_profileCard__1Unoq\",\"profileOverview\":\"UserProfile_profileOverview__UF9E+\",\"profileAvatarSection\":\"UserProfile_profileAvatarSection__XRZX6\",\"profileAvatar\":\"UserProfile_profileAvatar__LXaoj\",\"profileDetails\":\"UserProfile_profileDetails__RVszn\",\"securityCard\":\"UserProfile_securityCard__GTvZJ\",\"securitySection\":\"UserProfile_securitySection__Cdg-f\",\"securityItem\":\"UserProfile_securityItem__5y8Cl\",\"securityItemContent\":\"UserProfile_securityItemContent__Ui8X7\",\"slideInRight\":\"UserProfile_slideInRight__srJbJ\"};","import React, { useState, useEffect, useMemo } from 'react';\r\nimport {\r\n  Card,\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Avatar,\r\n  Descriptions,\r\n  message,\r\n  Space,\r\n  Divider,\r\n  Typography,\r\n  Row,\r\n  Col,\r\n  Tag,\r\n  Modal,\r\n} from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  EditOutlined,\r\n  SaveOutlined,\r\n  CloseOutlined,\r\n  LockOutlined,\r\n  MailOutlined,\r\n  PhoneOutlined,\r\n  IdcardOutlined,\r\n} from '@ant-design/icons';\r\nimport { useUser } from '../../components/antd/UserContext';\r\nimport { setUserData, User } from '../../helpers/auth';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { ApiRequest } from '../../services/api/apiService';\r\nimport {\r\n  dynamic_clear,\r\n  dynamic_request,\r\n  useDynamicSelector,\r\n} from '../../services/redux';\r\nimport { API_ROUTES } from '../../services/api/utils';\r\nimport styles from './UserProfile.module.css';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst UserProfile: React.FC = () => {\r\n  const user = useUser();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isChangingPassword, setIsChangingPassword] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const [passwordForm] = Form.useForm();\r\n  const dispatch: Dispatch<any> = useDispatch();\r\n\r\n  const { loading: updateLoading, items: updateItems } = useDynamicSelector(\r\n    API_ROUTES.BillingUsers.Update.identifier\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      form.setFieldsValue({\r\n        name: user.name,\r\n        email: user.email,\r\n        mobile: user.mobile,\r\n        user_name: user.username || '',\r\n      });\r\n    }\r\n  }, [user, form]);\r\n\r\n  useEffect(() => {\r\n    if (updateItems?.statusCode === 200) {\r\n      message.success('Profile updated successfully!');\r\n      \r\n      // Update user data in sessionStorage\r\n      const updatedUser: User = {\r\n        ...user,\r\n        name: form.getFieldValue('name') || user?.name || '',\r\n        email: form.getFieldValue('email') || user?.email || '',\r\n        mobile: form.getFieldValue('mobile') || user?.mobile || '',\r\n        clientcode: user?.clientcode || '',\r\n        usertype: user?.usertype || '',\r\n        active: user?.active ?? true,\r\n      };\r\n      setUserData(updatedUser);\r\n      \r\n      setIsEditing(false);\r\n      setIsChangingPassword(false);\r\n      passwordForm.resetFields();\r\n      dispatch(dynamic_clear(API_ROUTES.BillingUsers.Update.identifier));\r\n      \r\n      // Reload to update context\r\n      window.location.reload();\r\n    } else if (updateItems?.statusCode && updateItems.statusCode !== 200) {\r\n      message.error(updateItems?.message || 'Failed to update profile');\r\n      dispatch(dynamic_clear(API_ROUTES.BillingUsers.Update.identifier));\r\n    }\r\n  }, [updateItems, dispatch, user, form, passwordForm]);\r\n\r\n  const handleUpdate = (values: any) => {\r\n    if (!user?._id) {\r\n      message.error('User ID not found');\r\n      return;\r\n    }\r\n\r\n    const updateData: any = {\r\n      name: values.name,\r\n      email: values.email,\r\n      mobile: values.mobile,\r\n    };\r\n\r\n    dispatch(\r\n      dynamic_request(\r\n        {\r\n          method: API_ROUTES.BillingUsers.Update.method,\r\n          endpoint: `${API_ROUTES.BillingUsers.Update.endpoint}${user._id}`,\r\n          data: updateData,\r\n        },\r\n        API_ROUTES.BillingUsers.Update.identifier\r\n      )\r\n    );\r\n  };\r\n\r\n  const handlePasswordChange = (values: any) => {\r\n    if (!user?._id) {\r\n      message.error('User ID not found');\r\n      return;\r\n    }\r\n\r\n    dispatch(\r\n      dynamic_request(\r\n        {\r\n          method: API_ROUTES.BillingUsers.Update.method,\r\n          endpoint: `${API_ROUTES.BillingUsers.Update.endpoint}${user._id}`,\r\n          data: {\r\n            password: values.new_password,\r\n          },\r\n        },\r\n        API_ROUTES.BillingUsers.Update.identifier\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    form.setFieldsValue({\r\n      name: user?.name,\r\n      email: user?.email,\r\n      mobile: user?.mobile,\r\n      user_name: user?.username || '',\r\n    });\r\n  };\r\n\r\n  const userRole =\r\n    user?.roleItems?.name || user?.usertype || user?.user_role || 'User';\r\n  const orgName =\r\n    user?.organisationItems?.org_name || user?.organisationItems?.name || 'N/A';\r\n  const branchName =\r\n    user?.branchItems?.branch_name || user?.branchItems?.name || 'N/A';\r\n\r\n  // Get initials for avatar\r\n  const getInitials = (name?: string) => {\r\n    if (!name) return 'U';\r\n    return name\r\n      .split(' ')\r\n      .map(word => word[0])\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.userProfileContainer}>\r\n      <div className={styles.userProfileHeader}>\r\n        <Title level={2}>\r\n          <UserOutlined /> My Profile\r\n        </Title>\r\n        <Text type=\"secondary\">View and manage your account information</Text>\r\n      </div>\r\n\r\n      <Row gutter={[24, 24]}>\r\n        {/* Profile Overview Card */}\r\n        <Col xs={24} lg={8}>\r\n          <Card className={`${styles.profileCard} ${styles.profileOverview}`}>\r\n            <div className={styles.profileAvatarSection}>\r\n              <Avatar size={120} className={styles.profileAvatar}>\r\n                {getInitials(user?.name)}\r\n              </Avatar>\r\n              <Title level={4} style={{ marginTop: 16, marginBottom: 4 }}>\r\n                {user?.name || 'User Name'}\r\n              </Title>\r\n              <Text type=\"secondary\">@{user?.username || user?.name || 'username'}</Text>\r\n              <div style={{ marginTop: 16 }}>\r\n                <Tag color=\"blue\" style={{ fontSize: 14, padding: '4px 12px' }}>\r\n                  {userRole}\r\n                </Tag>\r\n              </div>\r\n            </div>\r\n\r\n            <Divider />\r\n\r\n            <Descriptions column={1} size=\"small\">\r\n              <Descriptions.Item\r\n                label={\r\n                  <span>\r\n                    <IdcardOutlined /> Organisation\r\n                  </span>\r\n                }\r\n              >\r\n                <Text strong>{orgName}</Text>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item\r\n                label={\r\n                  <span>\r\n                    <IdcardOutlined /> Branch\r\n                  </span>\r\n                }\r\n              >\r\n                <Text strong>{branchName}</Text>\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Profile Details Card */}\r\n        <Col xs={24} lg={16}>\r\n          <Card\r\n            className={`${styles.profileCard} ${styles.profileDetails}`}\r\n            title=\"Personal Information\"\r\n            extra={\r\n              !isEditing && (\r\n                <Button\r\n                  type=\"primary\"\r\n                  icon={<EditOutlined />}\r\n                  onClick={() => setIsEditing(true)}\r\n                >\r\n                  Edit Profile\r\n                </Button>\r\n              )\r\n            }\r\n          >\r\n            <Form\r\n              form={form}\r\n              layout=\"vertical\"\r\n              onFinish={handleUpdate}\r\n              disabled={!isEditing}\r\n            >\r\n              <Row gutter={16}>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Full Name\"\r\n                    name=\"name\"\r\n                    rules={[\r\n                      { required: true, message: 'Please enter your full name' },\r\n                    ]}\r\n                  >\r\n                    <Input\r\n                      prefix={<UserOutlined />}\r\n                      placeholder=\"Enter full name\"\r\n                      size=\"large\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item label=\"Username\" name=\"user_name\">\r\n                    <Input\r\n                      prefix={<UserOutlined />}\r\n                      placeholder=\"Username\"\r\n                      size=\"large\"\r\n                      disabled\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row gutter={16}>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    rules={[\r\n                      { required: true, message: 'Please enter your email' },\r\n                      { type: 'email', message: 'Enter a valid email' },\r\n                    ]}\r\n                  >\r\n                    <Input\r\n                      prefix={<MailOutlined />}\r\n                      placeholder=\"Enter email\"\r\n                      size=\"large\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Mobile Number\"\r\n                    name=\"mobile\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: 'Please enter your mobile number',\r\n                      },\r\n                      {\r\n                        pattern: /^[0-9]{10}$/,\r\n                        message: 'Enter valid 10-digit mobile number',\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input\r\n                      prefix={<PhoneOutlined />}\r\n                      placeholder=\"Enter mobile number\"\r\n                      maxLength={10}\r\n                      size=\"large\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n\r\n              {isEditing && (\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      htmlType=\"submit\"\r\n                      icon={<SaveOutlined />}\r\n                      loading={updateLoading}\r\n                      size=\"large\"\r\n                    >\r\n                      Save Changes\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleCancel}\r\n                      icon={<CloseOutlined />}\r\n                      size=\"large\"\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              )}\r\n            </Form>\r\n          </Card>\r\n\r\n          {/* Security Card */}\r\n          <Card\r\n            className={`${styles.profileCard} ${styles.securityCard}`}\r\n            title=\"Security Settings\"\r\n            style={{ marginTop: 24 }}\r\n          >\r\n            <div className={styles.securitySection}>\r\n              <div className={styles.securityItem}>\r\n                <LockOutlined style={{ fontSize: 24, color: '#1890ff' }} />\r\n                <div className={styles.securityItemContent}>\r\n                  <Text strong>Password</Text>\r\n                  <br />\r\n                  <Text type=\"secondary\">\r\n                    Update your password to keep your account secure\r\n                  </Text>\r\n                </div>\r\n                <Button\r\n                  type=\"default\"\r\n                  onClick={() => setIsChangingPassword(true)}\r\n                >\r\n                  Change Password\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Change Password Modal */}\r\n      <Modal\r\n        title=\"Change Password\"\r\n        open={isChangingPassword}\r\n        onCancel={() => {\r\n          setIsChangingPassword(false);\r\n          passwordForm.resetFields();\r\n        }}\r\n        footer={null}\r\n        width={500}\r\n      >\r\n        <Form\r\n          form={passwordForm}\r\n          layout=\"vertical\"\r\n          onFinish={handlePasswordChange}\r\n        >\r\n          <Form.Item\r\n            label=\"New Password\"\r\n            name=\"new_password\"\r\n            rules={[\r\n              { required: true, message: 'Please enter new password' },\r\n              { min: 6, message: 'Password must be at least 6 characters' },\r\n            ]}\r\n            hasFeedback\r\n          >\r\n            <Input.Password\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"Enter new password\"\r\n              size=\"large\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Confirm New Password\"\r\n            name=\"confirm_password\"\r\n            dependencies={['new_password']}\r\n            hasFeedback\r\n            rules={[\r\n              { required: true, message: 'Please confirm your password' },\r\n              ({ getFieldValue }) => ({\r\n                validator(_, value) {\r\n                  if (!value || getFieldValue('new_password') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(\r\n                    new Error('The two passwords do not match!')\r\n                  );\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"Confirm new password\"\r\n              size=\"large\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Space>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                loading={updateLoading}\r\n                size=\"large\"\r\n              >\r\n                Update Password\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  setIsChangingPassword(false);\r\n                  passwordForm.resetFields();\r\n                }}\r\n                size=\"large\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </Space>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n\r\n"],"names":["Title","Text","Typography","UserProfile","_user$roleItems","_user$organisationIte","_user$organisationIte2","_user$branchItems","_user$branchItems2","user","useUser","isEditing","setIsEditing","useState","isChangingPassword","setIsChangingPassword","form","Form","useForm","passwordForm","dispatch","useDispatch","loading","updateLoading","items","updateItems","useDynamicSelector","API_ROUTES","BillingUsers","Update","identifier","useEffect","setFieldsValue","name","email","mobile","user_name","username","statusCode","_user$active","message","success","updatedUser","_objectSpread","getFieldValue","clientcode","usertype","active","setUserData","resetFields","dynamic_clear","window","location","reload","error","userRole","roleItems","user_role","orgName","organisationItems","org_name","branchName","branchItems","branch_name","_jsxs","className","styles","children","level","_jsx","UserOutlined","type","Row","gutter","Col","xs","lg","Card","concat","Avatar","size","split","map","word","join","toUpperCase","slice","style","marginTop","marginBottom","Tag","color","fontSize","padding","Divider","Descriptions","column","Item","label","IdcardOutlined","strong","title","extra","Button","icon","EditOutlined","onClick","layout","onFinish","values","_id","updateData","dynamic_request","method","endpoint","data","disabled","md","rules","required","Input","prefix","placeholder","MailOutlined","pattern","PhoneOutlined","maxLength","Space","htmlType","SaveOutlined","handleCancel","CloseOutlined","LockOutlined","Modal","open","onCancel","footer","width","password","new_password","min","hasFeedback","Password","dependencies","_ref","validator","_","value","Promise","reject","Error","resolve"],"sourceRoot":""}