/*! For license information please see 72.3501bd6b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkFOCUZ_BILLING=self.webpackChunkFOCUZ_BILLING||[]).push([[72],{6881:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(65043),n=a(51762),i=a(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(this,arguments)}const r=(e,t)=>l.createElement(i.A,s({},e,{ref:t,icon:n.A}));const o=l.forwardRef(r)},25072:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var l=a(65043),n=a(82863),i=a(74198),s=a(96651),r=a(76399),o=a(75388),d=a(87534),c=a(6881);const u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};var p=a(66381);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},m.apply(this,arguments)}const h=(e,t)=>l.createElement(p.A,m({},e,{ref:t,icon:u}));const g=l.forwardRef(h);var x=a(92882),f=a(13699),A=a(70579);const y=[{title:"Email",dataIndex:"email",key:"email",render:e=>(0,A.jsxs)(s.A,{title:"Login Email",children:[(0,A.jsx)(o.A,{style:{marginRight:6}}),e]})},{title:"Mobile",dataIndex:"mobile",key:"mobile",render:e=>(0,A.jsxs)(s.A,{title:"Mobile Number",children:[(0,A.jsx)(d.A,{style:{marginRight:6}}),e]})},{title:"Plan",dataIndex:"plan_type",key:"plan_type",render:e=>{let t="default";return"starter"===e?t="blue":"standard"===e?t="orange":"pro"===e&&(t="purple"),(0,A.jsx)(r.A,{color:t,style:{textTransform:"capitalize"},children:e})}},{title:"License Period",key:"license_period",render:(e,t)=>{var a,l;return(0,A.jsxs)(s.A,{title:"License Validity",children:[(0,A.jsx)(c.A,{style:{marginRight:6}}),null===(a=t.license_start)||void 0===a?void 0:a.split("T")[0]," -"," ",null===(l=t.license_expiry)||void 0===l?void 0:l.split("T")[0]]})}},{title:"Max Limits",key:"limits",render:(e,t)=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(r.A,{color:"cyan",children:["Org: ",t.max_organisations]}),(0,A.jsxs)(r.A,{color:"geekblue",children:["Branches: ",t.max_branches]}),(0,A.jsxs)(r.A,{color:"volcano",children:["Users: ",t.max_users]})]})},{title:"Location",key:"location",render:(e,t)=>(0,A.jsxs)(s.A,{title:"Registered Address",children:[(0,A.jsx)(g,{style:{marginRight:6}}),t.city,", ",t.state]})},{title:"Status",dataIndex:"status",key:"status",render:e=>e?(0,A.jsx)(x.A,{twoToneColor:"#52c41a"}):(0,A.jsx)(f.A,{twoToneColor:"#ff4d4f"})}];var b=a(36621),j=a(26553),v=a(7866),C=a(93504),k=a(12624),w=a(60446),R=a.n(w);const L=[{label:"Email",name:"email",rules:[{required:!0,message:"Please enter email!"},{type:"email",message:"Enter a valid email!"}],component:(0,A.jsx)(b.A,{placeholder:"Enter email"})},{label:"Mobile",name:"mobile",rules:[{required:!0,message:"Please enter mobile number!"}],component:(0,A.jsx)(b.A,{placeholder:"Enter mobile number"})},{label:"Password",name:"password",rules:[{required:!0,message:"Please enter password!"}],component:(0,A.jsx)(b.A.Password,{placeholder:"Enter password"})},{label:"Plan Type",name:"plan_type",rules:[{required:!0,message:"Please select plan type!"}],component:(0,A.jsx)(j.A,{placeholder:"Select plan type",options:[{label:"Starter",value:"starter"},{label:"Standard",value:"standard"},{label:"Pro",value:"pro"}]})},{label:"Max Organisations",name:"max_organisations",rules:[{required:!0,message:"Please enter allowed organisations!"}],component:(0,A.jsx)(v.A,{min:1,style:{width:"100%"}})},{label:"Max Branches",name:"max_branches",rules:[{required:!0,message:"Please enter allowed branches!"}],component:(0,A.jsx)(v.A,{min:1,style:{width:"100%"}})},{label:"Max Users",name:"max_users",rules:[{required:!0,message:"Please enter allowed users!"}],component:(0,A.jsx)(v.A,{min:1,style:{width:"100%"}})},{label:"Address Line 1",name:"address1",component:(0,A.jsx)(b.A,{placeholder:"Address Line 1"})},{label:"Address Line 2",name:"address2",component:(0,A.jsx)(b.A,{placeholder:"Address Line 2"})},{label:"City",name:"city",component:(0,A.jsx)(b.A,{placeholder:"Enter city"})},{label:"State",name:"state",component:(0,A.jsx)(b.A,{placeholder:"Enter state"})},{label:"Pincode",name:"pincode",component:(0,A.jsx)(b.A,{placeholder:"Enter pincode"})},{label:"License Start",name:"license_start",initialValue:R()(),rules:[{required:!0,message:"Please select license start date!"}],component:(0,A.jsx)(C.A,{style:{width:"100%"},format:"YYYY-MM-DD"})},{label:"License Expiry",name:"license_expiry",initialValue:R()().add(1,"year"),rules:[{required:!0,message:"Please select license expiry date!"}],component:(0,A.jsx)(C.A,{style:{width:"100%"},format:"YYYY-MM-DD"})},{label:"Status",name:"status",valuePropName:"checked",component:(0,A.jsx)(k.A,{checkedChildren:"Active",unCheckedChildren:"Inactive"})}],P=()=>(0,A.jsx)(n.r,{config:{title:"Tenant Accounts",columns:y,formItems:L,apiRoutes:(0,i._V)("Tenant"),formColumns:2}}),S=(0,l.memo)(P)},74198:(e,t,a)=>{a.d(t,{_V:()=>n});a(65043);var l=a(91449);a(27038);const n=e=>{const t=l.LE[e]||(0,l.lX)(e);return{get:t.getAll(),create:t.create(),update:t.update(),delete:t.delete()}}},82863:(e,t,a)=>{a.d(t,{r:()=>_});var l=a(89379),n=a(65043),i=a(96651),s=a(47419),r=a(11645),o=a(36621),d=a(26553),c=a(93504),u=a(95206),p=a(33359),m=a(9316),h=a(83003),g=a(62305),x=a(97031),f=a(91449),A=a(60446),y=a.n(A);var b=a(22671),j=a(53986),v=a(83833),C=a(88655),k=a(73847),w=a(70579);const R=["key","name","fieldKey"],L=e=>{const{FormValue:t,onSubmit:a,onCancel:i,formItems:o,onChildCancel:d,formColumns:c,splitLabelAndField:p,nested:m,nestedInputs:h,wrapperCol:x,labelCol:f,initialValues:A,loading:y,form:b,onValuesChange:L}=e,P=c||1;return(0,n.useEffect)((()=>{A&&(null===b||void 0===b||b.setFieldsValue(A))}),[A,b]),(0,w.jsxs)("div",{style:{position:"relative",height:"100%"},children:[(0,w.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"600px 600px",opacity:.1,zIndex:0}}),(0,w.jsxs)(g.A,{form:b,onFinish:e=>{a?a(e):t&&t(e),null===b||void 0===b||b.resetFields()},layout:"vertical",onValuesChange:L,children:[(0,w.jsxs)(s.A,{gutter:[16,16],children:[null===o||void 0===o?void 0:o.map(((e,t)=>{var a;return(0,w.jsx)(r.A,{span:24/P,children:p?(0,w.jsxs)("div",{children:[(0,w.jsxs)(v.A.Text,{strong:!0,children:[e.label," ",(null===(a=e.rules)||void 0===a?void 0:a.some((e=>e.required)))&&(0,w.jsx)(v.A.Text,{type:"danger",children:"*"})]}),(0,w.jsx)(g.A.Item,{name:e.name,rules:e.rules,style:{marginTop:"8px"},children:e.component})]}):(0,w.jsx)(g.A.Item,{label:(0,w.jsx)(v.A.Text,{strong:!0,children:e.label}),name:e.name,rules:e.rules,labelCol:{span:f},wrapperCol:{span:x},children:e.component})},t)})),m&&(0,w.jsx)(g.A.List,{name:"nestedItems",children:(e,t)=>{let{add:a,remove:n}=t;return(0,w.jsxs)(w.Fragment,{children:[e.map((e=>{let{key:t,name:a,fieldKey:i}=e,o=(0,j.A)(e,R);return(0,w.jsxs)(s.A,{gutter:[16,16],align:"middle",children:[h.map(((e,t)=>(0,w.jsx)(r.A,{children:(0,w.jsx)(g.A.Item,(0,l.A)((0,l.A)({},o),{},{name:[a,e.name],fieldKey:[i,e.name],rules:[{required:!0,message:"Missing ".concat(e.label)}],label:e.label,children:e.component}))},t))),(0,w.jsx)(r.A,{children:(0,w.jsx)(C.A,{onClick:()=>n(a)})})]},t)})),(0,w.jsx)(s.A,{justify:"center",children:(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{type:"primary",onClick:()=>a(),icon:(0,w.jsx)(k.A,{}),children:"Add More Field"})})})]})}})]}),(0,w.jsxs)(s.A,{justify:"end",gutter:[16,16],style:{padding:"16px"},children:[(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{onClick:()=>{i?i():d&&d(!1),null===b||void 0===b||b.resetFields()},children:"Cancel"})}),(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{type:"primary",htmlType:"submit",loading:y,children:"Submit"})})]})]})]})};var P=a(4413);function S(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{title:"Actions",key:"actions",render:(n,s)=>(0,w.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,w.jsx)(i.A,{title:"Edit ".concat(e),children:(0,w.jsx)(p.A,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>t(s)})}),(0,w.jsx)(i.A,{title:"Delete ".concat(e),children:(0,w.jsx)(m.A,{style:{cursor:l?"not-allowed":"pointer",color:l?"#d9d9d9":"#ff4d4f",opacity:l?.5:1},onClick:()=>!l&&a(s)})})]})}}const _=e=>{let{config:t,filters:a=[],onFilterChange:i,customButtons:p=[],onValuesChange:m}=e;const{loading:A,createLoading:j,updateLoading:v,deleteLoading:C,items:k,pagination:R,drawerVisible:_,initialValues:E,form:F,handleEdit:V,handleDelete:I,handleDrawerOpen:O,resetForm:M,handleSubmit:T,handlePaginationChange:z,columns:q,formItems:D,formColumns:B=2,drawerWidth:Y,filterValues:K,setFilterValues:N}=(e=>{const t=(0,h.wA)(),[a]=g.A.useForm(),[i,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)({}),[d,c]=(0,n.useState)({}),[u,p]=(0,n.useState)({current:1,pageSize:10}),{loading:m,items:A}=(0,x.Sm)(e.apiRoutes.get.identifier),{loading:b,items:j,error:v}=(0,x.Sm)(e.apiRoutes.create.identifier),{loading:C,items:k,error:w}=(0,x.Sm)(e.apiRoutes.update.identifier),{loading:R,items:L,error:P}=(0,x.Sm)(e.apiRoutes.delete.identifier),S=(0,n.useCallback)(((e,a,l,n)=>{t((0,x.s7)({method:e,endpoint:a,data:l},n))}),[t]),_=(0,n.useCallback)((()=>{const t=(0,l.A)((0,l.A)({},d),{},{pageNumber:u.current,pageLimit:u.pageSize});S(e.apiRoutes.get.method,e.apiRoutes.get.endpoint,t,e.apiRoutes.get.identifier)}),[S,e.apiRoutes.get,d,u]),E=(0,n.useCallback)((t=>{S(e.apiRoutes.create.method,e.apiRoutes.create.endpoint,t,e.apiRoutes.create.identifier)}),[S,e.apiRoutes.create]),F=(0,n.useCallback)(((t,a)=>{S(e.apiRoutes.update.method,"".concat(e.apiRoutes.update.endpoint,"/").concat(t),a,e.apiRoutes.update.identifier)}),[S,e.apiRoutes.update]),V=(0,n.useCallback)((t=>{S(e.apiRoutes.delete.method,"".concat(e.apiRoutes.delete.endpoint,"/").concat(t),{_id:t},e.apiRoutes.delete.identifier)}),[S,e.apiRoutes.delete]),I=(0,n.useCallback)(((e,t)=>{p({current:e,pageSize:t})}),[]);function O(e){return/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/.test(e)}const M=(0,n.useCallback)((e=>{const t={};for(const a in e){const l=e[a];"string"===typeof l&&O(l)&&y()(l,void 0,!0).isValid()?t[a]=y()(l):t[a]=l}o(t),s(!0)}),[]),T=(0,n.useCallback)((e=>{V(e._id)}),[V]),z=(0,n.useCallback)((()=>{s(!0)}),[]),q=(0,n.useCallback)((()=>{s(!1),o({}),a.resetFields()}),[a]),D=(0,n.useCallback)((e=>{r._id?F(r._id,e):E(e)}),[r._id,E,F]);return(0,n.useEffect)((()=>{if(200===(null===j||void 0===j?void 0:j.statusCode))(0,f.P0)("success","".concat(e.title," created successfully")),_(),q(),t((0,x.Ki)(e.apiRoutes.create.identifier));else if(v){const t=v.message||"Failed to create ".concat(e.title);(0,f.P0)("error",t)}}),[j,v,e.title,_,q,t,e.apiRoutes.create.identifier]),(0,n.useEffect)((()=>{if(200===(null===k||void 0===k?void 0:k.statusCode))(0,f.P0)("success","".concat(e.title," updated successfully")),_(),q(),t((0,x.Ki)(e.apiRoutes.update.identifier));else if(w){const t=w.message||"Failed to update ".concat(e.title);(0,f.P0)("error",t)}}),[k,w,e.title,_,q,t,e.apiRoutes.update.identifier]),(0,n.useEffect)((()=>{if(200===(null===L||void 0===L?void 0:L.statusCode))(0,f.P0)("success","".concat(e.title," deleted successfully")),_(),t((0,x.Ki)(e.apiRoutes.delete.identifier));else if(P){const t=P.message||"Failed to delete ".concat(e.title);(0,f.P0)("error",t)}}),[L,P,e.title,_,t,e.apiRoutes.delete.identifier]),(0,n.useEffect)((()=>{_()}),[_]),(0,l.A)({loading:m,createLoading:b,updateLoading:C,deleteLoading:R,items:null===A||void 0===A?void 0:A.result,pagination:null===A||void 0===A?void 0:A.pagination,drawerVisible:i,initialValues:r,form:a,filterValues:d,setFilterValues:c,handleEdit:M,handleDelete:T,handleDrawerOpen:z,resetForm:q,handleSubmit:D,handlePaginationChange:I},e)})(t),U=(0,n.useCallback)(((e,t)=>{const a=(0,l.A)((0,l.A)({},K),{},{[e]:t});N(a),i&&i(a)}),[K,N,i]),Z=(0,n.useMemo)((()=>[...q,S(t.title,V,I,C)]),[q,t.title,V,I,C]);return(0,w.jsxs)("div",{children:[(0,w.jsxs)(s.A,{justify:"space-between",align:"bottom",gutter:[16,16],style:{marginBottom:16},children:[(0,w.jsx)(r.A,{flex:"auto",children:(0,w.jsx)("h1",{style:{margin:0},children:t.title})}),(0,w.jsx)(r.A,{children:(0,w.jsxs)(s.A,{gutter:[12,12],align:"bottom",justify:"end",wrap:!0,children:[a.map((e=>{var t;return(0,w.jsxs)(r.A,{children:["input"===e.type&&(0,w.jsx)(o.A,{placeholder:e.placeholder||e.label,value:K[e.key]||"",onChange:t=>U(e.key,t.target.value),style:{width:e.width||200},disabled:j||v||C}),"select"===e.type&&(0,w.jsx)(d.A,{placeholder:e.placeholder||e.label,value:K[e.key],onChange:t=>{U(e.key,t),e.onChange&&e.onChange(t)},allowClear:!0,style:{width:e.width||200},disabled:e.disabled||j||v||C,children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,w.jsx)(d.A.Option,{value:e.value,children:e.label},e.value)))}),"date"===e.type&&(0,w.jsx)(c.A,{placeholder:e.placeholder||e.label,value:K[e.key],onChange:t=>U(e.key,t),style:{width:e.width||200},disabled:j||v||C})]},e.key)})),(0,w.jsx)(r.A,{children:(0,w.jsx)(o.A,{placeholder:"Search ".concat(t.title),value:K.searchString||"",onChange:e=>U("searchString",e.target.value),style:{width:200},disabled:j||v||C})}),p.map((e=>(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{type:e.type||"default",onClick:e.onClick,icon:e.icon,disabled:j||v||C,children:e.label})},e.key))),(0,w.jsx)(r.A,{children:(0,w.jsxs)(u.Ay,{type:"primary",onClick:O,loading:j,disabled:j,children:["Add ",t.title]})})]})})]}),(0,w.jsx)(P.A,{columns:Z,data:k,loading:A||C,rowKeyField:"_id",totalCount:(null===R||void 0===R?void 0:R.totalCount)||0,pageLimit:(null===R||void 0===R?void 0:R.pageLimit)||10,onPaginationChange:z}),(0,w.jsx)(b.A,{title:"".concat(E._id?"Edit":"Add"," ").concat(t.title),open:_,onClose:j||v?()=>{}:M,width:Y,children:(0,w.jsx)(L,{form:F,formItems:D,formColumns:B,initialValues:E,onSubmit:T,onCancel:M,onValuesChange:m,loading:j||v})})]})}},87534:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"};var i=a(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(this,arguments)}const r=(e,t)=>l.createElement(i.A,s({},e,{ref:t,icon:n}));const o=l.forwardRef(r)}}]);
//# sourceMappingURL=72.3501bd6b.chunk.js.map