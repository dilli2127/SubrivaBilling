{"version":3,"file":"static/js/4420.8cca4098.chunk.js","mappings":"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","sources":["webpack://SUBRIVA-BILLING/./src/pages/Settings/Settings.module.css?720b","pages/Settings/tabs/BusinessInfoTab.tsx","pages/Settings/tabs/TaxTab.tsx","pages/Settings/tabs/InvoiceTab.tsx","pages/Settings/tabs/PrinterTab.tsx","pages/Settings/tabs/DefaultsTab.tsx","pages/Settings/tabs/NotificationsTab.tsx","pages/Settings/tabs/TemplateSettingsTab.tsx","pages/Settings/tabs/BankDetailsTab.tsx","pages/Settings/tabs/PaymentQRTab.tsx","pages/Settings/tabs/SystemTab.tsx","pages/Settings/tabs/SubscriptionTab.tsx","pages/Settings/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"settingsContainer\":\"Settings_settingsContainer__kj-pI\",\"pageHeader\":\"Settings_pageHeader__H4a97\",\"pageTitle\":\"Settings_pageTitle__TlV+s\",\"tabsCard\":\"Settings_tabsCard__P-nek\",\"sectionTitle\":\"Settings_sectionTitle__Vpoel\",\"settingsForm\":\"Settings_settingsForm__UU11S\",\"formSection\":\"Settings_formSection__eeShx\",\"uploadArea\":\"Settings_uploadArea__y7MC7\",\"logoPreview\":\"Settings_logoPreview__mTRGE\",\"formActions\":\"Settings_formActions__hSL8G\",\"infoBox\":\"Settings_infoBox__bNA9f\",\"successBox\":\"Settings_successBox__fy43A\",\"warningBox\":\"Settings_warningBox__53Aae\",\"taxRateInput\":\"Settings_taxRateInput__G9OMc\",\"printerTestButton\":\"Settings_printerTestButton__QyyS9\",\"defaultsGrid\":\"Settings_defaultsGrid__qu3mL\",\"notificationItem\":\"Settings_notificationItem__YwxfM\",\"notificationLabel\":\"Settings_notificationLabel__eRv69\",\"notificationTitle\":\"Settings_notificationTitle__xzsIM\",\"notificationDesc\":\"Settings_notificationDesc__JAi46\",\"currentModeInfo\":\"Settings_currentModeInfo__Wp+F3\"};","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Input,\r\n  Select,\r\n  Space,\r\n  Divider,\r\n  Switch,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport {\r\n  ShopOutlined,\r\n  SaveOutlined,\r\n  FileProtectOutlined,\r\n  EnvironmentOutlined,\r\n  GlobalOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst businessTypes = [\r\n  { name: \"Supermarket / Grocery Store\" },\r\n  { name: \"Medical / Pharmacy\" },\r\n  { name: \"Hardware Store\" },\r\n  { name: \"Hardware and Electronics Store\" },\r\n  { name: \"Electronics Store\" },\r\n  { name: \"Stationery / Book Store\" },\r\n  { name: \"Clothing / Textile Store\" },\r\n  { name: \"Footwear Store\" },\r\n  { name: \"Bakery / Sweet Shop\" },\r\n  { name: \"Fruits & Vegetables Shop\" },\r\n  { name: \"Furniture Store\" },\r\n  { name: \"Automobile / Spare Parts\" },\r\n  { name: \"Mobile Accessories Store\" },\r\n  { name: \"Cosmetics / Beauty Store\" },\r\n  { name: \"Jewellery / Fancy Store\" },\r\n  { name: \"Pet Store\" },\r\n  { name: \"General Store\" },\r\n  { name: \"Wholesale Business\" },\r\n  { name: \"Computer & Laptop Store\" },\r\n  { name: \"Mobile And Laptop Store\" },\r\n  { name: \"Electrical Store\" },\r\n  { name: \"Restaurant / Caf\" },\r\n];\r\n\r\nconst BusinessInfoTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <ShopOutlined />\r\n        Business Information\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Configure your business details, GST information, and address. This information will be displayed on invoices and bills.\r\n      </div>\r\n\r\n      <Divider>Basic Information</Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Organization Name\"\r\n            name=\"org_name\"\r\n            rules={[{ required: true, message: 'Please enter organization name!' }]}\r\n          >\r\n            <Input placeholder=\"Enter organization name\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Business Type\"\r\n            name=\"business_type\"\r\n            rules={[{ required: true, message: 'Please select business type!' }]}\r\n          >\r\n            <Select\r\n              placeholder=\"Select business type\"\r\n              showSearch\r\n              filterOption={(input, option) =>\r\n                (option?.label ?? '').toLowerCase().includes(input.toLowerCase())\r\n              }\r\n              options={businessTypes.map(type => ({\r\n                value: type.name,\r\n                label: type.name,\r\n              }))}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            rules={[\r\n              { required: true, message: 'Please enter email!' },\r\n              { type: 'email', message: 'Please enter a valid email!' },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"Enter email\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Phone\"\r\n            name=\"phone\"\r\n            rules={[{ required: true, message: 'Please enter phone number!' }]}\r\n          >\r\n            <Input placeholder=\"Enter phone number\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>\r\n        <FileProtectOutlined /> Tax & Legal Information\r\n      </Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"GST Number\"\r\n            name=\"gst_number\"\r\n            extra=\"15-digit GST identification number\"\r\n          >\r\n            <Input placeholder=\"e.g., 27AAPFU0939F1ZV\" maxLength={15} />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"PAN Number\"\r\n            name=\"pan_number\"\r\n            extra=\"10-character PAN\"\r\n          >\r\n            <Input placeholder=\"e.g., AAPFU0939F\" maxLength={10} style={{ textTransform: 'uppercase' }} />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>\r\n        <EnvironmentOutlined /> Address Information\r\n      </Divider>\r\n\r\n      <Form.Item\r\n        label=\"Address\"\r\n        name=\"address1\"\r\n      >\r\n        <TextArea placeholder=\"Enter complete address\" rows={3} />\r\n      </Form.Item>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={8}>\r\n          <Form.Item\r\n            label=\"City\"\r\n            name=\"city\"\r\n          >\r\n            <Input placeholder=\"Enter city\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={8}>\r\n          <Form.Item\r\n            label=\"State\"\r\n            name=\"state\"\r\n          >\r\n            <Input placeholder=\"Enter state\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={8}>\r\n          <Form.Item\r\n            label=\"Pincode\"\r\n            name=\"pincode\"\r\n          >\r\n            <Input placeholder=\"Enter pincode\" maxLength={6} />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>\r\n        <GlobalOutlined /> Additional Settings\r\n      </Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Currency\"\r\n            name=\"currency\"\r\n            extra=\"e.g., INR, USD, EUR\"\r\n          >\r\n            <Input placeholder=\"INR\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Timezone\"\r\n            name=\"timezone\"\r\n            extra=\"e.g., Asia/Kolkata\"\r\n          >\r\n            <Input placeholder=\"Asia/Kolkata\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Organisation Status\"\r\n        name=\"status\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Enable or disable this organisation\"\r\n      >\r\n        <Switch checkedChildren=\"Active\" unCheckedChildren=\"Inactive\" />\r\n      </Form.Item>\r\n\r\n      <div className={styles.successBox}>\r\n         <strong>Note:</strong> This information is stored in your organisation profile and will be used across all invoices and reports.\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Business Information\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default BusinessInfoTab;\r\n\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  Select,\r\n  Space,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  PercentageOutlined,\r\n  SaveOutlined,\r\n  FileTextOutlined,\r\n} from '@ant-design/icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst TaxTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <PercentageOutlined />\r\n        Tax Configuration\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Global tax settings. Tax rates are configured per category, and tax inclusion is handled at billing level.\r\n      </div>\r\n\r\n      <Form.Item\r\n        label=\"Enable Tax/GST\"\r\n        name=\"tax_enabled\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Enable or disable tax calculation across the entire application\"\r\n      >\r\n        <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Tax Type\"\r\n        name=\"tax_type\"\r\n        extra=\"Select the type of tax applicable to your business\"\r\n      >\r\n        <Select>\r\n          <Option value=\"GST\">GST (India)</Option>\r\n          <Option value=\"VAT\">VAT</Option>\r\n          <Option value=\"Sales Tax\">Sales Tax</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Divider>Tax Rate Configuration</Divider>\r\n\r\n      <div className={styles.warningBox}>\r\n         <strong>Tax Rates:</strong> Configured individually for each product category.<br />\r\n        Go to <strong>Products  Category</strong> to set specific tax rates (e.g., Food: 5%, Electronics: 18%).\r\n      </div>\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%', marginTop: 16 }}>\r\n        <Button\r\n          type=\"dashed\"\r\n          icon={<PercentageOutlined />}\r\n          onClick={() => navigate('/category_crud')}\r\n          block\r\n        >\r\n          Go to Category Management\r\n        </Button>\r\n      </Space>\r\n\r\n      <Divider>Tax Inclusion</Divider>\r\n\r\n      <div className={styles.warningBox}>\r\n         <strong>Tax Inclusive/Exclusive:</strong> Handled at the billing level.<br />\r\n        You can choose tax inclusion per bill in the <strong>Billing Page</strong>.\r\n      </div>\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%', marginTop: 16 }}>\r\n        <Button\r\n          type=\"dashed\"\r\n          icon={<FileTextOutlined />}\r\n          onClick={() => navigate('/retaill_billing')}\r\n          block\r\n        >\r\n          Go to Billing Page\r\n        </Button>\r\n      </Space>\r\n\r\n      <Divider />\r\n\r\n      <div className={styles.successBox}>\r\n         <strong>Your Tax System Architecture:</strong><br />\r\n         <strong>Global (Here):</strong> Enable/Disable tax & Tax type (GST/VAT)<br />\r\n         <strong>Category Level:</strong> Tax rates per product category<br />\r\n         <strong>Billing Level:</strong> Tax inclusive/exclusive per bill\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Tax Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default TaxTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Switch,\r\n  InputNumber,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  FileTextOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst InvoiceTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <FileTextOutlined />\r\n        Invoice Settings\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Customize how your invoices are generated and displayed\r\n      </div>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Invoice Prefix\"\r\n            name=\"invoice_prefix\"\r\n            rules={[{ required: true }]}\r\n            extra=\"e.g., INV, BILL, REC\"\r\n          >\r\n            <Input placeholder=\"INV\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Starting Invoice Number\"\r\n            name=\"invoice_starting_number\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <InputNumber min={1} style={{ width: '100%' }} />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Invoice Footer Text\"\r\n        name=\"invoice_footer\"\r\n        extra=\"This text will appear at the bottom of invoices\"\r\n      >\r\n        <TextArea\r\n          rows={3}\r\n          placeholder=\"Thank you for your business!\"\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Terms & Conditions\"\r\n        name=\"invoice_terms\"\r\n      >\r\n        <TextArea\r\n          rows={4}\r\n          placeholder=\"Enter terms and conditions...\"\r\n        />\r\n      </Form.Item>\r\n\r\n      <Divider>Display Options</Divider>\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%' }}>\r\n        <Form.Item\r\n          label=\"Show Logo on Invoice\"\r\n          name=\"show_logo_on_invoice\"\r\n          valuePropName=\"checked\"\r\n        >\r\n          <Switch />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Show Terms & Conditions on Invoice\"\r\n          name=\"show_terms_on_invoice\"\r\n          valuePropName=\"checked\"\r\n        >\r\n          <Switch />\r\n        </Form.Item>\r\n      </Space>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Invoice Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default InvoiceTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  Select,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport {\r\n  PrinterOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { PrinterTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst PrinterTab: React.FC<PrinterTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n  onTestPrinter,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <PrinterOutlined />\r\n        Thermal Printer Configuration\r\n      </div>\r\n\r\n      <div className={styles.warningBox}>\r\n         Make sure your thermal printer is connected before testing\r\n      </div>\r\n\r\n      <Form.Item\r\n        label=\"Enable Thermal Printer\"\r\n        name=\"thermal_printer_enabled\"\r\n        valuePropName=\"checked\"\r\n      >\r\n        <Switch />\r\n      </Form.Item>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Printer Port\"\r\n            name=\"printer_port\"\r\n          >\r\n            <Select>\r\n              <Option value=\"COM1\">COM1</Option>\r\n              <Option value=\"COM2\">COM2</Option>\r\n              <Option value=\"COM3\">COM3</Option>\r\n              <Option value=\"USB\">USB</Option>\r\n              <Option value=\"Bluetooth\">Bluetooth</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Baud Rate\"\r\n            name=\"printer_baud_rate\"\r\n          >\r\n            <Select>\r\n              <Option value={9600}>9600</Option>\r\n              <Option value={19200}>19200</Option>\r\n              <Option value={38400}>38400</Option>\r\n              <Option value={115200}>115200</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Paper Width (mm)\"\r\n            name=\"paper_width\"\r\n          >\r\n            <Select>\r\n              <Option value={58}>58mm (2 inch)</Option>\r\n              <Option value={80}>80mm (3 inch)</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Auto Print After Bill\"\r\n        name=\"auto_print\"\r\n        valuePropName=\"checked\"\r\n      >\r\n        <Switch />\r\n      </Form.Item>\r\n\r\n      <Button\r\n        type=\"dashed\"\r\n        icon={<PrinterOutlined />}\r\n        onClick={onTestPrinter}\r\n        className={styles.printerTestButton}\r\n      >\r\n        Test Printer\r\n      </Button>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Printer Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default PrinterTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Select,\r\n} from 'antd';\r\nimport {\r\n  CheckCircleOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { DefaultsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst DefaultsTab: React.FC<DefaultsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <CheckCircleOutlined />\r\n        Default Values\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        These values will be pre-selected when creating new records\r\n      </div>\r\n\r\n      <div className={styles.defaultsGrid}>\r\n        <Form.Item\r\n          label=\"Default Payment Mode\"\r\n          name=\"default_payment_mode\"\r\n          extra=\"Pre-selected payment method for new bills\"\r\n        >\r\n          <Select placeholder=\"Select default payment mode\">\r\n            <Option value=\"cash\"> Cash</Option>\r\n            <Option value=\"upi\"> UPI</Option>\r\n            <Option value=\"card\"> Card</Option>\r\n            <Option value=\"credit\"> Credit</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Default Document Print Type\"\r\n          name=\"default_document_type\"\r\n          extra=\"Default print format when creating new bills\"\r\n        >\r\n          <Select placeholder=\"Select default document type\">\r\n            <Option value=\"bill\"> Bill (Retail / Quick)</Option>\r\n            <Option value=\"invoice\"> Invoice (Formal / Detailed)</Option>\r\n          </Select>\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Default Values\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default DefaultsTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  InputNumber,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  BellOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst NotificationsTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <BellOutlined />\r\n        Notification Preferences\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Control how and when you receive notifications\r\n      </div>\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Email Notifications</div>\r\n          <div className={styles.notificationDesc}>\r\n            Receive notifications via email\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"email_notifications\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>SMS Notifications</div>\r\n          <div className={styles.notificationDesc}>\r\n            Receive notifications via SMS\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"sms_notifications\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Low Stock Alerts</div>\r\n          <div className={styles.notificationDesc}>\r\n            Get notified when product stock is low\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"low_stock_alert\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <Form.Item\r\n        label=\"Low Stock Threshold\"\r\n        name=\"low_stock_threshold\"\r\n        extra=\"Notify when stock goes below this quantity\"\r\n      >\r\n        <InputNumber min={0} style={{ width: 200 }} />\r\n      </Form.Item>\r\n\r\n      <Divider />\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Payment Reminders</div>\r\n          <div className={styles.notificationDesc}>\r\n            Send reminders for pending payments\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"payment_reminder\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Daily Report Email</div>\r\n          <div className={styles.notificationDesc}>\r\n            Receive daily sales report via email\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"daily_report_email\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Notification Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default NotificationsTab;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Divider,\r\n  Modal,\r\n  Card,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport {\r\n  FileTextOutlined,\r\n  SaveOutlined,\r\n  EyeOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\nimport { billTemplates, invoiceTemplates, BillTemplateKey, InvoiceTemplateKey } from '../../RetaillBill/templates/registry';\r\nimport { useUser } from '../../../components/antd/UserContext';\r\n\r\nconst TemplateSettingsTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const userItem = useUser();\r\n  const [previewKey, setPreviewKey] = useState<string | null>(null);\r\n  const [previewType, setPreviewType] = useState<'bill' | 'invoice'>('bill');\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  const billTemplate = Form.useWatch('bill_template', form);\r\n  const invoiceTemplate = Form.useWatch('invoice_template', form);\r\n\r\n  // Generate preview data using actual organization info\r\n  const getPreviewData = () => ({\r\n    customerName: 'Sample Customer',\r\n    customerAddress: 'Sample Address, City',\r\n    customerPhone: '+91 9999999999',\r\n    customerEmail: 'customer@example.com',\r\n    date: new Date().toISOString(),\r\n    invoice_no: 'PREVIEW-001',\r\n    payment_mode: 'Cash',\r\n    items: [\r\n      { \r\n        name: 'Sample Product 1', \r\n        product_name: 'Sample Product 1',\r\n        qty: 2, \r\n        price: 100, \r\n        amount: 200,\r\n        tax_percentage: 18,\r\n        hsn_code: '1234',\r\n        mrp: 120,\r\n        unit: 'Pcs'\r\n      },\r\n      { \r\n        name: 'Sample Product 2', \r\n        product_name: 'Sample Product 2',\r\n        qty: 1, \r\n        price: 150, \r\n        amount: 150,\r\n        tax_percentage: 18,\r\n        hsn_code: '5678',\r\n        mrp: 180,\r\n        unit: 'Pcs'\r\n      },\r\n    ],\r\n    total: 350,\r\n    total_gst: 63,\r\n    cgst: 31.5,\r\n    sgst: 31.5,\r\n    discount: 0,\r\n    discount_type: 'percentage',\r\n    is_paid: true,\r\n    is_partially_paid: false,\r\n    paid_amount: 350,\r\n  });\r\n\r\n  const handlePreview = (key: string, type: 'bill' | 'invoice') => {\r\n    setPreviewKey(key);\r\n    setPreviewType(type);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleUseTemplate = () => {\r\n    if (previewKey) {\r\n      if (previewType === 'bill') {\r\n        form.setFieldValue('bill_template', previewKey);\r\n      } else {\r\n        form.setFieldValue('invoice_template', previewKey);\r\n      }\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n    setPreviewKey(null);\r\n  };\r\n\r\n  const renderTemplateSelector = (\r\n    type: 'bill' | 'invoice',\r\n    selectedKey: string,\r\n    fieldName: string\r\n  ) => {\r\n    const templates = type === 'bill' ? billTemplates : invoiceTemplates;\r\n    \r\n    return (\r\n      <Row gutter={[16, 16]}>\r\n        {Object.entries(templates).map(([key, tpl]) => {\r\n          const isSelected = selectedKey === key;\r\n\r\n          return (\r\n            <Col xs={24} sm={12} md={8} lg={6} key={key}>\r\n              <Card\r\n                hoverable\r\n                style={{\r\n                  border: isSelected ? '2px solid #4e54c8' : '1px solid #eee',\r\n                  borderRadius: 12,\r\n                  boxShadow: isSelected\r\n                    ? '0 4px 16px #4e54c855'\r\n                    : '0 2px 8px rgba(0,0,0,0.06)',\r\n                  background: isSelected\r\n                    ? 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'\r\n                    : '#fff',\r\n                  textAlign: 'center',\r\n                  transition: 'all 0.3s',\r\n                }}\r\n                onClick={() => form.setFieldValue(fieldName, key)}\r\n                bodyStyle={{ padding: 16 }}\r\n              >\r\n                {/* Miniature preview */}\r\n                <div\r\n                  style={{\r\n                    width: '100%',\r\n                    height: 120,\r\n                    overflow: 'hidden',\r\n                    borderRadius: 8,\r\n                    boxShadow: '0 1px 4px rgba(0,0,0,0.07)',\r\n                    background: '#fff',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    border: '1px solid #e0e0e0',\r\n                    marginBottom: 12,\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: 750,\r\n                      height: 400,\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      transform: 'scale(0.22)',\r\n                      transformOrigin: 'center center',\r\n                    pointerEvents: 'none',\r\n                  }}\r\n                >\r\n                  <tpl.component billData={getPreviewData()} />\r\n                </div>\r\n                </div>\r\n\r\n                <div\r\n                  style={{\r\n                    fontWeight: 600,\r\n                    fontSize: 16,\r\n                    marginBottom: 4,\r\n                    color: isSelected ? '#4e54c8' : '#333',\r\n                  }}\r\n                >\r\n                  {tpl.label}\r\n                </div>\r\n                \r\n                <div\r\n                  style={{\r\n                    fontSize: 12,\r\n                    color: '#666',\r\n                    marginBottom: 8,\r\n                  }}\r\n                >\r\n                  {tpl.description}\r\n                </div>\r\n\r\n                {isSelected && (\r\n                  <div\r\n                    style={{\r\n                      color: '#4e54c8',\r\n                      fontWeight: 500,\r\n                      fontSize: 12,\r\n                      marginBottom: 8,\r\n                    }}\r\n                  >\r\n                     Selected\r\n                  </div>\r\n                )}\r\n\r\n                <Button\r\n                  type=\"primary\"\r\n                  ghost\r\n                  size=\"small\"\r\n                  icon={<EyeOutlined />}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handlePreview(key, type);\r\n                  }}\r\n                >\r\n                  Preview\r\n                </Button>\r\n              </Card>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n        <div className={styles.sectionTitle}>\r\n          <FileTextOutlined />\r\n          Template Settings\r\n        </div>\r\n\r\n        <div className={styles.infoBox}>\r\n          Select your preferred templates for bills and invoices. These templates will be used when printing or generating PDFs.\r\n        </div>\r\n\r\n        <Divider>Bill Template (For Quick Sales / Retail)</Divider>\r\n\r\n        <div className={styles.successBox}>\r\n           <strong>Bill Template:</strong> Used for quick retail sales and POS billing\r\n        </div>\r\n\r\n        <Form.Item name=\"bill_template\">\r\n          {renderTemplateSelector('bill', billTemplate, 'bill_template')}\r\n        </Form.Item>\r\n\r\n        <Divider>Invoice Template (For Formal Invoices)</Divider>\r\n\r\n        <div className={styles.successBox}>\r\n           <strong>Invoice Template:</strong> Used for formal invoices with detailed information\r\n        </div>\r\n\r\n        <Form.Item name=\"invoice_template\">\r\n          {renderTemplateSelector('invoice', invoiceTemplate, 'invoice_template')}\r\n        </Form.Item>\r\n\r\n        <div className={styles.warningBox}>\r\n           <strong>Tip:</strong> You can preview each template before selecting. Click the template card to select it, or click \"Preview\" for a full-size view.\r\n        </div>\r\n\r\n        <div className={styles.formActions}>\r\n          <Button onClick={onReset}>Reset</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<SaveOutlined />}\r\n            onClick={onSave}\r\n            loading={loading}\r\n          >\r\n            Save Template Settings\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n\r\n      {/* Preview Modal */}\r\n      <Modal\r\n        open={modalOpen}\r\n        onCancel={closeModal}\r\n        footer={[\r\n          <Button key=\"use\" type=\"primary\" onClick={handleUseTemplate}>\r\n            Use this template\r\n          </Button>,\r\n          <Button key=\"close\" onClick={closeModal}>\r\n            Close\r\n          </Button>,\r\n        ]}\r\n        width={800}\r\n        title={\r\n          previewKey\r\n            ? `${previewType === 'bill' ? billTemplates[previewKey as BillTemplateKey]?.label : invoiceTemplates[previewKey as InvoiceTemplateKey]?.label} Preview`\r\n            : ''\r\n        }\r\n        centered\r\n        destroyOnClose\r\n      >\r\n        {previewKey && (\r\n          <div\r\n            style={{\r\n              background: '#fafafa',\r\n              borderRadius: 12,\r\n              padding: 16,\r\n              minHeight: 300,\r\n            }}\r\n          >\r\n            {React.createElement(\r\n              previewType === 'bill' \r\n                ? billTemplates[previewKey as BillTemplateKey].component \r\n                : invoiceTemplates[previewKey as InvoiceTemplateKey].component,\r\n              { billData: getPreviewData() }\r\n            )}\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TemplateSettingsTab;\r\n\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Select,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  BankOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst BankDetailsTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <BankOutlined />\r\n        Bank Account Details\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Add your bank account details to display on invoices and bills\r\n      </div>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Bank Name\"\r\n            name=\"bank_name\"\r\n            extra=\"e.g., State Bank of India, HDFC Bank\"\r\n          >\r\n            <Input placeholder=\"Enter bank name\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Account Holder Name\"\r\n            name=\"account_holder_name\"\r\n            extra=\"Name as per bank records\"\r\n          >\r\n            <Input placeholder=\"Enter account holder name\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Account Number\"\r\n            name=\"account_number\"\r\n          >\r\n            <Input placeholder=\"Enter account number\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Account Type\"\r\n            name=\"account_type\"\r\n          >\r\n            <Select placeholder=\"Select account type\">\r\n              <Option value=\"savings\">Savings Account</Option>\r\n              <Option value=\"current\">Current Account</Option>\r\n              <Option value=\"overdraft\">Overdraft Account</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>Bank Branch Information</Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"IFSC Code\"\r\n            name=\"ifsc_code\"\r\n            extra=\"11-digit code for bank branch\"\r\n          >\r\n            <Input \r\n              placeholder=\"e.g., SBIN0001234\" \r\n              maxLength={11}\r\n              style={{ textTransform: 'uppercase' }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Branch Name\"\r\n            name=\"branch_name\"\r\n          >\r\n            <Input placeholder=\"Enter branch name\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>Digital Payment Details</Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"UPI ID\"\r\n            name=\"upi_id\"\r\n            extra=\"For digital payments (e.g., yourname@upi)\"\r\n          >\r\n            <Input placeholder=\"Enter UPI ID\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"SWIFT Code\"\r\n            name=\"swift_code\"\r\n            extra=\"For international transactions (optional)\"\r\n          >\r\n            <Input \r\n              placeholder=\"e.g., SBININBB123\"\r\n              maxLength={11}\r\n              style={{ textTransform: 'uppercase' }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <div className={styles.warningBox}>\r\n         <strong>Note:</strong> Bank details will be displayed on printed invoices and bills. Ensure all information is accurate.\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Bank Details\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default BankDetailsTab;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Switch,\r\n  Select,\r\n  Slider,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n  Card,\r\n  Alert,\r\n  Typography,\r\n  Space,\r\n} from 'antd';\r\nimport {\r\n  QrcodeOutlined,\r\n  SaveOutlined,\r\n  CheckCircleOutlined,\r\n  InfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\nimport { \r\n  generateUPIQRCode, \r\n  isValidUPIId, \r\n  getUPIAppInfo \r\n} from '../../../helpers/upiPayment';\r\n\r\nconst { Option } = Select;\r\nconst { Text, Title, Paragraph } = Typography;\r\n\r\nconst PaymentQRTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const [qrCodePreview, setQrCodePreview] = useState<string>('');\r\n  const [upiValid, setUpiValid] = useState<boolean>(false);\r\n  const [upiAppInfo, setUpiAppInfo] = useState<{ provider: string; appName: string } | null>(null);\r\n  \r\n  // Watch form values for real-time QR preview\r\n  const upiId = Form.useWatch('upi_id', form);\r\n  const enablePaymentQr = Form.useWatch('enable_payment_qr', form);\r\n  const qrSize = Form.useWatch('qr_size', form) || 200;\r\n\r\n  // Generate QR code preview when UPI ID changes\r\n  useEffect(() => {\r\n    const generatePreview = async () => {\r\n      if (!upiId || !isValidUPIId(upiId)) {\r\n        setQrCodePreview('');\r\n        setUpiValid(false);\r\n        setUpiAppInfo(null);\r\n        return;\r\n      }\r\n\r\n      setUpiValid(true);\r\n      setUpiAppInfo(getUPIAppInfo(upiId));\r\n\r\n      try {\r\n        // Get organization name from form or use default\r\n        const orgName = form.getFieldValue('org_name') || 'Your Business';\r\n        \r\n        const qrCode = await generateUPIQRCode({\r\n          upiId: upiId,\r\n          payeeName: orgName,\r\n          transactionNote: 'Payment for Invoice',\r\n        }, {\r\n          width: qrSize,\r\n        });\r\n        \r\n        setQrCodePreview(qrCode);\r\n      } catch (error) {\r\n        console.error('Error generating QR preview:', error);\r\n        setQrCodePreview('');\r\n      }\r\n    };\r\n\r\n    generatePreview();\r\n  }, [upiId, qrSize, form]);\r\n\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <QrcodeOutlined />\r\n        Payment QR Code Settings\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        <Space direction=\"vertical\" size=\"small\">\r\n          <Text>\r\n            <InfoCircleOutlined /> Enable UPI QR codes on your invoices and bills for instant digital payments\r\n          </Text>\r\n          <Text type=\"secondary\" style={{ fontSize: '12px' }}>\r\n            Customers can scan the QR code with Google Pay, PhonePe, Paytm, or any UPI app\r\n          </Text>\r\n        </Space>\r\n      </div>\r\n\r\n      {/* Enable Payment QR */}\r\n      <Form.Item\r\n        label=\"Enable Payment QR Code\"\r\n        name=\"enable_payment_qr\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Show UPI payment QR code on invoices and bills\"\r\n      >\r\n        <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\r\n      </Form.Item>\r\n\r\n      {/* UPI ID Field */}\r\n      <Row gutter={16}>\r\n        <Col span={24}>\r\n          <Form.Item\r\n            label=\"UPI ID\"\r\n            name=\"upi_id\"\r\n            rules={[\r\n              {\r\n                validator: (_, value) => {\r\n                  if (!value) {\r\n                    return Promise.reject('Please enter your UPI ID');\r\n                  }\r\n                  if (!isValidUPIId(value)) {\r\n                    return Promise.reject('Invalid UPI ID format (e.g., 1234567890@ybl)');\r\n                  }\r\n                  return Promise.resolve();\r\n                },\r\n              },\r\n            ]}\r\n            extra=\"Your UPI ID for receiving payments (e.g., 1234567890@ybl)\"\r\n          >\r\n            <Input \r\n              placeholder=\"yourname@upi or phonenumber@ybl\" \r\n              suffix={\r\n                upiValid ? (\r\n                  <CheckCircleOutlined style={{ color: '#52c41a' }} />\r\n                ) : null\r\n              }\r\n            />\r\n          </Form.Item>\r\n          \r\n          {/* Show UPI Provider Info */}\r\n          {upiAppInfo && (\r\n            <Alert\r\n              message={`UPI Provider: ${upiAppInfo.provider}`}\r\n              description={`Compatible with: ${upiAppInfo.appName}`}\r\n              type=\"info\"\r\n              showIcon\r\n              style={{ marginBottom: 16 }}\r\n            />\r\n          )}\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>QR Code Display Options</Divider>\r\n\r\n      {/* Display Options */}\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Show on Invoices\"\r\n            name=\"qr_on_invoice\"\r\n            valuePropName=\"checked\"\r\n            extra=\"Display QR code on formal invoices\"\r\n          >\r\n            <Switch \r\n              checkedChildren=\"Yes\" \r\n              unCheckedChildren=\"No\"\r\n              disabled={!enablePaymentQr}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Show on Bills\"\r\n            name=\"qr_on_bill\"\r\n            valuePropName=\"checked\"\r\n            extra=\"Display QR code on retail bills\"\r\n          >\r\n            <Switch \r\n              checkedChildren=\"Yes\" \r\n              unCheckedChildren=\"No\"\r\n              disabled={!enablePaymentQr}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* QR Code Size */}\r\n      <Form.Item\r\n        label={`QR Code Size: ${qrSize}px`}\r\n        name=\"qr_size\"\r\n        extra=\"Size of the QR code on printed documents\"\r\n      >\r\n        <Slider\r\n          min={100}\r\n          max={300}\r\n          step={10}\r\n          marks={{\r\n            100: '100px',\r\n            150: '150px',\r\n            200: '200px',\r\n            250: '250px',\r\n            300: '300px',\r\n          }}\r\n          disabled={!enablePaymentQr}\r\n        />\r\n      </Form.Item>\r\n\r\n      {/* QR Position */}\r\n      <Form.Item\r\n        label=\"QR Code Position\"\r\n        name=\"qr_position\"\r\n        extra=\"Where to place the QR code on the document\"\r\n      >\r\n        <Select disabled={!enablePaymentQr}>\r\n          <Option value=\"bottom-right\">Bottom Right</Option>\r\n          <Option value=\"bottom-left\">Bottom Left</Option>\r\n          <Option value=\"top-right\">Top Right (Header)</Option>\r\n          <Option value=\"footer\">Footer Center</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      {/* Show UPI ID Text */}\r\n      <Form.Item\r\n        label=\"Show UPI ID Text\"\r\n        name=\"show_upi_id_text\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Display UPI ID below the QR code for manual entry\"\r\n      >\r\n        <Switch \r\n          checkedChildren=\"Show\" \r\n          unCheckedChildren=\"Hide\"\r\n          disabled={!enablePaymentQr}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Divider>QR Code Preview</Divider>\r\n\r\n      {/* QR Code Preview */}\r\n      <Card \r\n        title=\"Live Preview\" \r\n        bordered={false}\r\n        style={{ background: '#fafafa', marginBottom: 24 }}\r\n      >\r\n        {qrCodePreview ? (\r\n          <div style={{ textAlign: 'center' }}>\r\n            <img \r\n              src={qrCodePreview} \r\n              alt=\"UPI QR Code Preview\" \r\n              style={{ \r\n                maxWidth: '100%',\r\n                border: '2px solid #d9d9d9',\r\n                padding: 8,\r\n                background: '#fff',\r\n                borderRadius: 8,\r\n              }}\r\n            />\r\n            {form.getFieldValue('show_upi_id_text') && (\r\n              <div style={{ marginTop: 12 }}>\r\n                <Text strong>UPI ID: </Text>\r\n                <Text code>{upiId}</Text>\r\n              </div>\r\n            )}\r\n            <Paragraph type=\"secondary\" style={{ marginTop: 12, fontSize: '12px' }}>\r\n              Scan this QR code with any UPI app to make payment\r\n            </Paragraph>\r\n          </div>\r\n        ) : (\r\n          <div style={{ textAlign: 'center', padding: '40px 20px' }}>\r\n            <QrcodeOutlined style={{ fontSize: 64, color: '#d9d9d9' }} />\r\n            <Paragraph type=\"secondary\" style={{ marginTop: 12 }}>\r\n              {upiId ? 'Generating QR code...' : 'Enter a valid UPI ID to see preview'}\r\n            </Paragraph>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Instructions */}\r\n      <div className={styles.warningBox}>\r\n        <Title level={5} style={{ marginTop: 0 }}>\r\n           How Customers Will Pay:\r\n        </Title>\r\n        <ol style={{ marginBottom: 0, paddingLeft: 20 }}>\r\n          <li>Customer opens Google Pay, PhonePe, Paytm, or any UPI app</li>\r\n          <li>Taps on \"Scan QR Code\" or \"Pay by QR\"</li>\r\n          <li>Scans the QR code printed on your invoice/bill</li>\r\n          <li>Verifies amount and completes payment</li>\r\n          <li>Payment instantly credited to your account</li>\r\n        </ol>\r\n      </div>\r\n\r\n      <Alert\r\n        message=\"Pro Tip\"\r\n        description=\"For best results, ensure your QR code is at least 150px in size and printed with high contrast (black on white background).\"\r\n        type=\"info\"\r\n        showIcon\r\n        style={{ marginTop: 16 }}\r\n      />\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save QR Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default PaymentQRTab;\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  Input,\r\n  Space,\r\n  Divider,\r\n  Radio,\r\n  Alert,\r\n  message,\r\n} from 'antd';\r\nimport {\r\n  CloudOutlined,\r\n  LaptopOutlined,\r\n  SaveOutlined,\r\n  ReloadOutlined,\r\n  ApiOutlined,\r\n  WarningOutlined,\r\n  InfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\nimport {\r\n  getApiModeConfig,\r\n  setApiModeConfig,\r\n  ApiMode,\r\n  isOfflineModeSupported,\r\n} from '../../../helpers/apiModeHelper';\r\nimport { isElectron } from '../../../helpers/environment';\r\n\r\nconst SystemTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const [apiMode, setApiMode] = useState<ApiMode>('online');\r\n  const [needsReload, setNeedsReload] = useState(false);\r\n  const isElectronApp = isElectron();\r\n  const offlineModeSupported = isOfflineModeSupported();\r\n\r\n  // Load current configuration on mount\r\n  useEffect(() => {\r\n    const config = getApiModeConfig();\r\n    \r\n    // For web, force online mode\r\n    if (!isElectronApp) {\r\n      form.setFieldsValue({\r\n        api_mode: 'online',\r\n        online_url: config.onlineUrl,\r\n        offline_url: config.offlineUrl,\r\n      });\r\n      setApiMode('online');\r\n      // Force save online mode for web\r\n      if (config.mode !== 'online') {\r\n        setApiModeConfig({ mode: 'online' });\r\n      }\r\n    } else {\r\n      // For Electron, use saved configuration\r\n      form.setFieldsValue({\r\n        api_mode: config.mode,\r\n        online_url: config.onlineUrl,\r\n        offline_url: config.offlineUrl,\r\n      });\r\n      setApiMode(config.mode);\r\n    }\r\n  }, [form, isElectronApp]);\r\n\r\n  const handleModeChange = (e: any) => {\r\n    const newMode = e.target.value as ApiMode;\r\n    setApiMode(newMode);\r\n    setNeedsReload(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      \r\n      // Prevent offline mode in web apps\r\n      if (!isElectronApp && values.api_mode === 'offline') {\r\n        message.error('Offline mode is only available in the Electron desktop app.');\r\n        return;\r\n      }\r\n      \r\n      // Get current config\r\n      const defaultConfig = getApiModeConfig();\r\n      \r\n      // Save configuration\r\n      setApiModeConfig({\r\n        mode: values.api_mode,\r\n        onlineUrl: defaultConfig.onlineUrl, // Always use default\r\n        // Only update offline URL if in offline mode, otherwise preserve existing\r\n        offlineUrl: values.api_mode === 'offline' \r\n          ? values.offline_url \r\n          : defaultConfig.offlineUrl,\r\n      });\r\n\r\n      message.success({\r\n        content: 'System settings saved successfully!',\r\n        duration: 3,\r\n      });\r\n\r\n      // Show reload prompt if mode changed\r\n      if (needsReload) {\r\n        message.warning({\r\n          content: 'Please reload the application for changes to take effect.',\r\n          duration: 5,\r\n        });\r\n      }\r\n\r\n      setNeedsReload(false);\r\n    } catch (error) {\r\n      console.error('Validation failed:', error);\r\n      message.error('Please fill in all required fields correctly.');\r\n    }\r\n  };\r\n\r\n  const handleReload = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleReset = () => {\r\n    const config = getApiModeConfig();\r\n    form.setFieldsValue({\r\n      api_mode: config.mode,\r\n      online_url: config.onlineUrl,\r\n      offline_url: config.offlineUrl,\r\n    });\r\n    setApiMode(config.mode);\r\n    setNeedsReload(false);\r\n  };\r\n\r\n  // If web version, show simplified read-only view\r\n  if (!isElectronApp) {\r\n    return (\r\n      <div className={styles.settingsForm}>\r\n        <div className={styles.sectionTitle}>\r\n          <ApiOutlined />\r\n          API Configuration\r\n        </div>\r\n\r\n        <div className={styles.infoBox}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n            <CloudOutlined style={{ color: '#1890ff', fontSize: 16 }} />\r\n            <span><strong>Mode:</strong> Online (Default)</span>\r\n          </div>\r\n        </div>\r\n\r\n        <Alert\r\n          message=\"Need Offline Installation?\"\r\n          description={\r\n            <div>\r\n              <p style={{ marginBottom: 8 }}>\r\n                If you need an offline installation or want to use a local server, please contact Subriva Billing customer care.\r\n              </p>\r\n              <p style={{ marginBottom: 0 }}>\r\n                <strong>Download Desktop App:</strong> The desktop application supports offline mode and local server configuration.\r\n              </p>\r\n            </div>\r\n          }\r\n          type=\"warning\"\r\n          icon={<InfoCircleOutlined />}\r\n          showIcon\r\n          style={{ marginBottom: 16 }}\r\n        />\r\n\r\n        <div className={styles.warningBox}>\r\n          <strong> Contact Information:</strong>\r\n          <ul style={{ marginTop: 8, marginBottom: 0 }}>\r\n            <li>For offline installation support, contact <strong>Subriva Billing Customer Care</strong></li>\r\n            <li>Desktop application download and setup assistance available</li>\r\n            <li>Custom API configuration available in desktop version only</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Desktop app - full configuration available\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <ApiOutlined />\r\n        API Configuration\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Configure the API endpoint mode. Switch between online (remote server) and offline (local development) modes.\r\n      </div>\r\n\r\n      {needsReload && (\r\n        <Alert\r\n          message=\"Reload Required\"\r\n          description=\"You have changed the API mode. Please save and reload the application for changes to take effect.\"\r\n          type=\"warning\"\r\n          icon={<WarningOutlined />}\r\n          showIcon\r\n          closable\r\n          onClose={() => setNeedsReload(false)}\r\n          style={{ marginBottom: 16 }}\r\n          action={\r\n            <Button size=\"small\" type=\"primary\" onClick={handleReload}>\r\n              Reload Now\r\n            </Button>\r\n          }\r\n        />\r\n      )}\r\n\r\n      <Form.Item\r\n        label=\"API Mode\"\r\n        name=\"api_mode\"\r\n        required\r\n        extra=\"Select whether to use online (remote) or offline (local) API\"\r\n        rules={[\r\n          { required: true, message: 'Please select an API mode' },\r\n        ]}\r\n      >\r\n        <Radio.Group onChange={handleModeChange} buttonStyle=\"solid\">\r\n          <Radio.Button value=\"online\">\r\n            <CloudOutlined /> Online\r\n          </Radio.Button>\r\n          <Radio.Button value=\"offline\">\r\n            <LaptopOutlined /> Offline\r\n          </Radio.Button>\r\n        </Radio.Group>\r\n      </Form.Item>\r\n\r\n      {apiMode === 'online' ? (\r\n        <>\r\n          <Divider />\r\n          \r\n          <Alert\r\n            message=\"You are in Online Mode\"\r\n            description=\"Connected to default hosted server. All data will sync to online.\"\r\n            type=\"info\"\r\n            icon={<CloudOutlined />}\r\n            showIcon\r\n            style={{ marginBottom: 16 }}\r\n          />\r\n\r\n          <Alert\r\n            message=\"Please Verify Data\"\r\n            description=\"All data will sync to online server. Please verify your data before proceeding.\"\r\n            type=\"warning\"\r\n            icon={<WarningOutlined />}\r\n            showIcon\r\n            style={{ marginBottom: 16 }}\r\n          />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Divider>Offline Configuration</Divider>\r\n\r\n          <Form.Item\r\n            label=\"Offline API URL\"\r\n            name=\"offline_url\"\r\n            extra=\"Local development API endpoint (editable for offline mode)\"\r\n            rules={[\r\n              { \r\n                required: apiMode === 'offline', \r\n                message: 'Please enter offline API URL' \r\n              },\r\n            ]}\r\n          >\r\n            <Input\r\n              prefix={<LaptopOutlined />}\r\n              placeholder=\"http://localhost:8247\"\r\n            />\r\n          </Form.Item>\r\n        </>\r\n      )}\r\n\r\n      <Divider />\r\n\r\n      {apiMode === 'offline' && (\r\n        <div className={styles.warningBox}>\r\n          <strong> Important:</strong>\r\n          <ul style={{ marginTop: 8, marginBottom: 0 }}>\r\n            <li>Make sure your local server is running before switching to offline mode</li>\r\n            <li>The application needs to reload after changing the API mode</li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <Divider />\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%' }}>\r\n        <div className={styles.currentModeInfo}>\r\n          <strong>Current Mode:</strong>{' '}\r\n          {apiMode === 'online' ? (\r\n            <>\r\n              <CloudOutlined style={{ color: '#1890ff' }} /> Online\r\n            </>\r\n          ) : (\r\n            <>\r\n              <LaptopOutlined style={{ color: '#52c41a' }} /> Offline\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<SaveOutlined />}\r\n            onClick={handleSave}\r\n            loading={loading}\r\n          >\r\n            Save Settings\r\n          </Button>\r\n          <Button icon={<ReloadOutlined />} onClick={handleReset}>\r\n            Reset\r\n          </Button>\r\n          {needsReload && (\r\n            <Button type=\"dashed\" icon={<ReloadOutlined />} onClick={handleReload}>\r\n              Reload Application\r\n            </Button>\r\n          )}\r\n        </Space>\r\n      </Space>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SystemTab;\r\n\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Card,\r\n  Button,\r\n  Space,\r\n  Alert,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n  Tag,\r\n  Divider,\r\n  Switch,\r\n  Spin,\r\n  message,\r\n  Progress,\r\n  Tooltip,\r\n} from 'antd';\r\nimport {\r\n  CrownOutlined,\r\n  CheckCircleOutlined,\r\n  ClockCircleOutlined,\r\n  RocketOutlined,\r\n  StarOutlined,\r\n  GoldOutlined,\r\n  PhoneOutlined,\r\n  MailOutlined,\r\n  WarningOutlined,\r\n  ReloadOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { \r\n  useGetSubscriptionStatusQuery, \r\n  useGetMyPlanLimitsQuery, \r\n  UsageLimits, \r\n  CurrentUsage,\r\n  PlanLimitsResponse \r\n} from '../../../services/redux/api/endpoints';\r\nimport { \r\n  calculateDaysRemaining, \r\n  getSubscriptionMessage,\r\n  calculateUsagePercentage,\r\n  getProgressColor,\r\n  formatLabel,\r\n  getNearLimitItems,\r\n  processSubscriptionStatus\r\n} from '../../../utils/subscriptionUtils';\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\n\r\n// Pricing configuration (same as PricingPage)\r\nconst DISCOUNT_PERCENTAGE = 20;\r\n\r\nconst calculateDiscountedPrice = (originalPrice: number): number => {\r\n  if (DISCOUNT_PERCENTAGE <= 0) return originalPrice;\r\n  return Math.floor(originalPrice * (1 - DISCOUNT_PERCENTAGE / 100));\r\n};\r\n\r\nconst originalPricingData = {\r\n  starter: { monthly: 249, annual: 2499 },\r\n  professional: { monthly: 699, annual: 6999 },\r\n  business: { monthly: 999, annual: 9999 }\r\n};\r\n\r\nconst pricingPlans = [\r\n  {\r\n    name: \"Free\",\r\n    icon: <RocketOutlined />,\r\n    monthlyPrice: 0,\r\n    annualPrice: 0,\r\n    description: \"Perfect for trying out Subriva Billing\",\r\n    features: [\r\n      \"Up to 100 invoices/month\",\r\n      \"1 user account\",\r\n      \"Basic reporting\",\r\n      \"Email support\",\r\n      \"Mobile app access\"\r\n    ],\r\n    popular: false,\r\n    color: \"#1890ff\",\r\n  },\r\n  {\r\n    name: \"Starter\",\r\n    icon: <StarOutlined />,\r\n    monthlyPrice: calculateDiscountedPrice(originalPricingData.starter.monthly),\r\n    annualPrice: calculateDiscountedPrice(originalPricingData.starter.annual),\r\n    originalMonthlyPrice: originalPricingData.starter.monthly,\r\n    originalAnnualPrice: originalPricingData.starter.annual,\r\n    description: \"For freelancers and small shops\",\r\n    features: [\r\n      \"Up to 500 invoices/month\",\r\n      \"1 user account\",\r\n      \"Custom templates\",\r\n      \"Mobile app access\",\r\n      \"Payment tracking & tax calculations\"\r\n    ],\r\n    popular: false,\r\n    color: \"#faad14\",\r\n  },\r\n  {\r\n    name: \"Professional\",\r\n    icon: <CrownOutlined />,\r\n    monthlyPrice: calculateDiscountedPrice(originalPricingData.professional.monthly),\r\n    annualPrice: calculateDiscountedPrice(originalPricingData.professional.annual),\r\n    originalMonthlyPrice: originalPricingData.professional.monthly,\r\n    originalAnnualPrice: originalPricingData.professional.annual,\r\n    description: \"Ideal for growing businesses\",\r\n    features: [\r\n      \"Unlimited invoices\",\r\n      \"Up to 3 user accounts\",\r\n      \"One Organisation\",\r\n      \"One Branch\",\r\n      \"Inventory management\",\r\n      \"Advanced analytics & reports\",\r\n      \"Automated reminders\",\r\n      \"Customer portal\",\r\n      \"Priority email & chat support\"\r\n    ],\r\n    popular: true,\r\n    color: \"#52c41a\",\r\n  },\r\n  {\r\n    name: \"Business\",\r\n    icon: <GoldOutlined />,\r\n    monthlyPrice: calculateDiscountedPrice(originalPricingData.business.monthly),\r\n    annualPrice: calculateDiscountedPrice(originalPricingData.business.annual),\r\n    originalMonthlyPrice: originalPricingData.business.monthly,\r\n    originalAnnualPrice: originalPricingData.business.annual,\r\n    description: \"For established businesses with teams\",\r\n    features: [\r\n      \"All Professional features\",\r\n      \"Up to 5 user accounts\",\r\n      \"Multi-location support\",\r\n      \"Two Organisations\",\r\n      \"Two Branches\",\r\n      \"Advanced team collaboration\",\r\n      \"Custom workflows\",\r\n      \"API access & integrations\",\r\n      \"Enhanced security features\",\r\n      \"Priority support\"\r\n    ],\r\n    popular: false,\r\n    color: \"#722ed1\",\r\n  },\r\n  {\r\n    name: \"Enterprise\",\r\n    icon: <CheckCircleOutlined />,\r\n    monthlyPrice: null,\r\n    annualPrice: null,\r\n    description: \"For large organizations requiring advanced solutions\",\r\n    features: [\r\n      \"Unlimited users & accounts\",\r\n      \"Custom integrations & development\",\r\n      \"White-label solution\",\r\n      \"Advanced security & compliance\",\r\n      \"Dedicated support manager\",\r\n      \"SLA guarantee\",\r\n      \"On-premise deployment options\",\r\n      \"24/7 phone support\"\r\n    ],\r\n    popular: false,\r\n    color: \"#eb2f96\",\r\n  }\r\n];\r\n\r\n// Helper functions are now imported from subscriptionUtils\r\n\r\nconst SubscriptionTab: React.FC = () => {\r\n  const [isAnnual, setIsAnnual] = useState(false);\r\n  \r\n  // Use RTK Query to fetch subscription data\r\n  // These queries are only triggered when this component mounts (when user navigates to this tab)\r\n  const { \r\n    data: subscriptionData, \r\n    isLoading: isLoadingSubscription,\r\n    error: subscriptionError,\r\n    refetch: refetchSubscription \r\n  } = useGetSubscriptionStatusQuery(undefined);\r\n  \r\n  const { \r\n    data: planLimitsData, \r\n    isLoading: isLoadingLimits,\r\n    error: limitsError,\r\n    refetch: refetchLimits \r\n  } = useGetMyPlanLimitsQuery(undefined);\r\n\r\n  const loading = isLoadingSubscription || isLoadingLimits;\r\n  \r\n  // Process subscription status\r\n  const subscriptionInfo = subscriptionData ? {\r\n    ...processSubscriptionStatus(subscriptionData),\r\n    limits: (planLimitsData as PlanLimitsResponse)?.result?.limits,\r\n    currentUsage: (planLimitsData as PlanLimitsResponse)?.result?.current_usage,\r\n  } : null;\r\n\r\n  const handleRefresh = async () => {\r\n    try {\r\n      await Promise.all([refetchSubscription(), refetchLimits()]);\r\n      message.success('Subscription information refreshed');\r\n    } catch (error) {\r\n      console.error('Failed to refresh subscription:', error);\r\n      message.error('Failed to refresh subscription information');\r\n    }\r\n  };\r\n\r\n  const handleContactSales = (planName: string) => {\r\n    message.info(`To upgrade to ${planName} plan, please contact our sales team.`);\r\n    // You can add email/phone logic here\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '50px' }}>\r\n        <Spin size=\"large\" />\r\n        <p style={{ marginTop: 20 }}>Loading subscription information...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.settingsForm}>\r\n      {/* Current Plan Section */}\r\n      <div className={styles.sectionTitle}>\r\n        <CrownOutlined />\r\n        Current Subscription\r\n        <Button\r\n          icon={<ReloadOutlined />}\r\n          onClick={handleRefresh}\r\n          loading={loading}\r\n          size=\"small\"\r\n          style={{ marginLeft: 'auto' }}\r\n        >\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Subscription Status Alert */}\r\n      {subscriptionInfo && (\r\n        <>\r\n          {!subscriptionInfo.isActive ? (\r\n            <Alert\r\n              message=\"Subscription Inactive\"\r\n              description={subscriptionInfo.message || 'Your subscription has expired. Please renew to continue using the service.'}\r\n              type=\"error\"\r\n              icon={<WarningOutlined />}\r\n              showIcon\r\n              style={{ \r\n                marginBottom: 24,\r\n                borderRadius: 12,\r\n                border: '2px solid #ff4d4f'\r\n              }}\r\n              action={\r\n                <Button type=\"primary\" danger size=\"small\" onClick={() => handleContactSales('Renew')}>\r\n                  Renew Now\r\n                </Button>\r\n              }\r\n            />\r\n          ) : subscriptionInfo.daysRemaining && subscriptionInfo.daysRemaining <= 7 ? (\r\n            <Alert\r\n              message=\"Subscription Expiring Soon\"\r\n              description={`Your subscription will expire in ${subscriptionInfo.daysRemaining} days. Please renew to avoid service interruption.`}\r\n              type=\"warning\"\r\n              icon={<ClockCircleOutlined />}\r\n              showIcon\r\n              style={{ \r\n                marginBottom: 24,\r\n                borderRadius: 12,\r\n                border: '2px solid #faad14'\r\n              }}\r\n              action={\r\n                <Button type=\"primary\" size=\"small\" onClick={() => handleContactSales('Renew')}>\r\n                  Renew Now\r\n                </Button>\r\n              }\r\n            />\r\n          ) : (\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%)',\r\n              border: '2px solid #52c41a',\r\n              borderRadius: 16,\r\n              padding: '24px 28px',\r\n              marginBottom: 24,\r\n              boxShadow: '0 4px 12px rgba(82, 196, 26, 0.1)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: 16\r\n            }}>\r\n              <div style={{\r\n                width: 56,\r\n                height: 56,\r\n                borderRadius: '50%',\r\n                background: 'linear-gradient(135deg, #52c41a 0%, #73d13d 100%)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                boxShadow: '0 4px 12px rgba(82, 196, 26, 0.3)',\r\n                flexShrink: 0\r\n              }}>\r\n                <CheckCircleOutlined style={{ fontSize: 28, color: 'white' }} />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <Title level={4} style={{ margin: '0 0 4px 0', color: '#135200' }}>\r\n                  Subscription Active\r\n                </Title>\r\n                <Text style={{ fontSize: 15, color: '#389e0d' }}>\r\n                  {getSubscriptionMessage(\r\n                    subscriptionInfo.isActive,\r\n                    subscriptionInfo.daysRemaining,\r\n                    subscriptionInfo.expiryDate\r\n                  )}\r\n                </Text>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Current Plan Details */}\r\n          <Card \r\n            style={{ \r\n              marginBottom: 30,\r\n              borderRadius: 16,\r\n              overflow: 'hidden',\r\n              boxShadow: '0 2px 8px rgba(0,0,0,0.06)',\r\n              border: '1px solid #f0f0f0'\r\n            }}\r\n            bodyStyle={{ padding: '32px' }}\r\n          >\r\n            <Row gutter={[24, 24]}>\r\n              <Col xs={24} sm={8}>\r\n                <div style={{\r\n                  padding: '20px',\r\n                  background: 'linear-gradient(135deg, #f6f8fa 0%, #fafbfc 100%)',\r\n                  borderRadius: 12,\r\n                  height: '100%',\r\n                  border: '1px solid #e8e8e8'\r\n                }}>\r\n                  <Text type=\"secondary\" style={{ fontSize: 13, textTransform: 'uppercase', letterSpacing: '0.5px', fontWeight: 600 }}>\r\n                    Current Plan\r\n                  </Text>\r\n                  <Title level={3} style={{ margin: '12px 0 0 0', color: '#1890ff', display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                    <CrownOutlined />\r\n                    {subscriptionInfo.planName?.charAt(0).toUpperCase() + (subscriptionInfo.planName?.slice(1) || 'Standard')}\r\n                  </Title>\r\n                </div>\r\n              </Col>\r\n              <Col xs={24} sm={8}>\r\n                <div style={{\r\n                  padding: '20px',\r\n                  background: 'linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%)',\r\n                  borderRadius: 12,\r\n                  height: '100%',\r\n                  border: '1px solid #91d5ff'\r\n                }}>\r\n                  <Text type=\"secondary\" style={{ fontSize: 13, textTransform: 'uppercase', letterSpacing: '0.5px', fontWeight: 600 }}>\r\n                    Status\r\n                  </Text>\r\n                  <div style={{ marginTop: 12 }}>\r\n                    {subscriptionInfo.isActive ? (\r\n                      <Tag \r\n                        color=\"success\" \r\n                        icon={<CheckCircleOutlined />}\r\n                        style={{ \r\n                          padding: '6px 16px',\r\n                          fontSize: 15,\r\n                          borderRadius: 8,\r\n                          fontWeight: 500,\r\n                          border: 'none'\r\n                        }}\r\n                      >\r\n                        Active\r\n                      </Tag>\r\n                    ) : (\r\n                      <Tag \r\n                        color=\"error\" \r\n                        icon={<ClockCircleOutlined />}\r\n                        style={{ \r\n                          padding: '6px 16px',\r\n                          fontSize: 15,\r\n                          borderRadius: 8,\r\n                          fontWeight: 500,\r\n                          border: 'none'\r\n                        }}\r\n                      >\r\n                        Expired\r\n                      </Tag>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n              <Col xs={24} sm={8}>\r\n                <div style={{\r\n                  padding: '20px',\r\n                  background: 'linear-gradient(135deg, #fffbe6 0%, #fff7e6 100%)',\r\n                  borderRadius: 12,\r\n                  height: '100%',\r\n                  border: '1px solid #ffe58f'\r\n                }}>\r\n                  <Text type=\"secondary\" style={{ fontSize: 13, textTransform: 'uppercase', letterSpacing: '0.5px', fontWeight: 600 }}>\r\n                    Valid Until\r\n                  </Text>\r\n                  <Title level={3} style={{ margin: '12px 0 0 0', color: '#fa8c16', display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                    <ClockCircleOutlined />\r\n                    {subscriptionInfo.expiryDate \r\n                      ? new Date(subscriptionInfo.expiryDate).toLocaleDateString('en-US', { \r\n                          month: 'short', \r\n                          day: 'numeric', \r\n                          year: 'numeric' \r\n                        })\r\n                      : 'N/A'}\r\n                  </Title>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            \r\n            {/* Days Remaining Badge */}\r\n            {subscriptionInfo.daysRemaining !== undefined && subscriptionInfo.daysRemaining > 7 && (\r\n              <div style={{ \r\n                marginTop: 24, \r\n                padding: '16px 20px',\r\n                background: 'linear-gradient(90deg, #f6ffed 0%, #f0f9ff 100%)',\r\n                borderRadius: 12,\r\n                border: '1px solid #d9f7be',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                gap: 8\r\n              }}>\r\n                <CheckCircleOutlined style={{ color: '#52c41a', fontSize: 18 }} />\r\n                <Text style={{ fontSize: 15, fontWeight: 500, color: '#389e0d' }}>\r\n                  {subscriptionInfo.daysRemaining} days remaining\r\n                </Text>\r\n              </div>\r\n            )}\r\n          </Card>\r\n\r\n          {/* Usage Limits Section */}\r\n          {subscriptionInfo.limits && subscriptionInfo.currentUsage && (\r\n            <Card \r\n              title={\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                  <RocketOutlined style={{ color: '#1890ff' }} />\r\n                  <span>Plan Usage & Limits</span>\r\n                </div>\r\n              }\r\n              style={{ \r\n                marginBottom: 30,\r\n                borderRadius: 16,\r\n                overflow: 'hidden',\r\n                boxShadow: '0 2px 8px rgba(0,0,0,0.06)',\r\n                border: '1px solid #f0f0f0'\r\n              }}\r\n              bodyStyle={{ padding: '24px 32px' }}\r\n            >\r\n              <Row gutter={[24, 24]}>\r\n                {/* Users */}\r\n                {subscriptionInfo.limits.max_users !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('users')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.users || 0} / {subscriptionInfo.limits.max_users}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.users,\r\n                          subscriptionInfo.limits.max_users\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.users,\r\n                            subscriptionInfo.limits.max_users\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.users,\r\n                              subscriptionInfo.limits.max_users\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Organisations */}\r\n                {subscriptionInfo.limits.max_organisations !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('organisations')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.organisations || 0} / {subscriptionInfo.limits.max_organisations}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.organisations,\r\n                          subscriptionInfo.limits.max_organisations\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.organisations,\r\n                            subscriptionInfo.limits.max_organisations\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.organisations,\r\n                              subscriptionInfo.limits.max_organisations\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Branches */}\r\n                {subscriptionInfo.limits.max_branches !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('branches')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.branches || 0} / {subscriptionInfo.limits.max_branches}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.branches,\r\n                          subscriptionInfo.limits.max_branches\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.branches,\r\n                            subscriptionInfo.limits.max_branches\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.branches,\r\n                              subscriptionInfo.limits.max_branches\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Customers */}\r\n                {subscriptionInfo.limits.max_customers !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('customers')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.customers || 0} / {subscriptionInfo.limits.max_customers}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.customers,\r\n                          subscriptionInfo.limits.max_customers\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.customers,\r\n                            subscriptionInfo.limits.max_customers\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.customers,\r\n                              subscriptionInfo.limits.max_customers\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Products */}\r\n                {subscriptionInfo.limits.max_products !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('products')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.products || 0} / {subscriptionInfo.limits.max_products}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.products,\r\n                          subscriptionInfo.limits.max_products\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.products,\r\n                            subscriptionInfo.limits.max_products\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.products,\r\n                              subscriptionInfo.limits.max_products\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Sales Records */}\r\n                {subscriptionInfo.limits.max_sales_records !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('sales_records')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.sales_records || 0} / {subscriptionInfo.limits.max_sales_records}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.sales_records,\r\n                          subscriptionInfo.limits.max_sales_records\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.sales_records,\r\n                            subscriptionInfo.limits.max_sales_records\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.sales_records,\r\n                              subscriptionInfo.limits.max_sales_records\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Entities */}\r\n                {subscriptionInfo.limits.max_entities !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('entities')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.entities || 0} / {subscriptionInfo.limits.max_entities}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.entities,\r\n                          subscriptionInfo.limits.max_entities\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.entities,\r\n                            subscriptionInfo.limits.max_entities\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.entities,\r\n                              subscriptionInfo.limits.max_entities\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n\r\n                {/* Custom Fields */}\r\n                {subscriptionInfo.limits.max_custom_fields !== undefined && (\r\n                  <Col xs={24} sm={12}>\r\n                    <div>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 8 }}>\r\n                        <Text strong style={{ fontSize: 14 }}>\r\n                          {formatLabel('custom_fields')}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ fontSize: 13 }}>\r\n                          {subscriptionInfo.currentUsage.entities || 0} / {subscriptionInfo.limits.max_custom_fields}\r\n                        </Text>\r\n                      </div>\r\n                      <Tooltip \r\n                        title={`${calculateUsagePercentage(\r\n                          subscriptionInfo.currentUsage.entities,\r\n                          subscriptionInfo.limits.max_custom_fields\r\n                        )}% used`}\r\n                      >\r\n                        <Progress\r\n                          percent={calculateUsagePercentage(\r\n                            subscriptionInfo.currentUsage.entities,\r\n                            subscriptionInfo.limits.max_custom_fields\r\n                          )}\r\n                          strokeColor={getProgressColor(\r\n                            calculateUsagePercentage(\r\n                              subscriptionInfo.currentUsage.entities,\r\n                              subscriptionInfo.limits.max_custom_fields\r\n                            )\r\n                          )}\r\n                          status=\"active\"\r\n                          strokeWidth={12}\r\n                          style={{ marginBottom: 0 }}\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n              </Row>\r\n\r\n              {/* Warning for limits near exceeded */}\r\n              {(() => {\r\n                const nearLimitItems = getNearLimitItems(subscriptionInfo.limits, subscriptionInfo.currentUsage);\r\n\r\n                if (nearLimitItems.length > 0) {\r\n                  return (\r\n                    <Alert\r\n                      type=\"warning\"\r\n                      message=\"Approaching Limits\"\r\n                      description={`You are approaching or have exceeded limits for: ${nearLimitItems.join(', ')}. Consider upgrading your plan.`}\r\n                      showIcon\r\n                      style={{ marginTop: 24, borderRadius: 8 }}\r\n                      action={\r\n                        <Button size=\"small\" type=\"primary\" onClick={() => handleContactSales('Upgrade')}>\r\n                          Upgrade Plan\r\n                        </Button>\r\n                      }\r\n                    />\r\n                  );\r\n                }\r\n                return null;\r\n              })()}\r\n            </Card>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      <Divider />\r\n\r\n      {/* Pricing Plans Section */}\r\n      <div className={styles.sectionTitle}>\r\n        <StarOutlined />\r\n        Available Plans\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Choose the perfect plan for your business. Contact our sales team to upgrade or change your plan.\r\n      </div>\r\n\r\n      {/* Annual/Monthly Toggle */}\r\n      <div style={{ textAlign: 'center', marginBottom: 30 }}>\r\n        <Space size=\"middle\">\r\n          <Text strong>Monthly</Text>\r\n          <Switch\r\n            checked={isAnnual}\r\n            onChange={setIsAnnual}\r\n            checkedChildren=\"Annual\"\r\n            unCheckedChildren=\"Monthly\"\r\n          />\r\n          <Text strong>Annual</Text>\r\n          {DISCOUNT_PERCENTAGE > 0 && (\r\n            <Tag color=\"green\">Save {DISCOUNT_PERCENTAGE}%</Tag>\r\n          )}\r\n        </Space>\r\n      </div>\r\n\r\n      {/* Pricing Cards */}\r\n      <Row gutter={[16, 16]}>\r\n        {pricingPlans.map((plan, index) => {\r\n          const isCurrentPlan = subscriptionInfo?.planName?.toLowerCase() === plan.name.toLowerCase();\r\n          \r\n          return (\r\n            <Col xs={24} sm={12} lg={8} key={index}>\r\n              <Card\r\n                hoverable={!isCurrentPlan}\r\n                style={{\r\n                  height: '100%',\r\n                  borderColor: plan.popular ? '#52c41a' : undefined,\r\n                  borderWidth: plan.popular ? 2 : 1,\r\n                  opacity: isCurrentPlan ? 0.8 : 1,\r\n                }}\r\n                bodyStyle={{ padding: 24 }}\r\n              >\r\n                {plan.popular && (\r\n                  <Tag color=\"green\" style={{ position: 'absolute', top: -10, right: 10 }}>\r\n                    Most Popular\r\n                  </Tag>\r\n                )}\r\n                {isCurrentPlan && (\r\n                  <Tag color=\"blue\" style={{ position: 'absolute', top: -10, right: 10 }}>\r\n                    Current Plan\r\n                  </Tag>\r\n                )}\r\n\r\n                {/* Plan Header */}\r\n                <div style={{ textAlign: 'center', marginBottom: 20 }}>\r\n                  <div style={{\r\n                    width: 50,\r\n                    height: 50,\r\n                    margin: '0 auto 15px',\r\n                    background: plan.color,\r\n                    borderRadius: 12,\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: 24,\r\n                    color: 'white'\r\n                  }}>\r\n                    {plan.icon}\r\n                  </div>\r\n                  <Title level={4} style={{ marginBottom: 8 }}>{plan.name}</Title>\r\n                  <Text type=\"secondary\">{plan.description}</Text>\r\n                </div>\r\n\r\n                {/* Pricing */}\r\n                <div style={{ textAlign: 'center', marginBottom: 20 }}>\r\n                  {plan.monthlyPrice !== null ? (\r\n                    <>\r\n                      <div style={{ display: 'flex', alignItems: 'baseline', justifyContent: 'center' }}>\r\n                        <Text style={{ fontSize: 24, fontWeight: 700, color: plan.color }}>\r\n                          {isAnnual ? plan.annualPrice : plan.monthlyPrice}\r\n                        </Text>\r\n                        <Text type=\"secondary\" style={{ marginLeft: 5 }}>\r\n                          /{isAnnual ? 'year' : 'month'}\r\n                        </Text>\r\n                      </div>\r\n                      {DISCOUNT_PERCENTAGE > 0 && (\r\n                        <Text delete type=\"secondary\" style={{ fontSize: 14 }}>\r\n                          {isAnnual ? (plan as any).originalAnnualPrice : (plan as any).originalMonthlyPrice}\r\n                        </Text>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <Text strong style={{ fontSize: 24, color: plan.color }}>\r\n                      Contact Sales\r\n                    </Text>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Features */}\r\n                <ul style={{ listStyle: 'none', padding: 0, marginBottom: 20 }}>\r\n                  {plan.features.map((feature, idx) => (\r\n                    <li key={idx} style={{ padding: '8px 0', display: 'flex', alignItems: 'flex-start' }}>\r\n                      <CheckCircleOutlined style={{ color: '#52c41a', marginRight: 8, marginTop: 4 }} />\r\n                      <Text>{feature}</Text>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n\r\n                {/* Action Button */}\r\n                <Button\r\n                  type={plan.popular ? 'primary' : 'default'}\r\n                  block\r\n                  size=\"large\"\r\n                  disabled={isCurrentPlan}\r\n                  onClick={() => handleContactSales(plan.name)}\r\n                  style={{ \r\n                    background: !isCurrentPlan && plan.popular ? plan.color : undefined,\r\n                    borderColor: plan.color \r\n                  }}\r\n                >\r\n                  {isCurrentPlan ? 'Current Plan' : `Upgrade to ${plan.name}`}\r\n                </Button>\r\n              </Card>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n\r\n      <Divider />\r\n\r\n      {/* Contact Section */}\r\n      <Card style={{ marginTop: 30, background: '#f0f2f5' }}>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <Title level={4}>Need Help Choosing a Plan?</Title>\r\n          <Paragraph>\r\n            Contact our sales team for personalized assistance and custom enterprise solutions.\r\n          </Paragraph>\r\n          <Space size=\"large\">\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<PhoneOutlined />}\r\n              size=\"large\"\r\n              onClick={() => message.info('Phone: +91-XXXX-XXXX-XX')}\r\n            >\r\n              Call Sales\r\n            </Button>\r\n            <Button\r\n              icon={<MailOutlined />}\r\n              size=\"large\"\r\n              onClick={() => message.info('Email: sales@subrivabilling.com')}\r\n            >\r\n              Email Sales\r\n            </Button>\r\n          </Space>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptionTab;\r\n\r\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport {\r\n  Card,\r\n  Tabs,\r\n  Form,\r\n  Select,\r\n  message,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n  Breadcrumb,\r\n  Button,\r\n} from 'antd';\r\nimport {\r\n  SettingOutlined,\r\n  PercentageOutlined,\r\n  FileTextOutlined,\r\n  PrinterOutlined,\r\n  CheckCircleOutlined,\r\n  BellOutlined,\r\n  ShopOutlined,\r\n  BankOutlined,\r\n  QrcodeOutlined,\r\n  ApiOutlined,\r\n  CrownOutlined,\r\n  ArrowLeftOutlined,\r\n  HomeOutlined,\r\n} from '@ant-design/icons';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport styles from './Settings.module.css';\r\nimport { apiSlice } from '../../services/redux/api/apiSlice';\r\nimport { getCurrentUser } from '../../helpers/auth';\r\nimport SessionStorageEncryption from '../../helpers/encryption';\r\nimport {\r\n  BusinessInfoTab,\r\n  TaxTab,\r\n  InvoiceTab,\r\n  PrinterTab,\r\n  DefaultsTab,\r\n  NotificationsTab,\r\n  TemplateSettingsTab,\r\n  BankDetailsTab,\r\n  PaymentQRTab,\r\n  SystemTab,\r\n  SubscriptionTab,\r\n} from './tabs';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Option } = Select;\r\n\r\n// Helper function to populate organisation form data\r\nconst populateOrganisationForm = (form: any, orgData: any) => {\r\n  if (!orgData) return;\r\n  \r\n  form.setFieldsValue({\r\n    org_name: orgData.org_name || orgData.organization_name || orgData.name,\r\n    business_type: orgData.business_type,\r\n    email: orgData.email,\r\n    phone: orgData.phone,\r\n    gst_number: orgData.gst_number,\r\n    pan_number: orgData.pan_number,\r\n    address1: orgData.address1 || orgData.address,\r\n    city: orgData.city,\r\n    state: orgData.state,\r\n    pincode: orgData.pincode,\r\n    currency: orgData.currency,\r\n    timezone: orgData.timezone,\r\n    status: orgData.status !== false,\r\n  });\r\n};\r\n\r\nconst Settings: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [form] = Form.useForm();\r\n  const [businessForm] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [businessLoading, setBusinessLoading] = useState(false);\r\n  \r\n  // Get tab from URL query parameter\r\n  const getTabFromURL = useCallback(() => {\r\n    const hash = window.location.hash;\r\n    const queryString = hash.includes('?') ? hash.split('?')[1] : '';\r\n    const params = new URLSearchParams(queryString);\r\n    return params.get('tab') || 'business';\r\n  }, []);\r\n  \r\n  const [activeTab, setActiveTab] = useState(getTabFromURL());\r\n  const [selectedTenant, setSelectedTenant] = useState<string>('all');\r\n  const [selectedOrganisation, setSelectedOrganisation] = useState<string>('all');\r\n\r\n  // Handle tab change - update both state and URL\r\n  const handleTabChange = useCallback((key: string) => {\r\n    setActiveTab(key);\r\n    // Update URL without reloading page\r\n    const currentHash = window.location.hash;\r\n    const hashPath = currentHash.split('?')[0] || '#/settings';\r\n    const existingParams = currentHash.includes('?') ? currentHash.split('?')[1] : '';\r\n    const params = new URLSearchParams(existingParams);\r\n    params.set('tab', key);\r\n    const newUrl = `${hashPath}?${params.toString()}`;\r\n    window.history.replaceState(null, '', newUrl);\r\n  }, []);\r\n\r\n  // Get user info with memoization\r\n  const userItem = useMemo(() => getCurrentUser(), []);\r\n  \r\n  // Get user role with memoization to prevent unnecessary recalculations\r\n  const { userRole, isSuperAdmin, isTenant, isOrganisationUser, isBranchUser } = useMemo(() => {\r\n    const scopeData = SessionStorageEncryption.getItem('scope');\r\n    const role = scopeData?.userType || userItem?.user_type || userItem?.usertype || userItem?.user_role || '';\r\n    return {\r\n      userRole: role,\r\n      isSuperAdmin: role.toLowerCase() === 'superadmin',\r\n      isTenant: role.toLowerCase() === 'tenant',\r\n      isOrganisationUser: role.toLowerCase() === 'organisationuser',\r\n      isBranchUser: role.toLowerCase() === 'branchuser'\r\n    };\r\n  }, [userItem]);\r\n\r\n  // Use RTK Query for data fetching\r\n  const { data: tenantsData } = apiSlice.useGetTenantAccountsQuery({}, { skip: !isSuperAdmin });\r\n  \r\n  // For SuperAdmin: Filter organisations by selected tenant\r\n  // For Tenant: Load all organisations (they will be filtered by tenant_id on backend)\r\n  // For OrganisationUser/BranchUser: Load their specific organisation\r\n  const organisationsQueryParams = useMemo(() => {\r\n    if (isSuperAdmin && selectedTenant && selectedTenant !== 'all') {\r\n      return { tenant_id: selectedTenant };\r\n    }\r\n    if (isOrganisationUser || isBranchUser) {\r\n      const organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      if (organisationId) {\r\n        return { organisation_id: organisationId };\r\n      }\r\n    }\r\n    return {};\r\n  }, [isSuperAdmin, selectedTenant, isOrganisationUser, isBranchUser, userItem]);\r\n  \r\n  const { data: organisationsData } = apiSlice.useGetOrganisationsQuery(\r\n    organisationsQueryParams,\r\n    { skip: !isTenant && !isSuperAdmin && !isOrganisationUser && !isBranchUser }\r\n  );\r\n  \r\n  // For Settings by ID, we'll use RTK Query with skip option\r\n  const [selectedSettingsId, setSelectedSettingsId] = useState<string | null>(null);\r\n  \r\n  // Determine if settings API should be skipped\r\n  const shouldSkipSettings = useMemo(() => {\r\n    if (!selectedSettingsId || selectedSettingsId === 'all') return true;\r\n    if (isOrganisationUser || isBranchUser) return false;\r\n    if (isSuperAdmin) return !selectedTenant || selectedTenant === 'all';\r\n    if (isTenant) return false;\r\n    return true;\r\n  }, [selectedSettingsId, isSuperAdmin, isTenant, isOrganisationUser, isBranchUser, selectedTenant]);\r\n\r\n  // Fetch settings using GetAll with organisation_id filter\r\n  const { data: settingsData, refetch: refetchSettings } = apiSlice.useGetSettingsQuery(\r\n    { organisation_id: selectedSettingsId, pageNumber: 1, pageLimit: 10 },\r\n    { \r\n      skip: shouldSkipSettings || !selectedSettingsId,\r\n      refetchOnMountOrArgChange: true\r\n    }\r\n  );\r\n  \r\n  // Use RTK Query mutations\r\n  const [updateSettings] = apiSlice.useUpdateSettingsMutation();\r\n  const [createSettings] = apiSlice.useCreateSettingsMutation();\r\n  const [updateOrganisation] = apiSlice.useUpdateOrganisationsMutation();\r\n\r\n  const tenantsItems = (tenantsData as any)?.result || [];\r\n  const organisationsItems = (organisationsData as any)?.result || [];\r\n\r\n  // Get selected organisation data from already-loaded dropdown data\r\n  const selectedOrganisationData = useMemo(() => {\r\n    if (!selectedSettingsId || selectedSettingsId === 'all') return null;\r\n    return organisationsItems?.find((item: any) => item._id === selectedSettingsId) || null;\r\n  }, [selectedSettingsId, organisationsItems]);\r\n\r\n  // Load settings on mount - only for organisation/branch users\r\n  useEffect(() => {\r\n    if ((isOrganisationUser || isBranchUser) && !selectedSettingsId) {\r\n      const organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      if (organisationId) {\r\n        setSelectedSettingsId(organisationId);\r\n        // Populate business form with user's organisation data\r\n        populateOrganisationForm(businessForm, userItem?.organisationItems);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Sync tab from URL on mount and handle browser back/forward navigation\r\n  useEffect(() => {\r\n    // Listen for hash changes (browser back/forward buttons)\r\n    // Note: window.history.replaceState doesn't trigger hashchange, but that's fine\r\n    // because handleTabChange updates state directly\r\n    const handleHashChange = () => {\r\n      const newTabFromURL = getTabFromURL();\r\n      if (newTabFromURL) {\r\n        setActiveTab(newTabFromURL);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('hashchange', handleHashChange);\r\n    return () => window.removeEventListener('hashchange', handleHashChange);\r\n  }, [getTabFromURL]); // getTabFromURL is stable (useCallback with no deps)\r\n\r\n  // Handle tenant selection change - fetch organisations for selected tenant\r\n  const handleTenantChange = useCallback((tenantId: string) => {\r\n    setSelectedTenant(tenantId || 'all');\r\n    setSelectedOrganisation('all'); // Clear organisation selection\r\n    setSelectedSettingsId(null); // Clear settings when tenant changes\r\n    form.resetFields(); // Reset settings form when tenant changes\r\n    businessForm.resetFields(); // Reset business form when tenant changes\r\n    \r\n    if (tenantId && tenantId !== 'all') {\r\n      // RTK Query will refetch with new filters when tenant changes\r\n      // Organisations are filtered by tenant_id on backend\r\n    }\r\n    // If \"all\" or cleared, don't fetch organisations (keep dropdown disabled)\r\n  }, [form, businessForm]);\r\n\r\n  // Handle organisation selection change\r\n  const handleOrganisationChange = useCallback((organisationId: string) => {\r\n    setSelectedOrganisation(organisationId || 'all');\r\n    \r\n    if (organisationId && organisationId !== 'all') {\r\n      // For SuperAdmin: Only proceed if tenant is selected\r\n      if (isSuperAdmin && (!selectedTenant || selectedTenant === 'all')) {\r\n        setSelectedSettingsId(null);\r\n        form.resetFields();\r\n      } else {\r\n        setSelectedSettingsId(organisationId);\r\n      }\r\n    } else {\r\n      setSelectedSettingsId(null);\r\n      form.resetFields();\r\n    }\r\n  }, [form, isSuperAdmin, selectedTenant]);\r\n\r\n\r\n\r\n  // Populate business form when organisation is selected\r\n  useEffect(() => {\r\n    if (selectedOrganisationData) {\r\n      populateOrganisationForm(businessForm, selectedOrganisationData);\r\n    } else if (selectedSettingsId && selectedSettingsId !== 'all') {\r\n      businessForm.resetFields();\r\n    }\r\n  }, [selectedOrganisationData, selectedSettingsId, businessForm]);\r\n\r\n  // Populate settings form when data loads\r\n  useEffect(() => {\r\n    const settingsResult = (settingsData as any)?.result || settingsData || {};\r\n    const settings = Array.isArray(settingsResult) ? settingsResult[0] : settingsResult;\r\n    const hasSettingsData = settings && typeof settings === 'object' && (settings._id || settings.id);\r\n    \r\n    if (selectedSettingsId) {\r\n      if (hasSettingsData) {\r\n        form.setFieldsValue({\r\n          // Tax Settings\r\n          tax_enabled: settings.tax_enabled ?? null,\r\n          tax_type: settings.tax_type ?? null,\r\n\r\n          // Invoice Settings\r\n          invoice_prefix: settings.invoice_prefix ?? null,\r\n          invoice_starting_number: settings.invoice_starting_number ?? null,\r\n          invoice_footer: settings.invoice_footer ?? null,\r\n          show_logo_on_invoice: settings.show_logo_on_invoice ?? null,\r\n          show_terms_on_invoice: settings.show_terms_on_invoice ?? null,\r\n          invoice_terms: settings.invoice_terms ?? null,\r\n\r\n          // Printer Settings\r\n          thermal_printer_enabled: settings.thermal_printer_enabled ?? null,\r\n          printer_port: settings.printer_port ?? null,\r\n          printer_baud_rate: settings.printer_baud_rate ?? null,\r\n          paper_width: settings.paper_width ?? null,\r\n          auto_print: settings.auto_print ?? null,\r\n\r\n          // Default Values\r\n          default_payment_mode: settings.default_payment_mode ?? null,\r\n          default_document_type: settings.default_document_type ?? null,\r\n\r\n          // Notification Settings\r\n          email_notifications: settings.email_notifications ?? null,\r\n          sms_notifications: settings.sms_notifications ?? null,\r\n          low_stock_alert: settings.low_stock_alert ?? null,\r\n          low_stock_threshold: settings.low_stock_threshold ?? null,\r\n          payment_reminder: settings.payment_reminder ?? null,\r\n          daily_report_email: settings.daily_report_email ?? null,\r\n\r\n          // Template Settings - Use API values directly\r\n          bill_template: settings.bill_template,\r\n          invoice_template: settings.invoice_template,\r\n\r\n          // Bank Details\r\n          bank_name: settings.bank_name ?? null,\r\n          account_holder_name: settings.account_holder_name ?? null,\r\n          account_number: settings.account_number ?? null,\r\n          ifsc_code: settings.ifsc_code ?? null,\r\n          branch_name: settings.branch_name ?? null,\r\n          account_type: settings.account_type ?? null,\r\n          upi_id: settings.upi_id ?? null,\r\n          swift_code: settings.swift_code ?? null,\r\n\r\n          // Payment QR Settings\r\n          enable_payment_qr: settings.enable_payment_qr ?? false,\r\n          qr_on_invoice: settings.qr_on_invoice ?? true,\r\n          qr_on_bill: settings.qr_on_bill ?? true,\r\n          qr_size: settings.qr_size ?? 200,\r\n          qr_position: settings.qr_position ?? 'bottom-right',\r\n          show_upi_id_text: settings.show_upi_id_text ?? true,\r\n        });\r\n      } else {\r\n        // No settings found - initialize with default values\r\n        form.setFieldsValue({\r\n          // Tax Settings\r\n          tax_enabled: null,\r\n          tax_type: null,\r\n\r\n          // Invoice Settings\r\n          invoice_prefix: null,\r\n          invoice_starting_number: null,\r\n          invoice_footer: null,\r\n          show_logo_on_invoice: null,\r\n          show_terms_on_invoice: null,\r\n          invoice_terms: null,\r\n\r\n          // Printer Settings\r\n          thermal_printer_enabled: null,\r\n          printer_port: null,\r\n          printer_baud_rate: null,\r\n          paper_width: null,\r\n          auto_print: null,\r\n\r\n          // Default Values\r\n          default_payment_mode: null,\r\n          default_document_type: null,\r\n\r\n          // Notification Settings\r\n          email_notifications: null,\r\n          sms_notifications: null,\r\n          low_stock_alert: null,\r\n          low_stock_threshold: null,\r\n          payment_reminder: null,\r\n          daily_report_email: null,\r\n\r\n          // Template Settings - No defaults, let backend/initial setup handle this\r\n          bill_template: null,\r\n          invoice_template: null,\r\n\r\n          // Bank Details\r\n          bank_name: null,\r\n          account_holder_name: null,\r\n          account_number: null,\r\n          ifsc_code: null,\r\n          branch_name: null,\r\n          account_type: null,\r\n          upi_id: null,\r\n          swift_code: null,\r\n\r\n          // Payment QR Settings - Initialize with defaults\r\n          enable_payment_qr: false,\r\n          qr_on_invoice: true,\r\n          qr_on_bill: true,\r\n          qr_size: 200,\r\n          qr_position: 'bottom-right',\r\n          show_upi_id_text: true,\r\n        });\r\n      }\r\n    } else if (selectedOrganisation === 'all' && (isSuperAdmin || isTenant)) {\r\n      form.resetFields();\r\n    }\r\n  }, [settingsData, selectedSettingsId, selectedOrganisation, isSuperAdmin, isTenant, form]);\r\n\r\n  // Handle settings save\r\n  const handleSave = useCallback(async () => {\r\n    try {\r\n      // Check if organization is selected for SuperAdmin and Tenant users\r\n      if ((isSuperAdmin || isTenant) && selectedOrganisation === 'all') {\r\n        message.error('Please select an organisation before updating settings');\r\n        return;\r\n      }\r\n\r\n      const values = await form.validateFields();\r\n      setLoading(true);\r\n\r\n      // Determine the organisation ID to update\r\n      let organisationId = selectedOrganisation !== 'all' ? selectedOrganisation : null;\r\n      if (!organisationId) {\r\n        organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      }\r\n\r\n      // Additional validation for SuperAdmin and Tenant users to ensure we have a valid organisation ID\r\n      if ((isSuperAdmin || isTenant) && !organisationId) {\r\n        message.error('Please select an organisation before updating settings');\r\n        return;\r\n      }\r\n\r\n      // Save settings - Send only relevant data based on active tab\r\n      let newSettingsData: any = {};\r\n\r\n      // Tax & GST tab - only tax settings\r\n      if (activeTab === 'tax') {\r\n        newSettingsData = {\r\n          tax_enabled: values.tax_enabled,\r\n          tax_type: values.tax_type,\r\n        };\r\n      }\r\n      // Invoice tab - only invoice settings\r\n      else if (activeTab === 'invoice') {\r\n        newSettingsData = {\r\n          invoice_prefix: values.invoice_prefix,\r\n          invoice_starting_number: values.invoice_starting_number,\r\n          invoice_footer: values.invoice_footer,\r\n          invoice_terms: values.invoice_terms,\r\n          show_logo_on_invoice: values.show_logo_on_invoice,\r\n          show_terms_on_invoice: values.show_terms_on_invoice,\r\n        };\r\n      }\r\n      // Printer tab - only printer settings\r\n      else if (activeTab === 'printer') {\r\n        newSettingsData = {\r\n          thermal_printer_enabled: values.thermal_printer_enabled,\r\n          printer_port: values.printer_port,\r\n          printer_baud_rate: values.printer_baud_rate,\r\n          paper_width: values.paper_width,\r\n          auto_print: values.auto_print,\r\n        };\r\n      }\r\n      // Defaults tab - only default values\r\n      else if (activeTab === 'defaults') {\r\n        newSettingsData = {\r\n          default_payment_mode: values.default_payment_mode,\r\n          default_document_type: values.default_document_type,\r\n        };\r\n      }\r\n      // Notifications tab - only notification settings\r\n      else if (activeTab === 'notifications') {\r\n        newSettingsData = {\r\n          email_notifications: values.email_notifications,\r\n          sms_notifications: values.sms_notifications,\r\n          low_stock_alert: values.low_stock_alert,\r\n          low_stock_threshold: values.low_stock_threshold,\r\n          payment_reminder: values.payment_reminder,\r\n          daily_report_email: values.daily_report_email,\r\n        };\r\n      }\r\n      // Template tab - only template settings\r\n      else if (activeTab === 'templates') {\r\n        newSettingsData = {\r\n          bill_template: values.bill_template,\r\n          invoice_template: values.invoice_template,\r\n        };\r\n      }\r\n      // Bank Details tab - only bank details\r\n      else if (activeTab === 'bank') {\r\n        newSettingsData = {\r\n          bank_name: values.bank_name,\r\n          account_holder_name: values.account_holder_name,\r\n          account_number: values.account_number,\r\n          ifsc_code: values.ifsc_code,\r\n          branch_name: values.branch_name,\r\n          account_type: values.account_type,\r\n          upi_id: values.upi_id,\r\n          swift_code: values.swift_code,\r\n        };\r\n      }\r\n      // Payment QR tab - only payment QR settings\r\n      else if (activeTab === 'payment-qr') {\r\n        newSettingsData = {\r\n          upi_id: values.upi_id,\r\n          enable_payment_qr: values.enable_payment_qr ?? false,\r\n          qr_on_invoice: values.qr_on_invoice ?? true,\r\n          qr_on_bill: values.qr_on_bill ?? true,\r\n          qr_size: values.qr_size ?? 200,\r\n          qr_position: values.qr_position ?? 'bottom-right',\r\n          show_upi_id_text: values.show_upi_id_text ?? true,\r\n        };\r\n      }\r\n\r\n      // Check if settings exist, if not create new settings\r\n      const settingsResult = (settingsData as any)?.result || settingsData || [];\r\n      \r\n      // Extract first item from array if it's an array response\r\n      const existingSettings = Array.isArray(settingsResult) \r\n        ? settingsResult[0] \r\n        : settingsResult;\r\n      \r\n      // Check if we have valid existing settings with an ID\r\n      const hasExistingSettings = existingSettings && (existingSettings._id || existingSettings.id);\r\n      const targetOrgId = organisationId || userItem?._id;\r\n      \r\n      if (hasExistingSettings) {\r\n        // Update existing settings\r\n        const settingsId = existingSettings._id || existingSettings.id;\r\n        await updateSettings({\r\n          id: settingsId,\r\n          data: {\r\n            ...newSettingsData,\r\n            organisation_id: targetOrgId,\r\n          }\r\n        }).unwrap();\r\n        \r\n        message.success('Settings updated successfully! ');\r\n      } else {\r\n        // Create new settings\r\n        await createSettings({\r\n          ...newSettingsData,\r\n          organisation_id: targetOrgId,\r\n        }).unwrap();\r\n        \r\n        message.success(`Settings created successfully! `);\r\n      }\r\n\r\n      // Reload settings after save to get updated data\r\n      if (targetOrgId) {\r\n        await refetchSettings();\r\n      }\r\n\r\n    } catch (error: any) {\r\n      console.error(' Error saving settings:', error);\r\n      message.error(error.message || error.data?.message || 'Failed to save settings');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [\r\n    isSuperAdmin, \r\n    isTenant, \r\n    selectedOrganisation, \r\n    userItem, \r\n    activeTab, \r\n    updateSettings,\r\n    createSettings,\r\n    refetchSettings,\r\n    settingsData,\r\n    form,\r\n    isOrganisationUser,\r\n    isBranchUser\r\n  ]);\r\n\r\n  // Handle business information save\r\n  const handleBusinessSave = useCallback(async () => {\r\n    try {\r\n      // Check if organization is selected for SuperAdmin and Tenant users\r\n      if ((isSuperAdmin || isTenant) && selectedOrganisation === 'all') {\r\n        message.error('Please select an organisation before updating business information');\r\n        return;\r\n      }\r\n\r\n      const values = await businessForm.validateFields();\r\n      setBusinessLoading(true);\r\n\r\n      // Determine the organisation ID to update\r\n      let organisationId = selectedOrganisation !== 'all' ? selectedOrganisation : null;\r\n      if (!organisationId) {\r\n        organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      }\r\n\r\n      if (!organisationId) {\r\n        message.error('Organisation ID not found. Please select an organisation.');\r\n        return;\r\n      }\r\n\r\n      // Update organisation\r\n      await updateOrganisation({\r\n        id: organisationId,\r\n        data: {\r\n          org_name: values.org_name,\r\n          business_type: values.business_type,\r\n          email: values.email,\r\n          phone: values.phone,\r\n          gst_number: values.gst_number,\r\n          pan_number: values.pan_number,\r\n          address1: values.address1,\r\n          city: values.city,\r\n          state: values.state,\r\n          pincode: values.pincode,\r\n          currency: values.currency,\r\n          timezone: values.timezone,\r\n          status: values.status,\r\n        }\r\n      }).unwrap();\r\n\r\n      message.success('Business information updated successfully! ');\r\n\r\n      // RTK Query will automatically update the organisations list cache\r\n\r\n    } catch (error: any) {\r\n      console.error(' Error saving business information:', error);\r\n      message.error(error.message || error.data?.message || 'Failed to save business information');\r\n    } finally {\r\n      setBusinessLoading(false);\r\n    }\r\n  }, [\r\n    isSuperAdmin,\r\n    isTenant,\r\n    selectedOrganisation,\r\n    userItem,\r\n    businessForm,\r\n    updateOrganisation,\r\n  ]);\r\n\r\n  const handleReset = useCallback(() => {\r\n    form.resetFields();\r\n    message.info('Form reset to last saved values');\r\n  }, [form]);\r\n\r\n  const handleBusinessReset = useCallback(() => {\r\n    businessForm.resetFields();\r\n    message.info('Form reset to last saved values');\r\n  }, [businessForm]);\r\n\r\n  const testPrinter = useCallback(() => {\r\n    message.info('Printing test page... Check your thermal printer');\r\n    // Add actual printer test logic here\r\n  }, []);\r\n\r\n  // Prepare options for dropdowns\r\n  const tenantOptions = useMemo(() => {\r\n    return tenantsItems?.map((tenant: any) => ({\r\n      label: tenant.organization_name || tenant.tenant_name,\r\n      value: tenant._id,\r\n    })) || [];\r\n  }, [tenantsItems]);\r\n\r\n  const organisationOptions = useMemo(() => {\r\n    return organisationsItems?.map((org: any) => ({\r\n      label: org.org_name || org.organization_name || org.name,\r\n      value: org._id,\r\n    })) || [];\r\n  }, [organisationsItems]);\r\n\r\n  // Keyboard navigation for tabs\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      // Don't interfere if user is typing in form inputs\r\n      const target = e.target as HTMLElement;\r\n      if (\r\n        target.tagName === 'INPUT' ||\r\n        target.tagName === 'TEXTAREA' ||\r\n        target.classList.contains('ant-select-selector') ||\r\n        target.closest('.ant-select-dropdown') ||\r\n        target.closest('.ant-picker-dropdown') ||\r\n        target.isContentEditable\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      // Tab navigation shortcuts\r\n      const tabKeys = ['business', 'tax', 'invoice', 'printer', 'defaults', 'notifications', 'templates', 'bank', 'payment-qr', 'system', 'subscription'];\r\n      \r\n      // Ctrl+Number shortcuts (1-9, 0 for 10th tab) - works globally\r\n      if (e.ctrlKey && !e.shiftKey && !e.altKey) {\r\n        let tabIndex = -1;\r\n        if (e.key >= '1' && e.key <= '9') {\r\n          tabIndex = parseInt(e.key) - 1;\r\n        } else if (e.key === '0') {\r\n          tabIndex = 9;\r\n        }\r\n        \r\n        if (tabIndex >= 0 && tabIndex < tabKeys.length) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          handleTabChange(tabKeys[tabIndex]);\r\n          \r\n          // Focus the tab after a short delay to ensure it's rendered\r\n          setTimeout(() => {\r\n            const tabElement = document.querySelector(`.ant-tabs-tab[data-node-key=\"${tabKeys[tabIndex]}\"]`) as HTMLElement;\r\n            if (tabElement) {\r\n              tabElement.focus();\r\n            }\r\n          }, 50);\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [activeTab, handleTabChange]);\r\n\r\n  return (\r\n    <div className={styles.settingsContainer}>\r\n      {/* Breadcrumb Navigation */}\r\n      <Breadcrumb style={{ marginBottom: 16 }}>\r\n        <Breadcrumb.Item>\r\n          <span onClick={() => navigate('/dashboard')} style={{ cursor: 'pointer', display: 'flex', alignItems: 'center' }}>\r\n            <HomeOutlined />\r\n            <span style={{ marginLeft: 4 }}>Home</span>\r\n          </span>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <SettingOutlined />\r\n          <span style={{ marginLeft: 4 }}>Settings</span>\r\n        </Breadcrumb.Item>\r\n      </Breadcrumb>\r\n\r\n      {/* Page Header */}\r\n      <div className={styles.pageHeader}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px', marginBottom: 8 }}>\r\n          <Button \r\n            icon={<ArrowLeftOutlined />} \r\n            onClick={() => navigate(-1)}\r\n            size=\"large\"\r\n            style={{ flexShrink: 0 }}\r\n          >\r\n            Back\r\n          </Button>\r\n          <Title level={2} className={styles.pageTitle} style={{ margin: 0 }}>\r\n          <SettingOutlined />\r\n          Settings\r\n        </Title>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filter Dropdowns for SuperAdmin and Tenant */}\r\n      {(isSuperAdmin || isTenant) && (\r\n        <Card style={{ marginBottom: 16 }}>\r\n          <Row gutter={16}>\r\n            {/* Tenant Dropdown - Only for SuperAdmin */}\r\n            {isSuperAdmin && (\r\n              <Col xs={24} sm={12} md={8}>\r\n                <div style={{ marginBottom: 8 }}>\r\n                  <Text strong>Tenant</Text>\r\n                </div>\r\n                <Select\r\n                  style={{ width: '100%' }}\r\n                  placeholder=\"Select Tenant\"\r\n                  value={selectedTenant}\r\n                  onChange={handleTenantChange}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  allowClear\r\n                >\r\n                  <Option value=\"all\">All Tenants</Option>\r\n                  {tenantOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Col>\r\n            )}\r\n\r\n            {/* Organisation Dropdown - For SuperAdmin and Tenant */}\r\n            {(isSuperAdmin || isTenant) && (\r\n              <Col xs={24} sm={12} md={8}>\r\n                <div style={{ marginBottom: 8 }}>\r\n                  <Text strong>Organisation</Text>\r\n                </div>\r\n                <Select\r\n                  style={{ width: '100%' }}\r\n                  placeholder=\"Select Organisation\"\r\n                  value={selectedOrganisation}\r\n                  onChange={handleOrganisationChange}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  allowClear\r\n                  disabled={isSuperAdmin && (selectedTenant === 'all' || !selectedTenant)}\r\n                >\r\n                  <Option value=\"all\">All Organisations</Option>\r\n                  {organisationOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Settings Tabs */}\r\n      <Card className={styles.tabsCard}>\r\n        <Tabs\r\n          activeKey={activeTab}\r\n          onChange={handleTabChange}\r\n          type=\"card\"\r\n          items={[\r\n            {\r\n              key: 'business',\r\n              label: (\r\n                <span>\r\n                  <ShopOutlined /> Business Info\r\n                </span>\r\n              ),\r\n              children: (\r\n                <BusinessInfoTab\r\n                  form={businessForm}\r\n                  loading={businessLoading}\r\n                  onSave={handleBusinessSave}\r\n                  onReset={handleBusinessReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'tax',\r\n              label: (\r\n                <span>\r\n                  <PercentageOutlined /> Tax & GST\r\n                </span>\r\n              ),\r\n              children: (\r\n                <TaxTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'invoice',\r\n              label: (\r\n                <span>\r\n                  <FileTextOutlined /> Invoice\r\n                </span>\r\n              ),\r\n              children: (\r\n                <InvoiceTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'printer',\r\n              label: (\r\n                <span>\r\n                  <PrinterOutlined /> Printer\r\n                </span>\r\n              ),\r\n              children: (\r\n                <PrinterTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                  onTestPrinter={testPrinter}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'defaults',\r\n              label: (\r\n                <span>\r\n                  <CheckCircleOutlined /> Defaults\r\n                </span>\r\n              ),\r\n              children: (\r\n                <DefaultsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'notifications',\r\n              label: (\r\n                <span>\r\n                  <BellOutlined /> Notifications\r\n                </span>\r\n              ),\r\n              children: (\r\n                <NotificationsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'templates',\r\n              label: (\r\n                <span>\r\n                  <FileTextOutlined /> Templates\r\n                </span>\r\n              ),\r\n              children: (\r\n                <TemplateSettingsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'bank',\r\n              label: (\r\n                <span>\r\n                  <BankOutlined /> Bank Details\r\n                </span>\r\n              ),\r\n              children: (\r\n                <BankDetailsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'payment-qr',\r\n              label: (\r\n                <span>\r\n                  <QrcodeOutlined /> Payment QR\r\n                </span>\r\n              ),\r\n              children: (\r\n                <PaymentQRTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'system',\r\n              label: (\r\n                <span>\r\n                  <ApiOutlined /> System\r\n                </span>\r\n              ),\r\n              children: (\r\n                <SystemTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'subscription',\r\n              label: (\r\n                <span>\r\n                  <CrownOutlined /> Subscription\r\n                </span>\r\n              ),\r\n              children: (\r\n                <SubscriptionTab />\r\n              ),\r\n            },\r\n          ]}\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n\r\n"],"names":["Option","Select","TextArea","Input","businessTypes","name","_ref","form","loading","onSave","onReset","_jsxs","Form","layout","className","styles","children","_jsx","ShopOutlined","Divider","Row","gutter","Col","xs","md","Item","label","rules","required","message","placeholder","showSearch","filterOption","input","option","_option$label","toLowerCase","includes","options","map","type","value","FileProtectOutlined","extra","maxLength","style","textTransform","EnvironmentOutlined","rows","GlobalOutlined","valuePropName","Switch","checkedChildren","unCheckedChildren","Button","onClick","icon","SaveOutlined","navigate","useNavigate","PercentageOutlined","Space","direction","size","width","marginTop","block","FileTextOutlined","span","InputNumber","min","onTestPrinter","PrinterOutlined","CheckCircleOutlined","BellOutlined","noStyle","_billTemplates","_invoiceTemplates","useUser","previewKey","setPreviewKey","useState","previewType","setPreviewType","modalOpen","setModalOpen","billTemplate","useWatch","invoiceTemplate","getPreviewData","customerName","customerAddress","customerPhone","customerEmail","date","Date","toISOString","invoice_no","payment_mode","items","product_name","qty","price","amount","tax_percentage","hsn_code","mrp","unit","total","total_gst","cgst","sgst","discount","discount_type","is_paid","is_partially_paid","paid_amount","closeModal","renderTemplateSelector","selectedKey","fieldName","templates","billTemplates","invoiceTemplates","Object","entries","_ref2","key","tpl","isSelected","sm","lg","Card","hoverable","border","borderRadius","boxShadow","background","textAlign","transition","setFieldValue","bodyStyle","padding","height","overflow","display","alignItems","justifyContent","marginBottom","transform","transformOrigin","pointerEvents","component","billData","fontWeight","fontSize","color","description","ghost","EyeOutlined","e","stopPropagation","handlePreview","_Fragment","Modal","open","onCancel","footer","handleUseTemplate","title","concat","centered","destroyOnClose","minHeight","React","BankOutlined","Text","Title","Paragraph","Typography","qrCodePreview","setQrCodePreview","upiValid","setUpiValid","upiAppInfo","setUpiAppInfo","upiId","enablePaymentQr","qrSize","useEffect","async","isValidUPIId","getUPIAppInfo","orgName","getFieldValue","qrCode","generateUPIQRCode","payeeName","transactionNote","error","console","generatePreview","QrcodeOutlined","InfoCircleOutlined","validator","_","Promise","resolve","reject","suffix","Alert","provider","appName","showIcon","disabled","Slider","max","step","marks","bordered","src","alt","maxWidth","strong","code","level","paddingLeft","apiMode","setApiMode","needsReload","setNeedsReload","isElectronApp","isElectron","isOfflineModeSupported","config","getApiModeConfig","setFieldsValue","api_mode","mode","online_url","onlineUrl","offline_url","offlineUrl","setApiModeConfig","handleReload","window","location","reload","ApiOutlined","WarningOutlined","closable","onClose","action","Radio","onChange","newMode","target","buttonStyle","CloudOutlined","LaptopOutlined","prefix","values","validateFields","defaultConfig","success","content","duration","warning","ReloadOutlined","handleReset","gap","calculateDiscountedPrice","originalPrice","Math","floor","originalPricingData","monthly","annual","pricingPlans","RocketOutlined","monthlyPrice","annualPrice","features","popular","StarOutlined","originalMonthlyPrice","originalAnnualPrice","CrownOutlined","GoldOutlined","SubscriptionTab","_result","_result2","_subscriptionInfo$pla","_subscriptionInfo$pla2","isAnnual","setIsAnnual","data","subscriptionData","isLoading","isLoadingSubscription","subscriptionError","refetch","refetchSubscription","useGetSubscriptionStatusQuery","undefined","planLimitsData","isLoadingLimits","limitsError","refetchLimits","useGetMyPlanLimitsQuery","subscriptionInfo","_objectSpread","processSubscriptionStatus","limits","result","currentUsage","current_usage","handleContactSales","planName","info","Spin","all","marginLeft","isActive","daysRemaining","ClockCircleOutlined","flexShrink","flex","margin","getSubscriptionMessage","expiryDate","danger","letterSpacing","charAt","toUpperCase","slice","Tag","toLocaleDateString","month","day","year","max_users","formatLabel","users","Tooltip","calculateUsagePercentage","Progress","percent","strokeColor","getProgressColor","status","strokeWidth","max_organisations","organisations","max_branches","branches","max_customers","customers","max_products","products","max_sales_records","sales_records","max_entities","entities","max_custom_fields","nearLimitItems","getNearLimitItems","length","join","checked","plan","index","_subscriptionInfo$pla3","isCurrentPlan","borderColor","borderWidth","opacity","position","top","right","delete","listStyle","feature","idx","marginRight","PhoneOutlined","MailOutlined","populateOrganisationForm","orgData","org_name","organization_name","business_type","email","phone","gst_number","pan_number","address1","address","city","state","pincode","currency","timezone","Settings","useLocation","useForm","businessForm","setLoading","businessLoading","setBusinessLoading","getTabFromURL","useCallback","hash","queryString","split","URLSearchParams","get","activeTab","setActiveTab","selectedTenant","setSelectedTenant","selectedOrganisation","setSelectedOrganisation","handleTabChange","currentHash","hashPath","existingParams","params","set","newUrl","toString","history","replaceState","userItem","useMemo","getCurrentUser","userRole","isSuperAdmin","isTenant","isOrganisationUser","isBranchUser","scopeData","SessionStorageEncryption","getItem","role","userType","user_type","usertype","user_role","tenantsData","apiSlice","useGetTenantAccountsQuery","skip","organisationsQueryParams","tenant_id","_userItem$organisatio","organisationId","organisation_id","organisationItems","_id","organisationsData","useGetOrganisationsQuery","selectedSettingsId","setSelectedSettingsId","shouldSkipSettings","settingsData","refetchSettings","useGetSettingsQuery","pageNumber","pageLimit","refetchOnMountOrArgChange","updateSettings","useUpdateSettingsMutation","createSettings","useCreateSettingsMutation","updateOrganisation","useUpdateOrganisationsMutation","tenantsItems","organisationsItems","selectedOrganisationData","find","item","_userItem$organisatio2","handleHashChange","newTabFromURL","addEventListener","removeEventListener","handleTenantChange","tenantId","resetFields","handleOrganisationChange","settingsResult","settings","Array","isArray","hasSettingsData","id","_settings$tax_enabled","_settings$tax_type","_settings$invoice_pre","_settings$invoice_sta","_settings$invoice_foo","_settings$show_logo_o","_settings$show_terms_","_settings$invoice_ter","_settings$thermal_pri","_settings$printer_por","_settings$printer_bau","_settings$paper_width","_settings$auto_print","_settings$default_pay","_settings$default_doc","_settings$email_notif","_settings$sms_notific","_settings$low_stock_a","_settings$low_stock_t","_settings$payment_rem","_settings$daily_repor","_settings$bank_name","_settings$account_hol","_settings$account_num","_settings$ifsc_code","_settings$branch_name","_settings$account_typ","_settings$upi_id","_settings$swift_code","_settings$enable_paym","_settings$qr_on_invoi","_settings$qr_on_bill","_settings$qr_size","_settings$qr_position","_settings$show_upi_id","tax_enabled","tax_type","invoice_prefix","invoice_starting_number","invoice_footer","show_logo_on_invoice","show_terms_on_invoice","invoice_terms","thermal_printer_enabled","printer_port","printer_baud_rate","paper_width","auto_print","default_payment_mode","default_document_type","email_notifications","sms_notifications","low_stock_alert","low_stock_threshold","payment_reminder","daily_report_email","bill_template","invoice_template","bank_name","account_holder_name","account_number","ifsc_code","branch_name","account_type","upi_id","swift_code","enable_payment_qr","qr_on_invoice","qr_on_bill","qr_size","qr_position","show_upi_id_text","handleSave","_userItem$organisatio3","newSettingsData","_values$enable_paymen","_values$qr_on_invoice","_values$qr_on_bill","_values$qr_size","_values$qr_position","_values$show_upi_id_t","existingSettings","hasExistingSettings","targetOrgId","settingsId","unwrap","_error$data","handleBusinessSave","_userItem$organisatio4","_error$data2","handleBusinessReset","testPrinter","tenantOptions","tenant","tenant_name","organisationOptions","org","handleKeyDown","tagName","classList","contains","closest","isContentEditable","tabKeys","ctrlKey","shiftKey","altKey","tabIndex","parseInt","preventDefault","setTimeout","tabElement","document","querySelector","focus","Breadcrumb","cursor","HomeOutlined","SettingOutlined","ArrowLeftOutlined","optionFilterProp","allowClear","Tabs","activeKey","BusinessInfoTab","TaxTab","InvoiceTab","PrinterTab","DefaultsTab","NotificationsTab","TemplateSettingsTab","BankDetailsTab","PaymentQRTab","SystemTab"],"sourceRoot":""}