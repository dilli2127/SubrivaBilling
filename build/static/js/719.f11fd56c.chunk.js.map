{"version":3,"file":"static/js/719.f11fd56c.chunk.js","mappings":"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","sources":["webpack://SUBRIVA-BILLING/./src/pages/Reports/Reports.module.css?8987","pages/Reports/hooks/useReportData.ts","pages/Reports/hooks/useReportExport.ts","pages/Reports/utils/exportHelpers.ts","pages/Reports/components/ComprehensiveReport.tsx","pages/Reports/components/FinancialReport.tsx","pages/Reports/components/SalesReport.tsx","pages/Reports/components/CustomerReport.tsx","pages/Reports/components/InventoryReport.tsx","pages/Reports/utils/mockData.ts","pages/Reports/components/StaffReport.tsx","pages/Reports/components/PaymentReport.tsx","pages/Reports/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Reports_container__+ISRf\",\"header\":\"Reports_header__+QbJp\",\"title\":\"Reports_title__oKRYF\",\"subtitle\":\"Reports_subtitle__O1oJS\",\"filters\":\"Reports_filters__e9hnV\",\"metrics\":\"Reports_metrics__jawXv\",\"metricCard\":\"Reports_metricCard__8L57y\",\"charts\":\"Reports_charts__qH60B\",\"chartCard\":\"Reports_chartCard__O8Elt\",\"tableCard\":\"Reports_tableCard__cseHD\",\"tableHeader\":\"Reports_tableHeader__k2LsJ\",\"tableTitle\":\"Reports_tableTitle__KfP1F\",\"tableActions\":\"Reports_tableActions__kaRky\",\"tabs\":\"Reports_tabs__eVhVz\",\"chartContainer\":\"Reports_chartContainer__hfUi6\"};","import { useState, useCallback, useEffect } from 'react';\r\nimport { message } from 'antd';\r\nimport dayjs from 'dayjs';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\n\r\nexport type ReportType = 'comprehensive' | 'financial' | 'sales' | 'customer' | 'inventory' | 'staff' | 'payment';\r\n\r\ninterface UseReportDataProps {\r\n  activeTab: string;\r\n  selectedTenant: string;\r\n  selectedOrganisation: string;\r\n  selectedBranch: string;\r\n  dateRange: [dayjs.Dayjs, dayjs.Dayjs] | null;\r\n  isSuperAdmin: boolean;\r\n}\r\n\r\n// Map tab keys to report types\r\nexport const getReportTypeFromTab = (tabKey: string): ReportType => {\r\n  switch (tabKey) {\r\n    case '1': return 'comprehensive';\r\n    case '2': return 'financial';\r\n    case '3': return 'sales';\r\n    case '4': return 'customer';\r\n    case '5': return 'inventory';\r\n    case '6': return 'staff';\r\n    case '7': return 'payment';\r\n    default: return 'comprehensive';\r\n  }\r\n};\r\n\r\nexport const useReportData = (props: UseReportDataProps) => {\r\n  const { activeTab, selectedTenant, selectedOrganisation, selectedBranch, dateRange } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [reportCache, setReportCache] = useState<{[key: string]: any}>({});\r\n  \r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get selectors for all report types\r\n  const salesReportData = useDynamicSelector(Reports.getIdentifier('GetSalesReport'));\r\n  const productSalesData = useDynamicSelector(Reports.getIdentifier('GetProductSalesReport'));\r\n  const customerSalesData = useDynamicSelector(Reports.getIdentifier('GetCustomerSalesReport'));\r\n  const stockReportData = useDynamicSelector(Reports.getIdentifier('GetStockReport'));\r\n  const profitLossData = useDynamicSelector(Reports.getIdentifier('GetProfitLossReport'));\r\n  const outstandingPaymentsData = useDynamicSelector(Reports.getIdentifier('GetOutstandingPaymentsReport'));\r\n  const paymentCollectionData = useDynamicSelector(Reports.getIdentifier('GetPaymentCollectionReport'));\r\n  const expenseData = useDynamicSelector(Reports.getIdentifier('GetExpenseReport'));\r\n  const gstData = useDynamicSelector(Reports.getIdentifier('GetGSTReport'));\r\n  const topProductsData = useDynamicSelector(Reports.getIdentifier('GetTopProductsReport'));\r\n  const topCustomersData = useDynamicSelector(Reports.getIdentifier('GetTopCustomersReport'));\r\n  const stockExpiryData = useDynamicSelector(Reports.getIdentifier('GetStockExpiryReport'));\r\n\r\n  // Update cache when data changes\r\n  useEffect(() => {\r\n    const reportType = getReportTypeFromTab(activeTab);\r\n    const cacheKey = `${reportType}_${selectedTenant}_${selectedOrganisation}_${selectedBranch}_${dateRange?.[0]?.format('YYYY-MM-DD')}_${dateRange?.[1]?.format('YYYY-MM-DD')}`;\r\n    \r\n    let newData: any = null;\r\n    \r\n    switch (reportType) {\r\n      case 'sales':\r\n        if (salesReportData?.result || productSalesData?.result || topProductsData?.result) {\r\n          newData = {\r\n            salesReport: salesReportData?.result,\r\n            productSales: productSalesData?.result,\r\n            topProducts: topProductsData?.result,\r\n          };\r\n        }\r\n        break;\r\n      case 'customer':\r\n        if (customerSalesData?.result || topCustomersData?.result) {\r\n          newData = {\r\n            customerSales: customerSalesData?.result,\r\n            topCustomers: topCustomersData?.result,\r\n          };\r\n        }\r\n        break;\r\n      case 'inventory':\r\n        if (stockReportData?.result || stockExpiryData?.result) {\r\n          newData = {\r\n            stock: stockReportData?.result,\r\n            expiry: stockExpiryData?.result,\r\n          };\r\n        }\r\n        break;\r\n      case 'financial':\r\n        if (profitLossData?.result || expenseData?.result || gstData?.result) {\r\n          newData = {\r\n            profitLoss: profitLossData?.result,\r\n            expenses: expenseData?.result,\r\n            gst: gstData?.result,\r\n          };\r\n        }\r\n        break;\r\n      case 'payment':\r\n        if (paymentCollectionData?.result || outstandingPaymentsData?.result) {\r\n          newData = {\r\n            collections: paymentCollectionData?.result,\r\n            outstanding: outstandingPaymentsData?.result,\r\n          };\r\n        }\r\n        break;\r\n      case 'comprehensive':\r\n        if (salesReportData?.result || profitLossData?.result) {\r\n          newData = {\r\n            sales: salesReportData?.result,\r\n            profitLoss: profitLossData?.result,\r\n            customers: customerSalesData?.result,\r\n            stock: stockReportData?.result,\r\n            payments: paymentCollectionData?.result,\r\n          };\r\n        }\r\n        break;\r\n    }\r\n    \r\n    if (newData) {\r\n      setReportCache(prev => ({\r\n        ...prev,\r\n        [cacheKey]: newData\r\n      }));\r\n    }\r\n  }, [\r\n    activeTab, selectedTenant, selectedOrganisation, selectedBranch, dateRange,\r\n    salesReportData, productSalesData, customerSalesData, stockReportData,\r\n    profitLossData, outstandingPaymentsData, paymentCollectionData,\r\n    expenseData, gstData, topProductsData, topCustomersData, stockExpiryData\r\n  ]);\r\n\r\n  const fetchReportData = useCallback(() => {\r\n    const reportType = getReportTypeFromTab(activeTab);\r\n    \r\n    // Create cache key based on filters\r\n    const cacheKey = `${reportType}_${selectedTenant}_${selectedOrganisation}_${selectedBranch}_${dateRange?.[0]?.format('YYYY-MM-DD')}_${dateRange?.[1]?.format('YYYY-MM-DD')}`;\r\n    \r\n    // Check if data is already cached\r\n    if (reportCache[cacheKey]) {\r\n      message.success('Report data loaded from cache');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    // Prepare API filters\r\n    const apiFilters = {\r\n      start_date: dateRange?.[0]?.format('YYYY-MM-DD'),\r\n      end_date: dateRange?.[1]?.format('YYYY-MM-DD'),\r\n    };\r\n    \r\n    // Fetch data based on report type\r\n    try {\r\n      switch (reportType) {\r\n        case 'sales':\r\n          Reports('GetSalesReport', apiFilters);\r\n          Reports('GetProductSalesReport', apiFilters);\r\n          Reports('GetTopProductsReport', { ...apiFilters, limit: 10 });\r\n          break;\r\n        case 'customer':\r\n          Reports('GetCustomerSalesReport', apiFilters);\r\n          Reports('GetTopCustomersReport', { ...apiFilters, limit: 10 });\r\n          break;\r\n        case 'inventory':\r\n          Reports('GetStockReport', {});\r\n          Reports('GetStockExpiryReport', { days_threshold: 30 });\r\n          break;\r\n        case 'financial':\r\n          Reports('GetProfitLossReport', apiFilters);\r\n          Reports('GetExpenseReport', apiFilters);\r\n          Reports('GetGSTReport', apiFilters);\r\n          break;\r\n        case 'payment':\r\n          Reports('GetPaymentCollectionReport', apiFilters);\r\n          Reports('GetOutstandingPaymentsReport', {});\r\n          break;\r\n        case 'comprehensive':\r\n          // Fetch all necessary reports for comprehensive view\r\n          Reports('GetSalesReport', apiFilters);\r\n          Reports('GetProfitLossReport', apiFilters);\r\n          Reports('GetCustomerSalesReport', apiFilters);\r\n          Reports('GetStockReport', {});\r\n          Reports('GetPaymentCollectionReport', apiFilters);\r\n          break;\r\n      }\r\n      \r\n      // Set loading to false after a short delay to allow API calls to start\r\n      setTimeout(() => {\r\n        setLoading(false);\r\n      }, 500);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      message.error('Failed to fetch report data');\r\n      console.error('Report fetch error:', error);\r\n    }\r\n  }, [activeTab, selectedTenant, selectedOrganisation, selectedBranch, dateRange, reportCache, Reports]);\r\n\r\n  return {\r\n    loading,\r\n    reportCache,\r\n    fetchReportData,\r\n    // Expose individual report data for easy access\r\n    salesReportData,\r\n    productSalesData,\r\n    customerSalesData,\r\n    stockReportData,\r\n    profitLossData,\r\n    outstandingPaymentsData,\r\n    paymentCollectionData,\r\n    expenseData,\r\n    gstData,\r\n    topProductsData,\r\n    topCustomersData,\r\n    stockExpiryData,\r\n  };\r\n};\r\n\r\n","import { useState } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport { message } from 'antd';\r\nimport { exportToExcel, exportToPDF, exportToCSV } from '../utils/exportHelpers';\r\nimport { getReportTypeFromTab } from './useReportData';\r\n\r\ninterface UseReportExportProps {\r\n  activeTab: string;\r\n  reportCache: {[key: string]: any};\r\n  selectedTenant: string;\r\n  selectedOrganisation: string;\r\n  selectedBranch: string;\r\n  dateRange: [dayjs.Dayjs, dayjs.Dayjs] | null;\r\n  tenantOptions: any[];\r\n  organisationOptions: any[];\r\n  branchOptions: any[];\r\n  isSuperAdmin: boolean;\r\n  isTenant: boolean;\r\n}\r\n\r\nexport const useReportExport = (props: UseReportExportProps) => {\r\n  const [exportModalVisible, setExportModalVisible] = useState(false);\r\n  const [exportFormat, setExportFormat] = useState<'pdf' | 'excel' | 'csv'>('excel');\r\n  const [exportOptions, setExportOptions] = useState<string[]>(['summary', 'charts', 'tables']);\r\n\r\n  const handleExport = () => {\r\n    const reportType = getReportTypeFromTab(props.activeTab);\r\n    const cacheKey = `${reportType}_${props.selectedTenant}_${props.selectedOrganisation}_${props.selectedBranch}_${props.dateRange?.[0]?.format('YYYY-MM-DD')}_${props.dateRange?.[1]?.format('YYYY-MM-DD')}`;\r\n    const reportData = props.reportCache[cacheKey];\r\n    \r\n    if (!reportData) {\r\n      message.error('No data available to export. Please apply filters first.');\r\n      return;\r\n    }\r\n    \r\n    const exportOpts = {\r\n      tenantOptions: props.tenantOptions,\r\n      organisationOptions: props.organisationOptions,\r\n      branchOptions: props.branchOptions,\r\n      selectedTenant: props.selectedTenant,\r\n      selectedOrganisation: props.selectedOrganisation,\r\n      selectedBranch: props.selectedBranch,\r\n      dateRange: props.dateRange,\r\n      isSuperAdmin: props.isSuperAdmin,\r\n      isTenant: props.isTenant,\r\n    };\r\n    \r\n    // Export based on active tab (report type)\r\n    if (exportFormat === 'excel') {\r\n      exportToExcel(reportData, reportType, exportOpts);\r\n    } else if (exportFormat === 'pdf') {\r\n      exportToPDF(reportData, reportType);\r\n    } else {\r\n      exportToCSV(reportData, reportType);\r\n    }\r\n    \r\n    setExportModalVisible(false);\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    message.info('Preparing report for printing...');\r\n    window.print();\r\n  };\r\n\r\n  return {\r\n    exportModalVisible,\r\n    setExportModalVisible,\r\n    exportFormat,\r\n    setExportFormat,\r\n    exportOptions,\r\n    setExportOptions,\r\n    handleExport,\r\n    handlePrint,\r\n  };\r\n};\r\n\r\n","import dayjs from 'dayjs';\r\nimport { message } from 'antd';\r\n\r\ninterface ExportOptions {\r\n  tenantOptions: any[];\r\n  organisationOptions: any[];\r\n  branchOptions: any[];\r\n  selectedTenant: string;\r\n  selectedOrganisation: string;\r\n  selectedBranch: string;\r\n  dateRange: [dayjs.Dayjs, dayjs.Dayjs] | null;\r\n  isSuperAdmin: boolean;\r\n  isTenant: boolean;\r\n}\r\n\r\n// Helper to get filter labels\r\nexport const getFilterLabels = (options: ExportOptions) => {\r\n  const getTenantLabel = () => {\r\n    if (options.selectedTenant === 'all') return 'All Tenants';\r\n    const tenant = options.tenantOptions.find((t: any) => t.value === options.selectedTenant);\r\n    return tenant?.label || options.selectedTenant;\r\n  };\r\n  \r\n  const getOrganisationLabel = () => {\r\n    if (options.selectedOrganisation === 'all') return 'All Organisations';\r\n    const org = options.organisationOptions.find((o: any) => o.value === options.selectedOrganisation);\r\n    return org?.label || options.selectedOrganisation;\r\n  };\r\n  \r\n  const getBranchLabel = () => {\r\n    if (options.selectedBranch === 'all') return 'All Branches';\r\n    const branch = options.branchOptions.find((b: any) => b.value === options.selectedBranch);\r\n    return branch?.label || options.selectedBranch;\r\n  };\r\n\r\n  return { getTenantLabel, getOrganisationLabel, getBranchLabel };\r\n};\r\n\r\n// Excel export function\r\nexport const exportToExcel = (data: any, reportType: string, options: ExportOptions) => {\r\n  let excelData: any[] = [];\r\n  const fileName = `${reportType}_report_${dayjs().format('YYYY-MM-DD')}`;\r\n  \r\n  const { getTenantLabel, getOrganisationLabel, getBranchLabel } = getFilterLabels(options);\r\n  \r\n  switch (reportType) {\r\n    case 'inventory':\r\n      excelData = [\r\n        ['Inventory Report', '', '', ''],\r\n        ['Date Range:', options.dateRange?.[0]?.format('YYYY-MM-DD'), 'to', options.dateRange?.[1]?.format('YYYY-MM-DD')],\r\n        ...(options.isSuperAdmin ? [['Tenant:', getTenantLabel(), '', '']] : []),\r\n        ...((options.isSuperAdmin || options.isTenant) ? [['Organisation:', getOrganisationLabel(), '', '']] : []),\r\n        ['Branch:', getBranchLabel(), '', ''],\r\n        ['', '', '', ''],\r\n        ['Total Products', 'Stock Value', 'Low Stock Items', 'Out of Stock'],\r\n        [data.totalProducts, `${data.stockValue.toLocaleString()}`, data.lowStockItems, data.outOfStock],\r\n        ['', '', '', ''],\r\n        ['Category', 'Sales', 'Profit', 'Margin'],\r\n        ...data.categoryData.map((item: any) => [\r\n          item.name, \r\n          `${item.sales.toLocaleString()}`, \r\n          `${item.profit.toLocaleString()}`, \r\n          `${item.margin}%`\r\n        ])\r\n      ];\r\n      break;\r\n    case 'sales':\r\n      excelData = [\r\n        ['Sales Report', '', '', ''],\r\n        ['Date Range:', options.dateRange?.[0]?.format('YYYY-MM-DD'), 'to', options.dateRange?.[1]?.format('YYYY-MM-DD')],\r\n        ...(options.isSuperAdmin ? [['Tenant:', getTenantLabel(), '', '']] : []),\r\n        ...((options.isSuperAdmin || options.isTenant) ? [['Organisation:', getOrganisationLabel(), '', '']] : []),\r\n        ['Branch:', getBranchLabel(), '', ''],\r\n        ['', '', '', ''],\r\n        ['Total Sales', 'Avg Order Value', 'Conversion Rate', ''],\r\n        [`${data.totalSales.toLocaleString()}`, `${data.avgOrderValue}`, `${data.conversionRate}%`, ''],\r\n        ['', '', '', ''],\r\n        ['Customer Name', 'Total Purchase', 'Orders', 'Outstanding'],\r\n        ...data.topCustomers.map((customer: any) => [\r\n          customer.name,\r\n          `${customer.totalPurchase.toLocaleString()}`,\r\n          customer.orders,\r\n          `${customer.outstanding.toLocaleString()}`\r\n        ])\r\n      ];\r\n      break;\r\n    default:\r\n      excelData = [\r\n        ['Report Data', '', '', ''],\r\n        ['Date Range:', options.dateRange?.[0]?.format('YYYY-MM-DD'), 'to', options.dateRange?.[1]?.format('YYYY-MM-DD')],\r\n        ...(options.isSuperAdmin ? [['Tenant:', getTenantLabel(), '', '']] : []),\r\n        ...((options.isSuperAdmin || options.isTenant) ? [['Organisation:', getOrganisationLabel(), '', '']] : []),\r\n        ['Branch:', getBranchLabel(), '', ''],\r\n        ['', '', '', ''],\r\n        ...Object.entries(data).map(([key, value]) => [key, value, '', ''])\r\n      ];\r\n  }\r\n  \r\n  // Convert to CSV format for download\r\n  const csvContent = excelData.map(row => row.join(',')).join('\\n');\r\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n  const link = document.createElement('a');\r\n  const url = URL.createObjectURL(blob);\r\n  link.setAttribute('href', url);\r\n  link.setAttribute('download', `${fileName}.csv`);\r\n  link.style.visibility = 'hidden';\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  \r\n  message.success(`${reportType} report exported to Excel successfully!`);\r\n};\r\n\r\n// PDF export function\r\nexport const exportToPDF = (data: any, reportType: string) => {\r\n  message.info('PDF export functionality will be implemented with a PDF library');\r\n};\r\n\r\n// CSV export function\r\nexport const exportToCSV = (data: any, reportType: string) => {\r\n  const csvData = Object.entries(data).map(([key, value]) => `${key},${value}`).join('\\n');\r\n  const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });\r\n  const link = document.createElement('a');\r\n  const url = URL.createObjectURL(blob);\r\n  link.setAttribute('href', url);\r\n  link.setAttribute('download', `${reportType}_report_${dayjs().format('YYYY-MM-DD')}.csv`);\r\n  link.style.visibility = 'hidden';\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  \r\n  message.success(`${reportType} report exported to CSV successfully!`);\r\n};\r\n\r\n","import React from 'react';\r\nimport { Card, Row, Col, Typography, Statistic, Empty } from 'antd';\r\nimport {\r\n  DollarOutlined,\r\n  FundOutlined,\r\n  ShoppingCartOutlined,\r\n  UserOutlined,\r\n  BarChartOutlined,\r\n  LineChartOutlined,\r\n  PieChartOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  LineChart,\r\n  Line,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  ComposedChart,\r\n} from 'recharts';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\n\r\nconst { Text } = Typography;\r\nconst COLORS = ['#1890ff', '#52c41a', '#722ed1', '#fa8c16', '#13c2c2', '#eb2f96'];\r\n\r\nconst ComprehensiveReport: React.FC = () => {\r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get data from Redux store\r\n  const salesReportData = useDynamicSelector(Reports.getIdentifier('GetSalesReport'));\r\n  const profitLossData = useDynamicSelector(Reports.getIdentifier('GetProfitLossReport'));\r\n  const customerSalesData = useDynamicSelector(Reports.getIdentifier('GetCustomerSalesReport'));\r\n  const stockReportData = useDynamicSelector(Reports.getIdentifier('GetStockReport'));\r\n  const paymentCollectionData = useDynamicSelector(Reports.getIdentifier('GetPaymentCollectionReport'));\r\n  const productSalesData = useDynamicSelector(Reports.getIdentifier('GetProductSalesReport'));\r\n  \r\n  // Extract data\r\n  const salesSummary = salesReportData?.result?.summary || {};\r\n  const profitLoss = profitLossData?.result || {};\r\n  const customers = customerSalesData?.result?.customers || [];\r\n  const stockSummary = stockReportData?.result?.summary || {};\r\n  const collectionSummary = paymentCollectionData?.result?.summary || {};\r\n  const productSales = productSalesData?.result?.products || [];\r\n  const salesData = salesReportData?.result?.sales || [];\r\n  \r\n  // Calculate metrics\r\n  const totalRevenue = parseFloat(salesSummary.total_revenue) || 0;\r\n  const netProfit = parseFloat(profitLoss.profit?.net_profit) || 0;\r\n  const totalBills = parseInt(salesSummary.total_bills) || 0;\r\n  const totalCustomers = customers.length;\r\n  const avgBillValue = parseFloat(salesSummary.average_bill_value) || 0;\r\n  const profitMargin = parseFloat(profitLoss.profit?.profit_margin_percentage) || 0;\r\n  const stockValue = parseFloat(stockSummary.total_stock_value) || 0;\r\n  const totalCollected = parseFloat(collectionSummary.total_collected) || 0;\r\n  \r\n  // Prepare customer segments\r\n  const activeCustomers = customers.filter((c: any) => parseFloat(c.total_purchase) > 0);\r\n  const avgLifetimeValue = activeCustomers.length > 0 \r\n    ? activeCustomers.reduce((sum: number, c: any) => sum + parseFloat(c.total_purchase), 0) / activeCustomers.length \r\n    : 0;\r\n  \r\n  const customerSegments = [\r\n    { \r\n      name: 'High Value', \r\n      value: activeCustomers.filter((c: any) => parseFloat(c.total_purchase) > avgLifetimeValue * 1.5).length, \r\n      color: '#52c41a',\r\n      percentage: activeCustomers.length > 0 ? ((activeCustomers.filter((c: any) => parseFloat(c.total_purchase) > avgLifetimeValue * 1.5).length / activeCustomers.length) * 100).toFixed(1) : 0\r\n    },\r\n    { \r\n      name: 'Medium Value', \r\n      value: activeCustomers.filter((c: any) => {\r\n        const purchase = parseFloat(c.total_purchase);\r\n        return purchase >= avgLifetimeValue * 0.7 && purchase <= avgLifetimeValue * 1.5;\r\n      }).length,\r\n      color: '#1890ff',\r\n      percentage: activeCustomers.length > 0 ? ((activeCustomers.filter((c: any) => {\r\n        const purchase = parseFloat(c.total_purchase);\r\n        return purchase >= avgLifetimeValue * 0.7 && purchase <= avgLifetimeValue * 1.5;\r\n      }).length / activeCustomers.length) * 100).toFixed(1) : 0\r\n    },\r\n    { \r\n      name: 'Low Value', \r\n      value: activeCustomers.filter((c: any) => parseFloat(c.total_purchase) < avgLifetimeValue * 0.7 && parseFloat(c.total_purchase) > 0).length,\r\n      color: '#fa8c16',\r\n      percentage: activeCustomers.length > 0 ? ((activeCustomers.filter((c: any) => parseFloat(c.total_purchase) < avgLifetimeValue * 0.7 && parseFloat(c.total_purchase) > 0).length / activeCustomers.length) * 100).toFixed(1) : 0\r\n    },\r\n  ].filter(s => s.value > 0);\r\n  \r\n  // Top products for chart\r\n  const topProductsChart = productSales.slice(0, 6).map((product: any) => ({\r\n    name: (product.name || 'Unknown').substring(0, 20),\r\n    sales: parseFloat(product.total_revenue) || 0,\r\n    quantity: parseInt(product.total_quantity_sold) || 0,\r\n  }));\r\n  \r\n  // Payment method breakdown\r\n  const paymentMethods = (collectionSummary.payment_mode_breakdown || []).map((item: any) => ({\r\n    method: item.payment_mode || 'Cash',\r\n    amount: parseFloat(item.total_amount) || 0,\r\n    percentage: totalCollected > 0 ? ((parseFloat(item.total_amount) / totalCollected) * 100).toFixed(1) : 0,\r\n  }));\r\n  \r\n  // Sales trend data (if grouped data available)\r\n  const trendData = Array.isArray(salesData) && salesData.length > 0 && salesData[0]?.period\r\n    ? salesData.map((item: any) => ({\r\n        period: item.period,\r\n        sales: parseFloat(item.total_sales) || 0,\r\n        transactions: parseInt(item.total_transactions) || 0,\r\n      }))\r\n    : [];\r\n\r\n  return (\r\n    <div>\r\n      {/* Key Performance Indicators */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: '#fff' }}>\r\n            <DollarOutlined style={{ fontSize: 32, marginBottom: 8 }} />\r\n            <Statistic\r\n              title={<Text style={{ color: '#fff' }}>Total Revenue</Text>}\r\n              value={totalRevenue}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#fff', fontSize: 24 }}\r\n            />\r\n            <Text style={{ color: '#fff', fontSize: 12 }}>\r\n              {totalBills} Bills  Avg: {avgBillValue.toFixed(2)}\r\n            </Text>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', color: '#fff' }}>\r\n            <FundOutlined style={{ fontSize: 32, marginBottom: 8 }} />\r\n            <Statistic\r\n              title={<Text style={{ color: '#fff' }}>Net Profit</Text>}\r\n              value={netProfit}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#fff', fontSize: 24 }}\r\n            />\r\n            <Text style={{ color: '#fff', fontSize: 12 }}>\r\n              Margin: {profitMargin}%\r\n            </Text>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)', color: '#fff' }}>\r\n            <ShoppingCartOutlined style={{ fontSize: 32, marginBottom: 8 }} />\r\n            <Statistic\r\n              title={<Text style={{ color: '#fff' }}>Stock Value</Text>}\r\n              value={stockValue}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#fff', fontSize: 24 }}\r\n            />\r\n            <Text style={{ color: '#fff', fontSize: 12 }}>\r\n              {parseInt(stockSummary.total_items) || 0} Items in stock\r\n            </Text>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)', color: '#fff' }}>\r\n            <UserOutlined style={{ fontSize: 32, marginBottom: 8 }} />\r\n            <Statistic\r\n              title={<Text style={{ color: '#fff' }}>Customers</Text>}\r\n              value={totalCustomers}\r\n              valueStyle={{ color: '#fff', fontSize: 24 }}\r\n            />\r\n            <Text style={{ color: '#fff', fontSize: 12 }}>\r\n              {activeCustomers.length} Active customers\r\n            </Text>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Sales Trend & Customer Segments */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={16}>\r\n          <Card title={<><LineChartOutlined /> Sales Trend</>} style={{ borderRadius: 12 }}>\r\n            {trendData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <ComposedChart data={trendData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"period\" />\r\n                  <YAxis />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"transactions\" fill=\"#8884d8\" name=\"Transactions\" />\r\n                  <Line type=\"monotone\" dataKey=\"sales\" stroke=\"#82ca9d\" strokeWidth={3} name=\"Sales ()\" />\r\n                </ComposedChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"(daily/monthly/yearly) to see trends\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={8}>\r\n          <Card title={<><PieChartOutlined /> Customer Segments</>} style={{ borderRadius: 12 }}>\r\n            {customerSegments.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={customerSegments}\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    labelLine={false}\r\n                    label={({ name, percentage }) => `${name}: ${percentage}%`}\r\n                    outerRadius={80}\r\n                    fill=\"#8884d8\"\r\n                    dataKey=\"value\"\r\n                  >\r\n                    {customerSegments.map((entry, index) => (\r\n                      <Cell key={`cell-${index}`} fill={entry.color} />\r\n                    ))}\r\n                  </Pie>\r\n                  <RechartsTooltip />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No customer data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Product Performance & Payment Methods */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title={<><BarChartOutlined /> Top Products</>} style={{ borderRadius: 12 }}>\r\n            {topProductsChart.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={topProductsChart} layout=\"vertical\">\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis type=\"number\" />\r\n                  <YAxis dataKey=\"name\" type=\"category\" width={120} />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"sales\" fill=\"#8884d8\" name=\"Revenue ()\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No product data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Payment Method Distribution\" style={{ borderRadius: 12 }}>\r\n            {paymentMethods.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={paymentMethods}\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    labelLine={false}\r\n                    label={({ method, percentage }) => `${method}: ${percentage}%`}\r\n                    outerRadius={80}\r\n                    fill=\"#8884d8\"\r\n                    dataKey=\"amount\"\r\n                  >\r\n                    {paymentMethods.map((entry: any, index: number) => (\r\n                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                    ))}\r\n                  </Pie>\r\n                  <RechartsTooltip formatter={(value: number) => `${value.toLocaleString()}`} />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No payment data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComprehensiveReport;\r\n","import React from 'react';\r\nimport { Card, Row, Col, Statistic, Table, Typography, Empty } from 'antd';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  BarChart,\r\n  Bar,\r\n} from 'recharts';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\n\r\nconst { Text } = Typography;\r\n\r\nconst FinancialReport: React.FC = () => {\r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get data from Redux store\r\n  const profitLossData = useDynamicSelector(Reports.getIdentifier('GetProfitLossReport'));\r\n  const expenseData = useDynamicSelector(Reports.getIdentifier('GetExpenseReport'));\r\n  const gstData = useDynamicSelector(Reports.getIdentifier('GetGSTReport'));\r\n  \r\n  // Extract data\r\n  const profitLoss = profitLossData?.result || {};\r\n  const expenses = expenseData?.result?.expenses || [];\r\n  const expenseSummary = expenseData?.result?.summary || {};\r\n  const gstSummary = gstData?.result?.summary || {};\r\n  \r\n  // Calculate metrics\r\n  const totalRevenue = parseFloat(profitLoss.revenue?.total_sales_revenue) || 0;\r\n  const totalDiscount = parseFloat(profitLoss.revenue?.total_discount_given) || 0;\r\n  const netRevenue = parseFloat(profitLoss.revenue?.net_revenue) || totalRevenue - totalDiscount;\r\n  const cogs = parseFloat(profitLoss.costs?.cost_of_goods_sold) || 0;\r\n  const operatingExpenses = parseFloat(profitLoss.costs?.operating_expenses) || 0;\r\n  const totalCosts = parseFloat(profitLoss.costs?.total_costs) || 0;\r\n  const grossProfit = parseFloat(profitLoss.profit?.gross_profit) || 0;\r\n  const netProfit = parseFloat(profitLoss.profit?.net_profit) || 0;\r\n  const profitMargin = parseFloat(profitLoss.profit?.profit_margin_percentage) || 0;\r\n  const gstCollected = parseFloat(gstSummary.total_gst_collected) || 0;\r\n  \r\n  // Prepare P&L statement data\r\n  const plStatementData = [\r\n    { category: 'Total Revenue', amount: totalRevenue, type: 'income' },\r\n    { category: 'Discount Given', amount: -totalDiscount, type: 'expense' },\r\n    { category: 'Net Revenue', amount: netRevenue, type: 'income' },\r\n    { category: 'Cost of Goods Sold', amount: -cogs, type: 'expense' },\r\n    { category: 'Gross Profit', amount: grossProfit, type: 'income' },\r\n    { category: 'Operating Expenses', amount: -operatingExpenses, type: 'expense' },\r\n    { category: 'Net Profit', amount: netProfit, type: 'profit' },\r\n  ];\r\n  \r\n  // Prepare expense breakdown chart\r\n  const expenseBreakdown = (expenseSummary.category_breakdown || []).map((item: any) => ({\r\n    category: item.category || 'Other',\r\n    amount: parseFloat(item.total_amount) || 0,\r\n    count: parseInt(item.expense_count) || 0,\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      {/* P&L Summary */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={24} md={6}>\r\n          <Card style={{ borderRadius: 12, textAlign: 'center', background: '#f6ffed' }}>\r\n            <Statistic\r\n              title=\"Total Revenue\"\r\n              value={totalRevenue}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#52c41a' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n          <Card style={{ borderRadius: 12, textAlign: 'center', background: '#fff7e6' }}>\r\n            <Statistic\r\n              title=\"Total Costs\"\r\n              value={totalCosts}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#fa8c16' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n          <Card style={{ borderRadius: 12, textAlign: 'center', background: '#e6f7ff' }}>\r\n            <Statistic\r\n              title=\"Net Profit\"\r\n              value={netProfit}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: netProfit >= 0 ? '#1890ff' : '#ff4d4f' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n          <Card style={{ borderRadius: 12, textAlign: 'center', background: '#f9f0ff' }}>\r\n            <Statistic\r\n              title=\"Profit Margin\"\r\n              value={profitMargin}\r\n              suffix=\"%\"\r\n              precision={2}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Detailed Breakdown */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Profit & Loss Statement\" style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={plStatementData}\r\n              columns={[\r\n                { \r\n                  title: 'Category', \r\n                  dataIndex: 'category', \r\n                  key: 'category',\r\n                  render: (text: string, record: any) => (\r\n                    <Text strong={record.type === 'profit'}>{text}</Text>\r\n                  )\r\n                },\r\n                {\r\n                  title: 'Amount',\r\n                  dataIndex: 'amount',\r\n                  key: 'amount',\r\n                  align: 'right',\r\n                  render: (amt: number, record: any) => (\r\n                    <Text\r\n                      strong={record.type === 'profit'}\r\n                      style={{\r\n                        color: record.type === 'income' || record.type === 'profit' \r\n                          ? amt >= 0 ? '#52c41a' : '#ff4d4f'\r\n                          : '#ff4d4f',\r\n                      }}\r\n                    >\r\n                      {Math.abs(amt).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                    </Text>\r\n                  ),\r\n                },\r\n              ]}\r\n              pagination={false}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No financial data available' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Expense Breakdown by Category\" style={{ borderRadius: 12 }}>\r\n            {expenseBreakdown.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={350}>\r\n                <BarChart data={expenseBreakdown}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"category\" angle={-45} textAnchor=\"end\" height={100} />\r\n                  <YAxis />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"amount\" fill=\"#ff7a45\" name=\"Amount ()\" />\r\n                  <Bar dataKey=\"count\" fill=\"#1890ff\" name=\"Count\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No expense data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Additional Metrics */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} md={12}>\r\n          <Card title=\"Revenue & Cost Breakdown\" style={{ borderRadius: 12 }}>\r\n            <Row gutter={16}>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"Gross Profit\" \r\n                  value={grossProfit} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#52c41a', fontSize: '20px' }} \r\n                />\r\n              </Col>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"COGS\" \r\n                  value={cogs} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#ff4d4f', fontSize: '20px' }} \r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={16} style={{ marginTop: 16 }}>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"GST Collected\" \r\n                  value={gstCollected} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#1890ff', fontSize: '18px' }} \r\n                />\r\n              </Col>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"Discount Given\" \r\n                  value={totalDiscount} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#fa8c16', fontSize: '18px' }} \r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n        \r\n        <Col xs={24} md={12}>\r\n          <Card title=\"Expense Summary\" style={{ borderRadius: 12 }}>\r\n            <Row gutter={16}>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"Total Expenses\" \r\n                  value={parseFloat(expenseSummary.total_expense_amount) || 0} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#ff4d4f', fontSize: '20px' }} \r\n                />\r\n              </Col>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"Expense Count\" \r\n                  value={parseInt(expenseSummary.total_expense_count) || 0}\r\n                  valueStyle={{ color: '#1890ff', fontSize: '20px' }} \r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={16} style={{ marginTop: 16 }}>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"Avg Expense\" \r\n                  value={parseFloat(expenseSummary.average_expense) || 0} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#722ed1', fontSize: '18px' }} \r\n                />\r\n              </Col>\r\n              <Col xs={12}>\r\n                <Statistic \r\n                  title=\"Operating Exp\" \r\n                  value={operatingExpenses} \r\n                  prefix=\"\" \r\n                  precision={2}\r\n                  valueStyle={{ color: '#fa8c16', fontSize: '18px' }} \r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinancialReport;\r\n","import React from 'react';\r\nimport { Card, Row, Col, Statistic, Progress, Table, Tag, Empty } from 'antd';\r\nimport { TrophyOutlined } from '@ant-design/icons';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  AreaChart,\r\n  Area,\r\n  LineChart,\r\n  Line,\r\n} from 'recharts';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\n\r\nconst SalesReport: React.FC = () => {\r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get data from Redux store\r\n  const salesReportData = useDynamicSelector(Reports.getIdentifier('GetSalesReport'));\r\n  const productSalesData = useDynamicSelector(Reports.getIdentifier('GetProductSalesReport'));\r\n  const topProductsData = useDynamicSelector(Reports.getIdentifier('GetTopProductsReport'));\r\n  \r\n  // Extract data\r\n  const salesSummary = salesReportData?.result?.summary || {};\r\n  const productSales = productSalesData?.result?.products || [];\r\n  const topProducts = topProductsData?.result?.top_products || [];\r\n  const salesData = salesReportData?.result?.sales || [];\r\n  \r\n  // Calculate average bill value and prepare chart data\r\n  const avgBillValue = salesSummary.average_bill_value || 0;\r\n  const totalRevenue = salesSummary.total_revenue || 0;\r\n  const totalBills = salesSummary.total_bills || 0;\r\n  const totalCollected = salesSummary.total_collected || 0;\r\n  const totalOutstanding = salesSummary.total_outstanding || 0;\r\n  \r\n  // Calculate percentages for progress bars\r\n  const revenuePercent = totalRevenue > 0 ? Math.min((totalRevenue / (totalRevenue * 1.2)) * 100, 100) : 0;\r\n  const collectionPercent = totalRevenue > 0 ? Math.min((totalCollected / totalRevenue) * 100, 100) : 0;\r\n  const outstandingPercent = totalRevenue > 0 ? Math.min((totalOutstanding / totalRevenue) * 100, 100) : 0;\r\n  \r\n  // Prepare product category data for chart\r\n  const categoryChartData = productSales.slice(0, 10).map((product: any) => ({\r\n    name: product.name || 'Unknown',\r\n    sales: parseFloat(product.total_revenue) || 0,\r\n    quantity: parseInt(product.total_quantity_sold) || 0,\r\n  }));\r\n  \r\n  // Prepare sales trend data (if grouped data available)\r\n  const trendData = Array.isArray(salesData) && salesData.length > 0 && salesData[0]?.period\r\n    ? salesData.map((item: any) => ({\r\n        period: item.period,\r\n        revenue: parseFloat(item.total_sales) || 0,\r\n        transactions: parseInt(item.total_transactions) || 0,\r\n      }))\r\n    : [];\r\n\r\n  return (\r\n    <div>\r\n      {/* Sales Metrics */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={12} md={6}>\r\n          <Card bordered={false} style={{ borderRadius: 12 }}>\r\n            <Statistic \r\n              title=\"Total Revenue\" \r\n              value={totalRevenue} \r\n              prefix=\"\" \r\n              precision={2}\r\n              valueStyle={{ color: '#1890ff' }} \r\n            />\r\n            <Progress percent={Math.round(revenuePercent)} size=\"small\" />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <Card bordered={false} style={{ borderRadius: 12 }}>\r\n            <Statistic \r\n              title=\"Avg Bill Value\" \r\n              value={avgBillValue} \r\n              prefix=\"\" \r\n              precision={2}\r\n              valueStyle={{ color: '#52c41a' }} \r\n            />\r\n            <Progress percent={Math.round(revenuePercent * 0.8)} size=\"small\" strokeColor=\"#52c41a\" />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <Card bordered={false} style={{ borderRadius: 12 }}>\r\n            <Statistic \r\n              title=\"Total Collected\" \r\n              value={totalCollected} \r\n              prefix=\"\" \r\n              precision={2}\r\n              valueStyle={{ color: '#722ed1' }} \r\n            />\r\n            <Progress percent={Math.round(collectionPercent)} size=\"small\" strokeColor=\"#722ed1\" />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={12} md={6}>\r\n          <Card bordered={false} style={{ borderRadius: 12 }}>\r\n            <Statistic \r\n              title=\"Outstanding\" \r\n              value={totalOutstanding} \r\n              prefix=\"\" \r\n              precision={2}\r\n              valueStyle={{ color: '#fa8c16' }} \r\n            />\r\n            <Progress percent={Math.round(outstandingPercent)} size=\"small\" strokeColor=\"#fa8c16\" />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Sales by Product & Trend */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Top Products by Revenue\" style={{ borderRadius: 12 }}>\r\n            {categoryChartData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={categoryChartData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\r\n                  <YAxis />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"sales\" fill=\"#1890ff\" name=\"Revenue ()\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No product sales data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Sales Trend\" style={{ borderRadius: 12 }}>\r\n            {trendData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={trendData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"period\" />\r\n                  <YAxis />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"#1890ff\" name=\"Revenue ()\" />\r\n                  <Line type=\"monotone\" dataKey=\"transactions\" stroke=\"#52c41a\" name=\"Transactions\" />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No trend data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Top Products Table */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24}>\r\n          <Card title={<><TrophyOutlined /> Top 10 Products</>} style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={topProducts}\r\n              rowKey=\"_id\"\r\n              columns={[\r\n                {\r\n                  title: 'Rank',\r\n                  key: 'rank',\r\n                  width: 70,\r\n                  render: (_: any, __: any, index: number) => (\r\n                    <Tag color={index === 0 ? 'gold' : index === 1 ? 'silver' : index === 2 ? 'bronze' : 'default'}>\r\n                      #{index + 1}\r\n                    </Tag>\r\n                  ),\r\n                },\r\n                { \r\n                  title: 'Product Name', \r\n                  dataIndex: 'name', \r\n                  key: 'name',\r\n                  render: (name: string, record: any) => (\r\n                    <div>\r\n                      <div style={{ fontWeight: 500 }}>{name}</div>\r\n                      {record.VariantItem && (\r\n                        <div style={{ fontSize: '12px', color: '#888' }}>\r\n                          {record.VariantItem.variant_name}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                },\r\n                {\r\n                  title: 'Total Revenue',\r\n                  dataIndex: 'total_revenue',\r\n                  key: 'total_revenue',\r\n                  render: (val: string) => `${parseFloat(val || '0').toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n                  sorter: (a: any, b: any) => parseFloat(a.total_revenue) - parseFloat(b.total_revenue),\r\n                },\r\n                {\r\n                  title: 'Quantity Sold',\r\n                  dataIndex: 'total_quantity_sold',\r\n                  key: 'total_quantity_sold',\r\n                  render: (val: string) => parseInt(val || '0').toLocaleString(),\r\n                  sorter: (a: any, b: any) => parseInt(a.total_quantity_sold) - parseInt(b.total_quantity_sold),\r\n                },\r\n                {\r\n                  title: 'Orders',\r\n                  dataIndex: 'total_orders',\r\n                  key: 'total_orders',\r\n                  render: (val: string) => parseInt(val || '0').toLocaleString(),\r\n                  sorter: (a: any, b: any) => parseInt(a.total_orders) - parseInt(b.total_orders),\r\n                },\r\n              ]}\r\n              pagination={{ pageSize: 10 }}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No product data available' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalesReport;\r\n\r\n","import React from 'react';\r\nimport { Card, Row, Col, Statistic, Table, Tag, Empty } from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  RiseOutlined,\r\n  TeamOutlined,\r\n  DollarOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  Tooltip as RechartsTooltip,\r\n  ResponsiveContainer,\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Legend,\r\n} from 'recharts';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\n\r\nconst CustomerReport: React.FC = () => {\r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get data from Redux store\r\n  const customerSalesData = useDynamicSelector(Reports.getIdentifier('GetCustomerSalesReport'));\r\n  const topCustomersData = useDynamicSelector(Reports.getIdentifier('GetTopCustomersReport'));\r\n  \r\n  // Extract data\r\n  const customers = customerSalesData?.result?.customers || [];\r\n  const topCustomers = topCustomersData?.result?.top_customers || [];\r\n  \r\n  // Calculate metrics\r\n  const totalCustomers = customers.length;\r\n  const customersWithData = customers.filter((c: any) => parseFloat(c.total_purchase) > 0);\r\n  const avgLifetimeValue = customersWithData.length > 0 \r\n    ? customersWithData.reduce((sum: number, c: any) => sum + parseFloat(c.total_purchase), 0) / customersWithData.length \r\n    : 0;\r\n  \r\n  // VIP customers (customers with purchase > average * 1.5)\r\n  const vipCustomers = customersWithData.filter((c: any) => parseFloat(c.total_purchase) > avgLifetimeValue * 1.5);\r\n  \r\n  // Segment customers by purchase value\r\n  const segmentCustomers = () => {\r\n    const segments = [\r\n      { name: 'High Value', value: 0, color: '#52c41a', min: avgLifetimeValue * 1.5 },\r\n      { name: 'Medium Value', value: 0, color: '#1890ff', min: avgLifetimeValue * 0.7, max: avgLifetimeValue * 1.5 },\r\n      { name: 'Low Value', value: 0, color: '#fa8c16', max: avgLifetimeValue * 0.7 },\r\n      { name: 'Inactive', value: 0, color: '#d9d9d9', max: 0 },\r\n    ];\r\n    \r\n    customers.forEach((c: any) => {\r\n      const purchase = parseFloat(c.total_purchase);\r\n      if (purchase > avgLifetimeValue * 1.5) segments[0].value++;\r\n      else if (purchase >= avgLifetimeValue * 0.7) segments[1].value++;\r\n      else if (purchase > 0) segments[2].value++;\r\n      else segments[3].value++;\r\n    });\r\n    \r\n    return segments.filter(s => s.value > 0);\r\n  };\r\n  \r\n  const customerSegments = segmentCustomers();\r\n  \r\n  // Top 10 customers for chart\r\n  const top10Chart = topCustomers.slice(0, 10).map((c: any) => ({\r\n    name: c.name?.substring(0, 15) || 'Unknown',\r\n    purchase: parseFloat(c.total_purchase) || 0,\r\n    bills: parseInt(c.total_bills) || 0,\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      {/* Customer Metrics */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <UserOutlined style={{ fontSize: 32, color: '#1890ff', marginBottom: 8 }} />\r\n            <Statistic title=\"Total Customers\" value={totalCustomers} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <RiseOutlined style={{ fontSize: 32, color: '#52c41a', marginBottom: 8 }} />\r\n            <Statistic title=\"Active Customers\" value={customersWithData.length} valueStyle={{ color: '#52c41a' }} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <TeamOutlined style={{ fontSize: 32, color: '#722ed1', marginBottom: 8 }} />\r\n            <Statistic title=\"VIP Customers\" value={vipCustomers.length} valueStyle={{ color: '#722ed1' }} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <DollarOutlined style={{ fontSize: 32, color: '#fa8c16', marginBottom: 8 }} />\r\n            <Statistic title=\"Avg Lifetime Value\" value={avgLifetimeValue} prefix=\"\" precision={2} valueStyle={{ color: '#fa8c16' }} />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Customer Segmentation */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Customer Segmentation\" style={{ borderRadius: 12 }}>\r\n            {customerSegments.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={customerSegments}\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    labelLine={true}\r\n                    label={({ name, value }) => `${name}: ${value}`}\r\n                    outerRadius={100}\r\n                    fill=\"#8884d8\"\r\n                    dataKey=\"value\"\r\n                  >\r\n                    {customerSegments.map((entry, index) => (\r\n                      <Cell key={`cell-${index}`} fill={entry.color} />\r\n                    ))}\r\n                  </Pie>\r\n                  <RechartsTooltip />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No customer data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Top 10 Customers by Purchase\" style={{ borderRadius: 12 }}>\r\n            {top10Chart.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={top10Chart}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\r\n                  <YAxis />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"purchase\" fill=\"#1890ff\" name=\"Purchase ()\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No customer data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Top Customers Table */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24}>\r\n          <Card title=\"Customer Details\" style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={topCustomers}\r\n              rowKey=\"_id\"\r\n              columns={[\r\n                { \r\n                  title: 'Customer Name', \r\n                  dataIndex: 'name', \r\n                  key: 'name',\r\n                  render: (name: string, record: any) => (\r\n                    <div>\r\n                      <div style={{ fontWeight: 500 }}>{name || 'Unknown'}</div>\r\n                      {record.phone && (\r\n                        <div style={{ fontSize: '12px', color: '#888' }}>\r\n                          {record.phone}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                },\r\n                {\r\n                  title: 'Total Purchase',\r\n                  dataIndex: 'total_purchase',\r\n                  key: 'total_purchase',\r\n                  render: (val: string) => `${parseFloat(val || '0').toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n                  sorter: (a: any, b: any) => parseFloat(a.total_purchase) - parseFloat(b.total_purchase),\r\n                },\r\n                {\r\n                  title: 'Bills',\r\n                  dataIndex: 'total_bills',\r\n                  key: 'total_bills',\r\n                  render: (val: string) => parseInt(val || '0').toLocaleString(),\r\n                  sorter: (a: any, b: any) => parseInt(a.total_bills) - parseInt(b.total_bills),\r\n                },\r\n                {\r\n                  title: 'Avg Bill Value',\r\n                  dataIndex: 'average_bill_value',\r\n                  key: 'average_bill_value',\r\n                  render: (val: string) => `${parseFloat(val || '0').toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n                  sorter: (a: any, b: any) => parseFloat(a.average_bill_value) - parseFloat(b.average_bill_value),\r\n                },\r\n                {\r\n                  title: 'Outstanding',\r\n                  dataIndex: 'outstanding_amount',\r\n                  key: 'outstanding_amount',\r\n                  render: (val: string) => {\r\n                    const amount = parseFloat(val || '0');\r\n                    return (\r\n                      <Tag color={amount > 0 ? 'orange' : 'green'}>\r\n                        {amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                      </Tag>\r\n                    );\r\n                  },\r\n                  sorter: (a: any, b: any) => parseFloat(a.outstanding_amount) - parseFloat(b.outstanding_amount),\r\n                },\r\n                {\r\n                  title: 'Status',\r\n                  key: 'status',\r\n                  render: (_: any, record: any) => {\r\n                    const outstanding = parseFloat(record.outstanding_amount || '0');\r\n                    return (\r\n                      <Tag color={outstanding === 0 ? 'success' : outstanding > 0 ? 'warning' : 'default'}>\r\n                        {outstanding === 0 ? 'Clear' : 'Pending'}\r\n                      </Tag>\r\n                    );\r\n                  },\r\n                },\r\n              ]}\r\n              pagination={{ pageSize: 10 }}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No customer data available' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerReport;\r\n\r\n","import React from 'react';\r\nimport { Card, Row, Col, Statistic, Table, Tag, Progress, Empty } from 'antd';\r\nimport {\r\n  StockOutlined,\r\n  DollarOutlined,\r\n  FallOutlined,\r\n  WarningOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n} from 'recharts';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\nimport dayjs from 'dayjs';\r\n\r\nconst COLORS = ['#1890ff', '#52c41a', '#722ed1', '#fa8c16', '#13c2c2', '#eb2f96'];\r\n\r\nconst InventoryReport: React.FC = () => {\r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get data from Redux store\r\n  const stockReportData = useDynamicSelector(Reports.getIdentifier('GetStockReport'));\r\n  const stockExpiryData = useDynamicSelector(Reports.getIdentifier('GetStockExpiryReport'));\r\n  \r\n  // Extract data\r\n  const stockDetails = stockReportData?.result?.stock_details || [];\r\n  const stockSummary = stockReportData?.result?.summary || {};\r\n  const lowStockItems = stockReportData?.result?.low_stock_items || [];\r\n  const expiringStock = stockExpiryData?.result?.expiring_stock || [];\r\n  const expirySummary = stockExpiryData?.result?.summary || {};\r\n  const expiryBreakdown = stockExpiryData?.result?.expiry_breakdown || {};\r\n  \r\n  // Calculate metrics\r\n  const totalProducts = parseInt(stockSummary.total_items) || 0;\r\n  const stockValue = parseFloat(stockSummary.total_stock_value) || 0;\r\n  const lowStock = parseInt(stockSummary.low_stock_count) || 0;\r\n  const expiredCount = parseInt(expirySummary.expired_count) || 0;\r\n  const within7Days = parseInt(expirySummary.within_7_days_count) || 0;\r\n  \r\n  // Group stock by category\r\n  const categoryStockMap = new Map<string, { value: number; count: number }>();\r\n  stockDetails.forEach((item: any) => {\r\n    const categoryName = item.ProductItem?.CategoryItem?.category_name || 'Uncategorized';\r\n    const qty = parseInt(item.available_quantity) || 0;\r\n    const price = parseFloat(item.buy_price) || 0;\r\n    const value = qty * price;\r\n    \r\n    if (categoryStockMap.has(categoryName)) {\r\n      const existing = categoryStockMap.get(categoryName)!;\r\n      categoryStockMap.set(categoryName, {\r\n        value: existing.value + value,\r\n        count: existing.count + 1,\r\n      });\r\n    } else {\r\n      categoryStockMap.set(categoryName, { value, count: 1 });\r\n    }\r\n  });\r\n  \r\n  // Convert to array for chart\r\n  const categoryData = Array.from(categoryStockMap.entries()).map(([name, data]) => ({\r\n    name,\r\n    value: data.value,\r\n    count: data.count,\r\n  }));\r\n  \r\n  // Expiry timeline data\r\n  const expiryTimelineData = [\r\n    { name: 'Expired', count: (expiryBreakdown.expired || []).length, color: '#ff4d4f' },\r\n    { name: 'Within 7 days', count: (expiryBreakdown.within_7_days || []).length, color: '#ff7a45' },\r\n    { name: 'Within 30 days', count: (expiryBreakdown.within_30_days || []).length, color: '#ffa940' },\r\n    { name: 'Within 90 days', count: (expiryBreakdown.within_90_days || []).length, color: '#ffc53d' },\r\n  ].filter(item => item.count > 0);\r\n\r\n  return (\r\n    <div>\r\n      {/* Inventory Metrics */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <StockOutlined style={{ fontSize: 32, color: '#1890ff', marginBottom: 8 }} />\r\n            <Statistic title=\"Total Items\" value={totalProducts} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <DollarOutlined style={{ fontSize: 32, color: '#52c41a', marginBottom: 8 }} />\r\n            <Statistic title=\"Stock Value\" value={stockValue} prefix=\"\" precision={2} valueStyle={{ color: '#52c41a' }} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <FallOutlined style={{ fontSize: 32, color: '#ff4d4f', marginBottom: 8 }} />\r\n            <Statistic title=\"Low Stock Items\" value={lowStock} valueStyle={{ color: '#ff4d4f' }} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <WarningOutlined style={{ fontSize: 32, color: '#fa8c16', marginBottom: 8 }} />\r\n            <Statistic title=\"Expiring Soon (7d)\" value={within7Days} valueStyle={{ color: '#fa8c16' }} />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Stock Distribution & Expiry */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Category-wise Stock Value\" style={{ borderRadius: 12 }}>\r\n            {categoryData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={categoryData}\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    labelLine={false}\r\n                    label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\r\n                    outerRadius={100}\r\n                    fill=\"#8884d8\"\r\n                    dataKey=\"value\"\r\n                  >\r\n                    {categoryData.map((entry, index) => (\r\n                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                    ))}\r\n                  </Pie>\r\n                  <RechartsTooltip formatter={(value: number) => `${value.toLocaleString()}`} />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No stock data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Stock Expiry Timeline\" style={{ borderRadius: 12 }}>\r\n            {expiryTimelineData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <BarChart data={expiryTimelineData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis />\r\n                  <RechartsTooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"count\" fill=\"#ff7a45\" name=\"Items Count\">\r\n                    {expiryTimelineData.map((entry, index) => (\r\n                      <Cell key={`cell-${index}`} fill={entry.color} />\r\n                    ))}\r\n                  </Bar>\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No expiry data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Low Stock Items Table */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title={<><FallOutlined style={{ color: '#ff4d4f' }} /> Low Stock Items</>} style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={lowStockItems}\r\n              rowKey={(record: any) => `${record.product}-${record.variant}`}\r\n              columns={[\r\n                { \r\n                  title: 'Product', \r\n                  dataIndex: 'product', \r\n                  key: 'product',\r\n                  render: (product: string, record: any) => (\r\n                    <div>\r\n                      <div style={{ fontWeight: 500 }}>{product || 'Unknown'}</div>\r\n                      {record.variant && (\r\n                        <div style={{ fontSize: '12px', color: '#888' }}>{record.variant}</div>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                },\r\n                {\r\n                  title: 'Available',\r\n                  dataIndex: 'available_quantity',\r\n                  key: 'available_quantity',\r\n                  render: (qty: number, record: any) => (\r\n                    <Tag color=\"red\">\r\n                      {qty} {record.available_loose_quantity > 0 && `+ ${record.available_loose_quantity} loose`}\r\n                    </Tag>\r\n                  ),\r\n                },\r\n              ]}\r\n              pagination={{ pageSize: 5 }}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No low stock items' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        \r\n        <Col xs={24} lg={12}>\r\n          <Card title={<><WarningOutlined style={{ color: '#fa8c16' }} /> Expiring Soon</>} style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={expiringStock.slice(0, 10)}\r\n              rowKey=\"_id\"\r\n              columns={[\r\n                { \r\n                  title: 'Product', \r\n                  key: 'product',\r\n                  render: (record: any) => (\r\n                    <div>\r\n                      <div style={{ fontWeight: 500 }}>{record.ProductItem?.name || 'Unknown'}</div>\r\n                      {record.ProductItem?.VariantItem && (\r\n                        <div style={{ fontSize: '12px', color: '#888' }}>\r\n                          {record.ProductItem.VariantItem.variant_name}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                },\r\n                {\r\n                  title: 'Expiry Date',\r\n                  dataIndex: 'expiry_date',\r\n                  key: 'expiry_date',\r\n                  render: (date: string) => {\r\n                    const daysToExpiry = dayjs(date).diff(dayjs(), 'day');\r\n                    const color = daysToExpiry < 0 ? 'red' : daysToExpiry <= 7 ? 'orange' : 'yellow';\r\n                    return (\r\n                      <Tag color={color}>\r\n                        {dayjs(date).format('DD MMM YYYY')}\r\n                        {daysToExpiry < 0 && ' (Expired)'}\r\n                        {daysToExpiry >= 0 && ` (${daysToExpiry}d)`}\r\n                      </Tag>\r\n                    );\r\n                  },\r\n                },\r\n                {\r\n                  title: 'Qty',\r\n                  dataIndex: 'available_quantity',\r\n                  key: 'available_quantity',\r\n                },\r\n              ]}\r\n              pagination={{ pageSize: 5 }}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No expiring items' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Category Analysis Table */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24}>\r\n          <Card title=\"Category-wise Stock Analysis\" style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={categoryData}\r\n              rowKey=\"name\"\r\n              columns={[\r\n                { title: 'Category', dataIndex: 'name', key: 'name' },\r\n                {\r\n                  title: 'Items Count',\r\n                  dataIndex: 'count',\r\n                  key: 'count',\r\n                  sorter: (a: any, b: any) => a.count - b.count,\r\n                },\r\n                {\r\n                  title: 'Stock Value',\r\n                  dataIndex: 'value',\r\n                  key: 'value',\r\n                  render: (val: number) => `${val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n                  sorter: (a: any, b: any) => a.value - b.value,\r\n                },\r\n                {\r\n                  title: 'Percentage',\r\n                  key: 'percentage',\r\n                  render: (_: any, record: any) => {\r\n                    const percent = (record.value / stockValue) * 100;\r\n                    return (\r\n                      <Progress\r\n                        percent={Math.round(percent)}\r\n                        size=\"small\"\r\n                        status={percent > 20 ? 'success' : 'normal'}\r\n                      />\r\n                    );\r\n                  },\r\n                },\r\n              ]}\r\n              pagination={false}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No category data available' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryReport;\r\n\r\n","// Mock data for reports\r\n\r\nexport const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8', '#82CA9D', '#ffc658', '#8dd1e1'];\r\n\r\nexport const mockSalesData = [\r\n  { month: 'Jan', sales: 45000, profit: 12400, cost: 32600, orders: 124 },\r\n  { month: 'Feb', sales: 52000, profit: 15398, cost: 36602, orders: 143 },\r\n  { month: 'Mar', sales: 48000, profit: 13800, cost: 34200, orders: 138 },\r\n  { month: 'Apr', sales: 61000, profit: 17908, cost: 43092, orders: 169 },\r\n  { month: 'May', sales: 55000, profit: 16800, cost: 38200, orders: 158 },\r\n  { month: 'Jun', sales: 67000, profit: 20800, cost: 46200, orders: 189 },\r\n];\r\n\r\nexport const mockCustomerSegments = [\r\n  { name: 'New Customers', value: 145, color: '#0088FE', percentage: 28 },\r\n  { name: 'Regular Customers', value: 235, color: '#00C49F', percentage: 46 },\r\n  { name: 'VIP Customers', value: 85, color: '#FFBB28', percentage: 17 },\r\n  { name: 'Inactive', value: 45, color: '#FF8042', percentage: 9 },\r\n];\r\n\r\nexport const mockProductPerformance = [\r\n  { name: 'Electronics', sales: 120000, profit: 35000, margin: 29.2 },\r\n  { name: 'Clothing', sales: 95000, profit: 28500, margin: 30.0 },\r\n  { name: 'Food Items', sales: 78000, profit: 15600, margin: 20.0 },\r\n  { name: 'Furniture', sales: 56000, profit: 16800, margin: 30.0 },\r\n  { name: 'Accessories', sales: 42000, profit: 12600, margin: 30.0 },\r\n];\r\n\r\nexport const mockPaymentMethods = [\r\n  { method: 'Cash', amount: 125000, transactions: 342, percentage: 35 },\r\n  { method: 'Card', amount: 178000, transactions: 456, percentage: 50 },\r\n  { method: 'UPI', amount: 42000, transactions: 189, percentage: 12 },\r\n  { method: 'Credit', amount: 11000, transactions: 23, percentage: 3 },\r\n];\r\n\r\nexport const mockTopCustomers = [\r\n  { name: 'Rajesh Kumar', totalPurchase: 125000, orders: 45, outstanding: 5000 },\r\n  { name: 'Priya Sharma', totalPurchase: 98000, orders: 38, outstanding: 0 },\r\n  { name: 'Amit Patel', totalPurchase: 87000, orders: 32, outstanding: 8000 },\r\n  { name: 'Sneha Reddy', totalPurchase: 76000, orders: 28, outstanding: 2000 },\r\n  { name: 'Vikram Singh', totalPurchase: 65000, orders: 24, outstanding: 0 },\r\n];\r\n\r\nexport const mockStaffPerformance = [\r\n  { name: 'Rahul Verma', sales: 245000, orders: 89, conversion: 85, target: 250000 },\r\n  { name: 'Anita Desai', sales: 198000, orders: 76, conversion: 78, target: 200000 },\r\n  { name: 'Karan Mehta', sales: 176000, orders: 65, conversion: 72, target: 180000 },\r\n  { name: 'Pooja Nair', sales: 154000, orders: 58, conversion: 68, target: 150000 },\r\n];\r\n\r\n","import React from 'react';\r\nimport { Card, Row, Col, Statistic, Table, Tag, Progress } from 'antd';\r\nimport {\r\n  TeamOutlined,\r\n  TrophyOutlined,\r\n  RiseOutlined,\r\n  BarChartOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  RadarChart,\r\n  Radar,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n} from 'recharts';\r\nimport { mockStaffPerformance } from '../utils/mockData';\r\n\r\nconst StaffReport: React.FC = () => {\r\n  return (\r\n    <div>\r\n      {/* Staff Metrics */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <TeamOutlined style={{ fontSize: 32, color: '#1890ff', marginBottom: 8 }} />\r\n            <Statistic title=\"Total Staff\" value={24} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <TrophyOutlined style={{ fontSize: 32, color: '#52c41a', marginBottom: 8 }} />\r\n            <Statistic title=\"Top Performer Sales\" value={245000} prefix=\"\" valueStyle={{ color: '#52c41a' }} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <RiseOutlined style={{ fontSize: 32, color: '#722ed1', marginBottom: 8 }} />\r\n            <Statistic title=\"Avg Conversion Rate\" value={75.8} suffix=\"%\" valueStyle={{ color: '#722ed1' }} />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12 }}>\r\n            <BarChartOutlined style={{ fontSize: 32, color: '#fa8c16', marginBottom: 8 }} />\r\n            <Statistic title=\"Target Achievement\" value={91} suffix=\"%\" valueStyle={{ color: '#fa8c16' }} />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Performance Charts */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Staff Sales Performance\" style={{ borderRadius: 12 }}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={mockStaffPerformance} layout=\"vertical\">\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis type=\"number\" />\r\n                <YAxis dataKey=\"name\" type=\"category\" width={100} />\r\n                <RechartsTooltip />\r\n                <Legend />\r\n                <Bar dataKey=\"sales\" fill=\"#1890ff\" name=\"Sales ()\" />\r\n                <Bar dataKey=\"target\" fill=\"#d3d3d3\" name=\"Target ()\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Conversion Rate Comparison\" style={{ borderRadius: 12 }}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <RadarChart data={mockStaffPerformance}>\r\n                <PolarGrid />\r\n                <PolarAngleAxis dataKey=\"name\" />\r\n                <PolarRadiusAxis angle={90} domain={[0, 100]} />\r\n                <Radar name=\"Conversion %\" dataKey=\"conversion\" stroke=\"#8884d8\" fill=\"#8884d8\" fillOpacity={0.6} />\r\n                <RechartsTooltip />\r\n              </RadarChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Staff Performance Table */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24}>\r\n          <Card title=\"Detailed Staff Performance\" style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={mockStaffPerformance}\r\n              columns={[\r\n                { title: 'Name', dataIndex: 'name', key: 'name' },\r\n                {\r\n                  title: 'Sales',\r\n                  dataIndex: 'sales',\r\n                  key: 'sales',\r\n                  render: (val: number) => `${val.toLocaleString()}`,\r\n                  sorter: (a: any, b: any) => a.sales - b.sales,\r\n                },\r\n                {\r\n                  title: 'Target',\r\n                  dataIndex: 'target',\r\n                  key: 'target',\r\n                  render: (val: number) => `${val.toLocaleString()}`,\r\n                },\r\n                {\r\n                  title: 'Achievement',\r\n                  key: 'achievement',\r\n                  render: (_: any, record: any) => {\r\n                    const achievement = (record.sales / record.target) * 100;\r\n                    return (\r\n                      <Tag color={achievement >= 100 ? 'success' : achievement >= 80 ? 'processing' : 'warning'}>\r\n                        {achievement.toFixed(1)}%\r\n                      </Tag>\r\n                    );\r\n                  },\r\n                  sorter: (a: any, b: any) => (a.sales / a.target) - (b.sales / b.target),\r\n                },\r\n                {\r\n                  title: 'Orders',\r\n                  dataIndex: 'orders',\r\n                  key: 'orders',\r\n                  sorter: (a: any, b: any) => a.orders - b.orders,\r\n                },\r\n                {\r\n                  title: 'Conversion Rate',\r\n                  dataIndex: 'conversion',\r\n                  key: 'conversion',\r\n                  render: (val: number) => (\r\n                    <span>\r\n                      {val}%\r\n                      <Progress percent={val} size=\"small\" style={{ marginTop: 4 }} />\r\n                    </span>\r\n                  ),\r\n                  sorter: (a: any, b: any) => a.conversion - b.conversion,\r\n                },\r\n                {\r\n                  title: 'Status',\r\n                  key: 'status',\r\n                  render: (_: any, record: any) => {\r\n                    const achievement = (record.sales / record.target) * 100;\r\n                    return (\r\n                      <Tag color={achievement >= 100 ? 'green' : achievement >= 90 ? 'blue' : achievement >= 75 ? 'orange' : 'red'}>\r\n                        {achievement >= 100 ? 'Excellent' : achievement >= 90 ? 'Good' : achievement >= 75 ? 'Average' : 'Below Avg'}\r\n                      </Tag>\r\n                    );\r\n                  },\r\n                },\r\n              ]}\r\n              pagination={false}\r\n              size=\"small\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffReport;\r\n\r\n","import React from 'react';\r\nimport { Card, Row, Col, Statistic, Table, Tag, Progress, Typography, Empty } from 'antd';\r\nimport {\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  Tooltip as RechartsTooltip,\r\n  ResponsiveContainer,\r\n} from 'recharts';\r\nimport { useSpecialApiFetchers } from '../../../services/api/specialApiFetchers';\r\nimport { useDynamicSelector } from '../../../services/redux/selector';\r\nimport dayjs from 'dayjs';\r\n\r\nconst { Text } = Typography;\r\nconst COLORS = ['#1890ff', '#52c41a', '#722ed1', '#fa8c16', '#13c2c2', '#eb2f96'];\r\n\r\nconst PaymentReport: React.FC = () => {\r\n  const { Reports } = useSpecialApiFetchers();\r\n  \r\n  // Get data from Redux store\r\n  const paymentCollectionData = useDynamicSelector(Reports.getIdentifier('GetPaymentCollectionReport'));\r\n  const outstandingPaymentsData = useDynamicSelector(Reports.getIdentifier('GetOutstandingPaymentsReport'));\r\n  \r\n  // Extract data\r\n  const collectionSummary = paymentCollectionData?.result?.summary || {};\r\n  const paymentModeBreakdown = collectionSummary.payment_mode_breakdown || [];\r\n  const outstandingBills = outstandingPaymentsData?.result?.outstanding_bills || [];\r\n  const outstandingSummary = outstandingPaymentsData?.result?.summary || {};\r\n  \r\n  // Calculate metrics\r\n  const totalCollected = parseFloat(collectionSummary.total_collected) || 0;\r\n  const totalOutstanding = parseFloat(outstandingSummary.total_outstanding_amount) || 0;\r\n  const totalBills = parseInt(outstandingSummary.total_outstanding_bills) || 0;\r\n  const collectionRate = totalCollected > 0 && totalOutstanding > 0 \r\n    ? ((totalCollected / (totalCollected + totalOutstanding)) * 100).toFixed(2)\r\n    : 0;\r\n  \r\n  // Prepare payment method chart data\r\n  const paymentMethodData = paymentModeBreakdown.map((item: any) => ({\r\n    method: item.payment_mode || 'Cash',\r\n    amount: parseFloat(item.total_amount) || 0,\r\n    transactions: parseInt(item.transaction_count) || 0,\r\n  }));\r\n  \r\n  // Calculate percentages for payment methods\r\n  const paymentMethodsWithPercentage = paymentMethodData.map((item: any) => ({\r\n    ...item,\r\n    percentage: totalCollected > 0 ? ((item.amount / totalCollected) * 100).toFixed(1) : 0,\r\n  }));\r\n  \r\n  // Separate overdue bills (example: > 30 days)\r\n  const overdueAmount = outstandingBills\r\n    .filter((bill: any) => {\r\n      const billDate = dayjs(bill.date);\r\n      const daysOld = dayjs().diff(billDate, 'day');\r\n      return daysOld > 30;\r\n    })\r\n    .reduce((sum: number, bill: any) => sum + parseFloat(bill.outstanding_amount || 0), 0);\r\n\r\n  return (\r\n    <div>\r\n      {/* Payment Metrics */}\r\n      <Row gutter={[16, 16]}>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: '#f6ffed' }}>\r\n            <Statistic\r\n              title=\"Total Collected\"\r\n              value={totalCollected}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#52c41a' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: '#fff7e6' }}>\r\n            <Statistic\r\n              title=\"Outstanding\"\r\n              value={totalOutstanding}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#fa8c16' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: '#fff1f0' }}>\r\n            <Statistic\r\n              title=\"Overdue (>30d)\"\r\n              value={overdueAmount}\r\n              prefix=\"\"\r\n              precision={2}\r\n              valueStyle={{ color: '#ff4d4f' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={12} md={6}>\r\n          <Card style={{ textAlign: 'center', borderRadius: 12, background: '#e6f7ff' }}>\r\n            <Statistic\r\n              title=\"Collection Rate\"\r\n              value={collectionRate}\r\n              suffix=\"%\"\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Payment Method Analysis */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Payment Method Distribution\" style={{ borderRadius: 12 }}>\r\n            {paymentMethodData.length > 0 ? (\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={paymentMethodData}\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    labelLine={true}\r\n                    label={({ method, percentage }) => `${method}: ${percentage}%`}\r\n                    outerRadius={100}\r\n                    fill=\"#8884d8\"\r\n                    dataKey=\"amount\"\r\n                  >\r\n                    {paymentMethodData.map((entry: any, index: number) => (\r\n                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                    ))}\r\n                  </Pie>\r\n                  <RechartsTooltip formatter={(value: number) => `${value.toLocaleString()}`} />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            ) : (\r\n              <Empty description=\"No payment method data available\" />\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={12}>\r\n          <Card title=\"Payment Method Breakdown\" style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={paymentMethodsWithPercentage}\r\n              rowKey=\"method\"\r\n              columns={[\r\n                { title: 'Method', dataIndex: 'method', key: 'method' },\r\n                {\r\n                  title: 'Amount',\r\n                  dataIndex: 'amount',\r\n                  key: 'amount',\r\n                  render: (val: number) => `${val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n                },\r\n                {\r\n                  title: 'Transactions',\r\n                  dataIndex: 'transactions',\r\n                  key: 'transactions',\r\n                },\r\n                {\r\n                  title: 'Share',\r\n                  dataIndex: 'percentage',\r\n                  key: 'percentage',\r\n                  render: (val: number) => (\r\n                    <span>\r\n                      {val}%\r\n                      <Progress percent={parseFloat(val.toString())} size=\"small\" style={{ marginTop: 4 }} />\r\n                    </span>\r\n                  ),\r\n                },\r\n              ]}\r\n              pagination={false}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No payment data available' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Outstanding Receivables */}\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col xs={24}>\r\n          <Card title={`Outstanding Receivables (${totalBills} Bills)`} style={{ borderRadius: 12 }}>\r\n            <Table\r\n              dataSource={outstandingBills}\r\n              rowKey=\"_id\"\r\n              columns={[\r\n                { \r\n                  title: 'Invoice No', \r\n                  dataIndex: 'invoice_no', \r\n                  key: 'invoice_no',\r\n                  render: (invoice: string) => <Text strong>{invoice}</Text>\r\n                },\r\n                { \r\n                  title: 'Customer', \r\n                  key: 'customer',\r\n                  render: (record: any) => (\r\n                    <div>\r\n                      <div>{record.customerDetails?.name || 'Unknown'}</div>\r\n                      {record.customerDetails?.phone && (\r\n                        <div style={{ fontSize: '12px', color: '#888' }}>\r\n                          {record.customerDetails.phone}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )\r\n                },\r\n                {\r\n                  title: 'Bill Date',\r\n                  dataIndex: 'date',\r\n                  key: 'date',\r\n                  render: (date: string) => dayjs(date).format('DD MMM YYYY'),\r\n                },\r\n                {\r\n                  title: 'Total Amount',\r\n                  dataIndex: 'total_amount',\r\n                  key: 'total_amount',\r\n                  render: (val: string) => `${parseFloat(val || '0').toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n                },\r\n                {\r\n                  title: 'Paid',\r\n                  dataIndex: 'paid_amount',\r\n                  key: 'paid_amount',\r\n                  render: (val: string) => (\r\n                    <Text style={{ color: '#52c41a' }}>\r\n                      {parseFloat(val || '0').toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                    </Text>\r\n                  ),\r\n                },\r\n                {\r\n                  title: 'Outstanding',\r\n                  dataIndex: 'outstanding_amount',\r\n                  key: 'outstanding_amount',\r\n                  render: (val: string) => (\r\n                    <Text strong style={{ color: '#ff4d4f' }}>\r\n                      {parseFloat(val || '0').toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                    </Text>\r\n                  ),\r\n                  sorter: (a: any, b: any) => parseFloat(a.outstanding_amount) - parseFloat(b.outstanding_amount),\r\n                },\r\n                {\r\n                  title: 'Days Old',\r\n                  key: 'daysOld',\r\n                  render: (record: any) => {\r\n                    const daysOld = dayjs().diff(dayjs(record.date), 'day');\r\n                    return (\r\n                      <Tag color={daysOld > 60 ? 'red' : daysOld > 30 ? 'orange' : 'default'}>\r\n                        {daysOld} days\r\n                      </Tag>\r\n                    );\r\n                  },\r\n                  sorter: (a: any, b: any) => {\r\n                    const daysA = dayjs().diff(dayjs(a.date), 'day');\r\n                    const daysB = dayjs().diff(dayjs(b.date), 'day');\r\n                    return daysA - daysB;\r\n                  },\r\n                },\r\n                {\r\n                  title: 'Priority',\r\n                  key: 'priority',\r\n                  render: (_: any, record: any) => {\r\n                    const outstanding = parseFloat(record.outstanding_amount || 0);\r\n                    const daysOld = dayjs().diff(dayjs(record.date), 'day');\r\n                    const priority = outstanding > 5000 && daysOld > 30 ? 'High' : outstanding > 2000 || daysOld > 45 ? 'Medium' : 'Low';\r\n                    const color = priority === 'High' ? 'red' : priority === 'Medium' ? 'orange' : 'default';\r\n                    return <Tag color={color}>{priority}</Tag>;\r\n                  },\r\n                },\r\n              ]}\r\n              pagination={{ pageSize: 10 }}\r\n              size=\"small\"\r\n              locale={{ emptyText: 'No outstanding bills' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentReport;\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { getCurrentUser } from '../../helpers/auth';\r\nimport SessionStorageEncryption from '../../helpers/encryption';\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n  DatePicker,\r\n  Select,\r\n  Button,\r\n  Space,\r\n  Tabs,\r\n  Modal,\r\n  Radio,\r\n  Checkbox,\r\n  Form,\r\n  Tooltip,\r\n} from 'antd';\r\nimport {\r\n  BarChartOutlined,\r\n  DownloadOutlined,\r\n  PrinterOutlined,\r\n  FileExcelOutlined,\r\n  FilePdfOutlined,\r\n  ReloadOutlined,\r\n  FilterOutlined,\r\n  FundOutlined,\r\n  DollarOutlined,\r\n  ShoppingCartOutlined,\r\n  UserOutlined,\r\n  StockOutlined,\r\n  TeamOutlined,\r\n  CalendarOutlined,\r\n  SettingOutlined,\r\n} from '@ant-design/icons';\r\nimport dayjs from 'dayjs';\r\nimport styles from './Reports.module.css';\r\nimport { useApiActions } from '../../services/api/useApiActions';\r\nimport { useDynamicSelector } from '../../services/redux/selector';\r\nimport { useReportData } from './hooks/useReportData';\r\nimport { useReportExport } from './hooks/useReportExport';\r\n\r\n// Import report components\r\nimport ComprehensiveReport from './components/ComprehensiveReport';\r\nimport FinancialReport from './components/FinancialReport';\r\nimport SalesReport from './components/SalesReport';\r\nimport CustomerReport from './components/CustomerReport';\r\nimport InventoryReport from './components/InventoryReport';\r\nimport StaffReport from './components/StaffReport';\r\nimport PaymentReport from './components/PaymentReport';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { RangePicker } = DatePicker;\r\nconst { Option } = Select;\r\n\r\nconst Reports: React.FC = () => {\r\n  const [dateRange, setDateRange] = useState<[dayjs.Dayjs, dayjs.Dayjs] | null>([\r\n    dayjs().subtract(30, 'days'),\r\n    dayjs(),\r\n  ]);\r\n  const [selectedTenant, setSelectedTenant] = useState<string>('all');\r\n  const [selectedOrganisation, setSelectedOrganisation] = useState<string>('all');\r\n  const [selectedBranch, setSelectedBranch] = useState<string>('all');\r\n  const [activeTab, setActiveTab] = useState('1');\r\n  const [form] = Form.useForm();\r\n\r\n  // Get user role\r\n  const userItem = useMemo(() => {\r\n    return getCurrentUser();\r\n  }, []);\r\n\r\n  // Get user type from scope first (preferred), fallback to user_type\r\n  const scopeData = SessionStorageEncryption.getItem('scope');\r\n  const userRole = scopeData?.userType || userItem?.user_type || userItem?.usertype || userItem?.user_role || '';\r\n  const isSuperAdmin = userRole.toLowerCase() === 'superadmin';\r\n  const isTenant = userRole.toLowerCase() === 'tenant';\r\n  const isOrganisationUser = userRole.toLowerCase() === 'organisationuser';\r\n  const isBranchUser = userRole.toLowerCase() === 'branchuser';\r\n\r\n  // API hooks\r\n  const { getEntityApi } = useApiActions();\r\n  const TenantsApi = getEntityApi('Tenant');\r\n  const OrganisationsApi = getEntityApi('Organisations');\r\n  const BranchesApi = getEntityApi('Braches');\r\n\r\n  // Selectors for dropdowns data\r\n  const { items: tenantsItems } = useDynamicSelector(TenantsApi.getIdentifier('GetAll'));\r\n  const { items: organisationsItems } = useDynamicSelector(OrganisationsApi.getIdentifier('GetAll'));\r\n  const { items: branchesItems } = useDynamicSelector(BranchesApi.getIdentifier('GetAll'));\r\n\r\n  // Fetch data on mount\r\n  useEffect(() => {\r\n    if (isSuperAdmin) {\r\n      // SuperAdmin: Only fetch tenants initially, not organisations\r\n      TenantsApi('GetAll');\r\n    } else if (isTenant) {\r\n      // Tenant: Fetch organisations on mount\r\n      OrganisationsApi('GetAll');\r\n    } else if (isOrganisationUser) {\r\n      // OrganisationUser: Fetch branches on mount\r\n      BranchesApi('GetAll');\r\n    }\r\n    // BranchUser: Don't fetch anything (no dropdowns needed)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSuperAdmin, isTenant, isOrganisationUser, isBranchUser]);\r\n\r\n  // Prepare dropdown options\r\n  const tenantOptions = useMemo(() => {\r\n    return tenantsItems?.result?.map((tenant: any) => ({\r\n      label: tenant.organization_name || tenant.contact_name || tenant.username,\r\n      value: tenant._id,\r\n    })) || [];\r\n  }, [tenantsItems]);\r\n\r\n  const organisationOptions = useMemo(() => {\r\n    let orgs = organisationsItems?.result || [];\r\n    // Filter by selected tenant if applicable\r\n    if (isSuperAdmin && selectedTenant !== 'all') {\r\n      orgs = orgs.filter((org: any) => org.tenant_id === selectedTenant);\r\n    }\r\n    return orgs.map((org: any) => ({\r\n      label: org.org_name || org.name,\r\n      value: org._id,\r\n    }));\r\n  }, [organisationsItems, selectedTenant, isSuperAdmin]);\r\n\r\n  const branchOptions = useMemo(() => {\r\n    let branches = branchesItems?.result || [];\r\n    // Filter by selected organisation if applicable\r\n    if (selectedOrganisation !== 'all') {\r\n      branches = branches.filter((branch: any) => \r\n        branch.organisation_id === selectedOrganisation || branch.org_id === selectedOrganisation\r\n      );\r\n    }\r\n    return branches.map((branch: any) => ({\r\n      label: branch.branch_name || branch.name,\r\n      value: branch._id,\r\n    }));\r\n  }, [branchesItems, selectedOrganisation]);\r\n\r\n  // Handle tenant change - reset dependent filters\r\n  const handleTenantChange = (value: string) => {\r\n    setSelectedTenant(value);\r\n    setSelectedOrganisation('all');\r\n    setSelectedBranch('all');\r\n    // Fetch organisations for selected tenant (with tenant_id filter)\r\n    if (value !== 'all') {\r\n      OrganisationsApi('GetAll', { tenant_id: value });\r\n    }\r\n  };\r\n\r\n  // Handle organisation change - reset branch filter\r\n  const handleOrganisationChange = (value: string) => {\r\n    setSelectedOrganisation(value);\r\n    setSelectedBranch('all');\r\n    // Fetch branches for selected organisation (with organisation_id filter)\r\n    if (value !== 'all') {\r\n      BranchesApi('GetAll', { organisation_id: value });\r\n    }\r\n  };\r\n\r\n  // Use custom hooks\r\n  const { loading, reportCache, fetchReportData } = useReportData({\r\n    activeTab,\r\n    selectedTenant,\r\n    selectedOrganisation,\r\n    selectedBranch,\r\n    dateRange,\r\n    isSuperAdmin,\r\n  });\r\n\r\n  const {\r\n    exportModalVisible,\r\n    setExportModalVisible,\r\n    exportFormat,\r\n    setExportFormat,\r\n    exportOptions,\r\n    setExportOptions,\r\n    handleExport,\r\n    handlePrint,\r\n  } = useReportExport({\r\n    activeTab,\r\n    reportCache,\r\n    selectedTenant,\r\n    selectedOrganisation,\r\n    selectedBranch,\r\n    dateRange,\r\n    tenantOptions,\r\n    organisationOptions,\r\n    branchOptions,\r\n    isSuperAdmin,\r\n    isTenant,\r\n  });\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      if (e.ctrlKey) {\r\n        switch(e.key) {\r\n          case '1': case '2': case '3': case '4': case '5': case '6': case '7':\r\n            e.preventDefault();\r\n            setActiveTab(e.key);\r\n            break;\r\n          case 'r': case 'R':\r\n            e.preventDefault();\r\n            fetchReportData();\r\n            break;\r\n          case 'e': case 'E':\r\n            e.preventDefault();\r\n            setExportModalVisible(true);\r\n            break;\r\n          case 'p': case 'P':\r\n            e.preventDefault();\r\n            handlePrint();\r\n            break;\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  }, [fetchReportData, handlePrint, setExportModalVisible]);\r\n\r\n  useEffect(() => {\r\n    fetchReportData();\r\n  }, [fetchReportData]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {/* Header Section */}\r\n      <Card style={{ marginBottom: 24, borderRadius: 12, boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }}>\r\n        <Row justify=\"space-between\" align=\"middle\" style={{ marginBottom: 16 }}>\r\n          <Col>\r\n            <Title level={2} style={{ margin: 0, color: '#1890ff' }}>\r\n              <BarChartOutlined style={{ marginRight: 8 }} />\r\n              Advanced Business Reports\r\n            </Title>\r\n            <Text type=\"secondary\">Comprehensive analytics & insights with advanced reporting</Text>\r\n          </Col>\r\n          <Col>\r\n            <Space wrap>\r\n              <Tooltip title=\"Refresh Data (Ctrl+R)\">\r\n                <Button\r\n                  icon={<ReloadOutlined />}\r\n                  onClick={fetchReportData}\r\n                  loading={loading}\r\n                >\r\n                  Refresh\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip title=\"Export Report (Ctrl+E)\">\r\n                <Button\r\n                  icon={<DownloadOutlined />}\r\n                  onClick={() => setExportModalVisible(true)}\r\n                  type=\"primary\"\r\n                >\r\n                  Export\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip title=\"Print Report (Ctrl+P)\">\r\n                <Button\r\n                  icon={<PrinterOutlined />}\r\n                  onClick={handlePrint}\r\n                >\r\n                  Print\r\n                </Button>\r\n              </Tooltip>\r\n              <Tooltip title=\"Settings\">\r\n                <Button\r\n                  icon={<SettingOutlined />}\r\n                  type=\"dashed\"\r\n                />\r\n              </Tooltip>\r\n            </Space>\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Filters */}\r\n        <Row gutter={16} align=\"middle\">\r\n          <Col xs={24} sm={12} md={6}>\r\n            <Space direction=\"vertical\" size={2} style={{ width: '100%' }}>\r\n              <Text strong><CalendarOutlined /> Date Range:</Text>\r\n              <RangePicker\r\n                value={dateRange}\r\n                onChange={(dates) => setDateRange(dates as [dayjs.Dayjs, dayjs.Dayjs] | null)}\r\n                style={{ width: '100%' }}\r\n              />\r\n            </Space>\r\n          </Col>\r\n\r\n          {/* Tenant Dropdown - Only for SuperAdmin */}\r\n          {isSuperAdmin && (\r\n            <Col xs={24} sm={12} md={6}>\r\n              <Space direction=\"vertical\" size={2} style={{ width: '100%' }}>\r\n                <Text strong>Tenant:</Text>\r\n                <Select\r\n                  value={selectedTenant}\r\n                  onChange={handleTenantChange}\r\n                  style={{ width: '100%' }}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  filterOption={(input, option: any) =>\r\n                    String(option?.label ?? '').toLowerCase().includes(input.toLowerCase())\r\n                  }\r\n                >\r\n                  <Option value=\"all\">All Tenants</Option>\r\n                  {tenantOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Space>\r\n            </Col>\r\n          )}\r\n\r\n          {/* Organisation Dropdown - For SuperAdmin and Tenant only (not OrganisationUser or BranchUser) */}\r\n          {(isSuperAdmin || isTenant) && !isOrganisationUser && !isBranchUser && (\r\n            <Col xs={24} sm={12} md={6}>\r\n              <Space direction=\"vertical\" size={2} style={{ width: '100%' }}>\r\n                <Text strong>Organisation:</Text>\r\n                <Select\r\n                  value={selectedOrganisation}\r\n                  onChange={handleOrganisationChange}\r\n                  style={{ width: '100%' }}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  filterOption={(input, option: any) =>\r\n                    String(option?.label ?? '').toLowerCase().includes(input.toLowerCase())\r\n                  }\r\n                  disabled={isSuperAdmin && selectedTenant === 'all'}\r\n                  placeholder={isSuperAdmin && selectedTenant === 'all' ? 'Select tenant first' : 'Select organisation'}\r\n                >\r\n                  <Option value=\"all\">All Organisations</Option>\r\n                  {organisationOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Space>\r\n            </Col>\r\n          )}\r\n\r\n          {/* Branch Dropdown - For SuperAdmin, Tenant, and OrganisationUser (not BranchUser) */}\r\n          {(isSuperAdmin || isTenant || isOrganisationUser) && !isBranchUser && (\r\n            <Col xs={24} sm={12} md={6}>\r\n              <Space direction=\"vertical\" size={2} style={{ width: '100%' }}>\r\n                <Text strong>Branch:</Text>\r\n                <Select\r\n                  value={selectedBranch}\r\n                  onChange={setSelectedBranch}\r\n                  style={{ width: '100%' }}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  filterOption={(input, option: any) =>\r\n                    String(option?.label ?? '').toLowerCase().includes(input.toLowerCase())\r\n                  }\r\n                  disabled={(isSuperAdmin || isTenant) && selectedOrganisation === 'all'}\r\n                  placeholder={(isSuperAdmin || isTenant) && selectedOrganisation === 'all' ? 'Select organisation first' : 'Select branch'}\r\n                >\r\n                  <Option value=\"all\">All Branches</Option>\r\n                  {branchOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Space>\r\n            </Col>\r\n          )}\r\n\r\n          <Col xs={24} sm={24} md={6}>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<FilterOutlined />}\r\n              onClick={fetchReportData}\r\n              loading={loading}\r\n              style={{ marginTop: 22, width: '100%' }}\r\n              size=\"large\"\r\n            >\r\n              Apply Filters\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* Report Content Tabs */}\r\n      <Tabs \r\n        activeKey={activeTab}\r\n        onChange={setActiveTab}\r\n        type=\"card\" \r\n        size=\"large\"\r\n        style={{ backgroundColor: '#fff', padding: 16, borderRadius: 12, boxShadow: '0 2px 8px rgba(0,0,0,0.1)' }}\r\n        items={[\r\n          {\r\n            key: '1',\r\n            label: (\r\n              <Tooltip title=\"Comprehensive Overview (Ctrl+1)\">\r\n                <span><BarChartOutlined /> Comprehensive</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <ComprehensiveReport />,\r\n          },\r\n          {\r\n            key: '2',\r\n            label: (\r\n              <Tooltip title=\"Financial Analysis (Ctrl+2)\">\r\n                <span><FundOutlined /> Financial</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <FinancialReport />,\r\n          },\r\n          {\r\n            key: '3',\r\n            label: (\r\n              <Tooltip title=\"Sales Analytics (Ctrl+3)\">\r\n                <span><ShoppingCartOutlined /> Sales</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <SalesReport />,\r\n          },\r\n          {\r\n            key: '4',\r\n            label: (\r\n              <Tooltip title=\"Customer Analytics (Ctrl+4)\">\r\n                <span><UserOutlined /> Customers</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <CustomerReport />,\r\n          },\r\n          {\r\n            key: '5',\r\n            label: (\r\n              <Tooltip title=\"Inventory Report (Ctrl+5)\">\r\n                <span><StockOutlined /> Inventory</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <InventoryReport />,\r\n          },\r\n          {\r\n            key: '6',\r\n            label: (\r\n              <Tooltip title=\"Staff Performance (Ctrl+6)\">\r\n                <span><TeamOutlined /> Staff</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <StaffReport />,\r\n          },\r\n          {\r\n            key: '7',\r\n            label: (\r\n              <Tooltip title=\"Payment Analysis (Ctrl+7)\">\r\n                <span><DollarOutlined /> Payments</span>\r\n              </Tooltip>\r\n            ),\r\n            children: <PaymentReport />,\r\n          },\r\n        ]}\r\n      />\r\n\r\n      {/* Export Modal */}\r\n      <Modal\r\n        title={<><DownloadOutlined /> Export Report</>}\r\n        open={exportModalVisible}\r\n        onCancel={() => setExportModalVisible(false)}\r\n        onOk={handleExport}\r\n        okText=\"Export\"\r\n        cancelText=\"Cancel\"\r\n        width={500}\r\n      >\r\n        <Form form={form} layout=\"vertical\">\r\n          <Form.Item label=\"Export Format\">\r\n            <Radio.Group \r\n              value={exportFormat} \r\n              onChange={(e) => setExportFormat(e.target.value)}\r\n              buttonStyle=\"solid\"\r\n            >\r\n              <Radio.Button value=\"pdf\"><FilePdfOutlined /> PDF</Radio.Button>\r\n              <Radio.Button value=\"excel\"><FileExcelOutlined /> Excel</Radio.Button>\r\n              <Radio.Button value=\"csv\">CSV</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item label=\"Include in Export\">\r\n            <Checkbox.Group \r\n              value={exportOptions}\r\n              onChange={(values) => setExportOptions(values as string[])}\r\n              style={{ width: '100%' }}\r\n            >\r\n              <Row>\r\n                <Col span={24}><Checkbox value=\"summary\">Summary Statistics</Checkbox></Col>\r\n                <Col span={24}><Checkbox value=\"charts\">Charts & Graphs</Checkbox></Col>\r\n                <Col span={24}><Checkbox value=\"tables\">Detailed Tables</Checkbox></Col>\r\n                <Col span={24}><Checkbox value=\"trends\">Trend Analysis</Checkbox></Col>\r\n              </Row>\r\n            </Checkbox.Group>\r\n          </Form.Item>\r\n          <Form.Item label=\"Date Range\">\r\n            <RangePicker style={{ width: '100%' }} value={dateRange} />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"names":["getReportTypeFromTab","tabKey","useReportExport","props","exportModalVisible","setExportModalVisible","useState","exportFormat","setExportFormat","exportOptions","setExportOptions","handleExport","_props$dateRange","_props$dateRange$","_props$dateRange2","_props$dateRange2$","reportType","activeTab","cacheKey","concat","selectedTenant","selectedOrganisation","selectedBranch","dateRange","format","reportData","reportCache","message","error","exportOpts","tenantOptions","organisationOptions","branchOptions","isSuperAdmin","isTenant","exportToExcel","data","options","_options$dateRange","_options$dateRange$","_options$dateRange2","_options$dateRange2$","_options$dateRange3","_options$dateRange3$","_options$dateRange4","_options$dateRange4$","_options$dateRange5","_options$dateRange5$","_options$dateRange6","_options$dateRange6$","excelData","fileName","dayjs","getTenantLabel","getOrganisationLabel","getBranchLabel","tenant","find","t","value","label","org","o","branch","b","getFilterLabels","totalProducts","stockValue","toLocaleString","lowStockItems","outOfStock","categoryData","map","item","name","sales","profit","margin","totalSales","avgOrderValue","conversionRate","topCustomers","customer","totalPurchase","orders","outstanding","Object","entries","_ref","key","csvContent","row","join","blob","Blob","type","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","success","info","exportToCSV","csvData","_ref2","handlePrint","window","print","Text","Typography","COLORS","ComprehensiveReport","_salesReportData$resu","_customerSalesData$re","_stockReportData$resu","_paymentCollectionDat","_productSalesData$res","_salesReportData$resu2","_profitLoss$profit","_profitLoss$profit2","_salesData$","Reports","useSpecialApiFetchers","salesReportData","useDynamicSelector","getIdentifier","profitLossData","customerSalesData","stockReportData","paymentCollectionData","productSalesData","salesSummary","result","summary","profitLoss","customers","stockSummary","collectionSummary","productSales","products","salesData","totalRevenue","parseFloat","total_revenue","netProfit","net_profit","totalBills","parseInt","total_bills","totalCustomers","length","avgBillValue","average_bill_value","profitMargin","profit_margin_percentage","total_stock_value","totalCollected","total_collected","activeCustomers","filter","c","total_purchase","avgLifetimeValue","reduce","sum","customerSegments","color","percentage","toFixed","purchase","s","topProductsChart","slice","product","substring","quantity","total_quantity_sold","paymentMethods","payment_mode_breakdown","method","payment_mode","amount","total_amount","trendData","Array","isArray","period","total_sales","transactions","total_transactions","_jsxs","children","Row","gutter","_jsx","Col","xs","sm","md","Card","textAlign","borderRadius","background","DollarOutlined","fontSize","marginBottom","Statistic","title","prefix","precision","valueStyle","FundOutlined","ShoppingCartOutlined","total_items","UserOutlined","marginTop","lg","_Fragment","LineChartOutlined","ResponsiveContainer","width","height","ComposedChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","RechartsTooltip","Legend","Bar","fill","Line","stroke","strokeWidth","Empty","description","PieChartOutlined","PieChart","Pie","cx","cy","labelLine","outerRadius","entry","index","Cell","BarChartOutlined","BarChart","layout","formatter","FinancialReport","_expenseData$result","_expenseData$result2","_gstData$result","_profitLoss$revenue","_profitLoss$revenue2","_profitLoss$revenue3","_profitLoss$costs","_profitLoss$costs2","_profitLoss$costs3","_profitLoss$profit3","expenseData","gstData","expenseSummary","expenses","gstSummary","revenue","total_sales_revenue","totalDiscount","total_discount_given","netRevenue","net_revenue","cogs","costs","cost_of_goods_sold","operatingExpenses","operating_expenses","totalCosts","total_costs","grossProfit","gross_profit","gstCollected","total_gst_collected","plStatementData","category","expenseBreakdown","category_breakdown","count","expense_count","suffix","Table","dataSource","columns","dataIndex","render","text","record","strong","align","amt","Math","abs","undefined","minimumFractionDigits","maximumFractionDigits","pagination","size","locale","emptyText","angle","textAnchor","total_expense_amount","total_expense_count","average_expense","SalesReport","_topProductsData$resu","topProductsData","topProducts","top_products","totalOutstanding","total_outstanding","revenuePercent","min","collectionPercent","outstandingPercent","categoryChartData","bordered","Progress","percent","round","strokeColor","LineChart","TrophyOutlined","rowKey","_","__","Tag","fontWeight","VariantItem","variant_name","val","sorter","a","total_orders","pageSize","CustomerReport","_topCustomersData$res","topCustomersData","top_customers","customersWithData","vipCustomers","segmentCustomers","segments","max","forEach","top10Chart","_c$name","bills","RiseOutlined","TeamOutlined","phone","outstanding_amount","InventoryReport","_stockReportData$resu2","_stockReportData$resu3","_stockExpiryData$resu","_stockExpiryData$resu2","_stockExpiryData$resu3","stockExpiryData","stockDetails","stock_details","low_stock_items","expiringStock","expiring_stock","expirySummary","expiryBreakdown","expiry_breakdown","lowStock","low_stock_count","within7Days","expired_count","within_7_days_count","categoryStockMap","Map","_item$ProductItem","_item$ProductItem$Cat","categoryName","ProductItem","CategoryItem","category_name","available_quantity","buy_price","has","existing","get","set","from","expiryTimelineData","expired","within_7_days","within_30_days","within_90_days","StockOutlined","FallOutlined","WarningOutlined","variant","qty","available_loose_quantity","_record$ProductItem","_record$ProductItem2","date","daysToExpiry","diff","status","mockStaffPerformance","conversion","target","StaffReport","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","domain","Radar","fillOpacity","achievement","PaymentReport","_outstandingPaymentsD","_outstandingPaymentsD2","outstandingPaymentsData","paymentModeBreakdown","outstandingBills","outstanding_bills","outstandingSummary","total_outstanding_amount","total_outstanding_bills","collectionRate","paymentMethodData","transaction_count","paymentMethodsWithPercentage","_objectSpread","overdueAmount","bill","billDate","toString","invoice","_record$customerDetai","_record$customerDetai2","customerDetails","daysOld","priority","Title","RangePicker","DatePicker","Option","Select","setDateRange","subtract","setSelectedTenant","setSelectedOrganisation","setSelectedBranch","setActiveTab","form","Form","useForm","userItem","useMemo","getCurrentUser","scopeData","SessionStorageEncryption","getItem","userRole","userType","user_type","usertype","user_role","toLowerCase","isOrganisationUser","isBranchUser","getEntityApi","useApiActions","TenantsApi","OrganisationsApi","BranchesApi","items","tenantsItems","organisationsItems","branchesItems","useEffect","_tenantsItems$result","organization_name","contact_name","username","_id","orgs","tenant_id","org_name","branches","organisation_id","org_id","branch_name","loading","fetchReportData","setLoading","setReportCache","_dateRange$","_dateRange$2","newData","salesReport","customerSales","stock","expiry","gst","collections","payments","prev","useCallback","_dateRange$3","_dateRange$4","_dateRange$5","_dateRange$6","apiFilters","start_date","end_date","limit","days_threshold","setTimeout","console","useReportData","handleKeyPress","e","ctrlKey","preventDefault","addEventListener","removeEventListener","className","styles","boxShadow","justify","level","marginRight","Space","wrap","Tooltip","Button","icon","ReloadOutlined","onClick","DownloadOutlined","PrinterOutlined","SettingOutlined","direction","CalendarOutlined","onChange","dates","showSearch","optionFilterProp","filterOption","input","option","_option$label","String","includes","_option$label2","disabled","placeholder","_option$label3","FilterOutlined","Tabs","activeKey","backgroundColor","padding","Modal","open","onCancel","onOk","okText","cancelText","Item","Radio","buttonStyle","FilePdfOutlined","FileExcelOutlined","Checkbox","Group","values","span"],"sourceRoot":""}