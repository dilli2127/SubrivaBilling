/*! For license information please see 898.bef665e4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkSUBRIVA_BILLING=self.webpackChunkSUBRIVA_BILLING||[]).push([[898],{9764:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"}}]},name:"tags",theme:"outlined"};var o=a(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}const c=(e,t)=>r.createElement(o.A,l({},e,{ref:t,icon:n}));const s=r.forwardRef(c)},13699:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(65043);const n={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:t}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:e}}]}},name:"close-circle",theme:"twotone"};var o=a(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}const c=(e,t)=>r.createElement(o.A,l({},e,{ref:t,icon:n}));const s=r.forwardRef(c)},28071:(e,t,a)=>{a.d(t,{p:()=>i});var r=a(89379),n=a(53986),o=(a(65043),a(74883)),l=a(58209),c=a(70579);const s=["resource","config"];function i(e){let{resource:t,config:a}=e,i=(0,n.A)(e,s);const d=(0,l.BA)(t),u=(0,l.Ev)(t),h=(0,l.W9)(t),p=(0,r.A)((0,r.A)({},a),{},{canCreate:a.canCreate?()=>d&&a.canCreate():()=>d,canEdit:a.canEdit?e=>u&&a.canEdit(e):()=>u,canDelete:a.canDelete?e=>h&&a.canDelete(e):()=>h});return(0,c.jsx)(o.r,(0,r.A)({config:p},i))}},83898:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var r=a(65043),n=a(91449),o=a(97031),l=a(83003),c=a(35708),s=a(28071),i=a(74198),d=a(89472),u=a(58209),h=a(6051),p=a(76399),m=a(9764),v=a(74563),x=a(27089);const j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};var g=a(66381);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},S.apply(this,arguments)}const b=(e,t)=>r.createElement(g.A,S({},e,{ref:t,icon:j}));const f=r.forwardRef(b);var y=a(92882),A=a(13699),C=a(70579);const k=e=>{let{variantMap:t,isSuperAdmin:a}=e;return[{title:"Name",dataIndex:"name",key:"name",render:e=>(0,C.jsxs)(h.A,{children:[(0,C.jsx)(m.A,{style:{color:"#1890ff"}}),(0,C.jsx)("strong",{children:e})]})},{title:"Category",dataIndex:"CategoryItem",key:"category",render:e=>(0,C.jsx)(p.A,{icon:(0,C.jsx)(v.A,{}),color:"geekblue",children:(null===e||void 0===e?void 0:e.category_name)||"-"})},{title:"SKU",dataIndex:"sku",key:"sku",render:e=>(0,C.jsxs)(h.A,{children:[(0,C.jsx)(x.A,{style:{color:"#722ed1"}}),(0,C.jsx)("span",{children:e||"-"})]})},{title:"Barcode",dataIndex:"barcode",key:"barcode",render:e=>(0,C.jsx)(p.A,{color:"green",icon:(0,C.jsx)(x.A,{}),children:e||"-"})},{title:"HSN Code",dataIndex:"hsn_code",key:"hsn_code",render:e=>(0,C.jsx)(p.A,{color:"orange",children:e||"-"})},{title:"Variant",dataIndex:"variant",key:"variant",render:e=>(0,C.jsx)(p.A,{icon:(0,C.jsx)(f,{}),color:"purple",children:t[e]||"-"})},{title:"Status",dataIndex:"status",key:"status",render:e=>e?(0,C.jsx)(p.A,{icon:(0,C.jsx)(y.A,{twoToneColor:"#52c41a"}),color:"success",children:"Active"}):(0,C.jsx)(p.A,{icon:(0,C.jsx)(A.A,{twoToneColor:"#ff4d4f"}),color:"error",children:"Inactive"})},{title:"Brand Name",dataIndex:"brand_name",key:"brand_name",render:e=>(0,C.jsx)(p.A,{color:"cyan",children:e||"-"})},...a?[{title:"Business Type",dataIndex:"business_type",key:"business_type",render:e=>(0,C.jsx)(p.A,{color:"blue",children:e||"-"})},{title:"Global Product",dataIndex:"global_product",key:"global_product",render:e=>e?(0,C.jsx)(p.A,{icon:(0,C.jsx)(y.A,{twoToneColor:"#52c41a"}),color:"success",children:"Yes"}):(0,C.jsx)(p.A,{color:"default",children:"No"})}]:[{title:"Global Product",dataIndex:"global_product",key:"global_product",render:e=>e?(0,C.jsx)(p.A,{icon:(0,C.jsx)(y.A,{twoToneColor:"#52c41a"}),color:"success",children:"Yes"}):(0,C.jsx)(p.A,{color:"default",children:"No"})}]]};var w=a(26553),_=a(36621),I=a(95206),B=a(12624),L=a(47615);const{Option:P}=w.A,E=e=>{let{categoryItems:t,variantItems:a,categoryLoading:r,variantLoading:n,isSuperAdmin:o,onScanClick:l,onBarcodeInputFocus:c}=e;return[{label:"Product Name",name:"name",rules:[{required:!0,message:"Please enter the product name!"}],component:(0,C.jsx)(_.A,{placeholder:"e.g., HP Toner 85A"})},{label:"Category",name:"category",rules:[{required:!0,message:"Please select a category!"}],component:(0,C.jsx)(w.A,{placeholder:"Select category",loading:r,showSearch:!0,allowClear:!0,children:((null===t||void 0===t?void 0:t.result)||[]).map((e=>(0,C.jsx)(P,{value:e._id,children:e.category_name},e._id)))})},{label:"SKU / Code",name:"sku",rules:[],component:(0,C.jsx)(_.A,{placeholder:"Optional SKU code"})},{label:"Barcode",name:"barcode",rules:[],component:(0,C.jsxs)(_.A.Group,{compact:!0,children:[(0,C.jsx)(_.A,{placeholder:"Enter or scan barcode",style:{width:"calc(100% - 100px)"},onFocus:c}),(0,C.jsx)(I.Ay,{type:"primary",icon:(0,C.jsx)(L.A,{}),onClick:l,style:{width:"100px"},children:"Scan"})]})},{label:"HSN Code",name:"hsn_code",rules:[],component:(0,C.jsx)(_.A,{placeholder:"Enter HSN code"})},{label:"Variant",name:"variant",rules:[{required:!0,message:"Please select a variant!"}],component:(0,C.jsx)(w.A,{placeholder:"Select variant",loading:n,allowClear:!0,showSearch:!0,children:((null===a||void 0===a?void 0:a.result)||[]).map((e=>(0,C.jsxs)(P,{value:e._id,children:[e.variant_name," - ",e.unit," - ",e.pack_type," (",e.pack_size,")"]},e._id)))})},{label:"Status",name:"status",valuePropName:"checked",component:(0,C.jsx)(B.A,{checkedChildren:"Active",unCheckedChildren:"Inactive",defaultChecked:!0})},{label:"Brand Name",name:"brand_name",rules:[],component:(0,C.jsx)(_.A,{placeholder:"Enter brand name"})},...o?[{label:"Business Type",name:"business_type",rules:[{required:!1,message:"Please select business type!"}],component:(0,C.jsxs)(w.A,{placeholder:"Select business type",allowClear:!0,children:[(0,C.jsx)(P,{value:"Supermarket / Grocery Store",children:"Supermarket / Grocery Store"}),(0,C.jsx)(P,{value:"Medical / Pharmacy",children:"Medical / Pharmacy"}),(0,C.jsx)(P,{value:"Hardware Store",children:"Hardware Store"}),(0,C.jsx)(P,{value:"Hardware and Electronics Store",children:"Hardware and Electronics Store"}),(0,C.jsx)(P,{value:"Electronics Store",children:"Electronics Store"}),(0,C.jsx)(P,{value:"Stationery / Book Store",children:"Stationery / Book Store"}),(0,C.jsx)(P,{value:"Clothing / Textile Store",children:"Clothing / Textile Store"}),(0,C.jsx)(P,{value:"Footwear Store",children:"Footwear Store"}),(0,C.jsx)(P,{value:"Bakery / Sweet Shop",children:"Bakery / Sweet Shop"}),(0,C.jsx)(P,{value:"Fruits & Vegetables Shop",children:"Fruits & Vegetables Shop"}),(0,C.jsx)(P,{value:"Furniture Store",children:"Furniture Store"}),(0,C.jsx)(P,{value:"Automobile / Spare Parts",children:"Automobile / Spare Parts"}),(0,C.jsx)(P,{value:"Mobile Accessories Store",children:"Mobile Accessories Store"}),(0,C.jsx)(P,{value:"Cosmetics / Beauty Store",children:"Cosmetics / Beauty Store"}),(0,C.jsx)(P,{value:"Jewellery / Fancy Store",children:"Jewellery / Fancy Store"}),(0,C.jsx)(P,{value:"Pet Store",children:"Pet Store"}),(0,C.jsx)(P,{value:"General Store",children:"General Store"}),(0,C.jsx)(P,{value:"Wholesale Business",children:"Wholesale Business"}),(0,C.jsx)(P,{value:"Computer & Laptop Store",children:"Computer & Laptop Store"}),(0,C.jsx)(P,{value:"Mobile And Laptop Store",children:"Mobile And Laptop Store"}),(0,C.jsx)(P,{value:"Electrical Store",children:"Electrical Store"}),(0,C.jsx)(P,{value:"Restaurant / Caf\xe9",children:"Restaurant / Caf\xe9"})]})},{label:"Global Product",name:"global_product",valuePropName:"checked",component:(0,C.jsx)(B.A,{checkedChildren:"Yes",unCheckedChildren:"No",defaultChecked:!1})}]:[]]},z=()=>{const e=(0,l.wA)(),t=(0,d.Ff)(),a="superadmin"===(null===t||void 0===t?void 0:t.toLowerCase()),h=(0,n.zm)("Variant"),p=(0,n.zm)("Category"),m=h("Get"),v=p("Get"),{loading:x,items:j}=(0,o.Sm)(m.identifier),{loading:g,items:S}=(0,o.Sm)(v.identifier),[b,f]=(0,r.useState)(!1),[y,A]=(0,r.useState)(null),[w,_]=(0,r.useState)({}),I=(0,r.useCallback)((()=>{[m,v].forEach((t=>{e((0,o.s7)({method:t.method,endpoint:t.endpoint,data:{}},t.identifier))}))}),[e,m,v]);(0,r.useEffect)((()=>{I()}),[I]);(0,r.useEffect)((()=>{var e,t;_((e=(null===j||void 0===j?void 0:j.result)||[],t="variant_name",e.reduce(((e,a)=>(e[a._id]=a[t],e)),{})))}),[j]);const B=(0,r.useMemo)((()=>({title:"Products",columns:k({variantMap:w,isSuperAdmin:a}),formItems:E({categoryItems:S,variantItems:j,categoryLoading:g,variantLoading:x,isSuperAdmin:a,onScanClick:()=>f(!0),onBarcodeInputFocus:()=>A("barcode")}),apiRoutes:(0,i._V)("Product"),formColumns:2,canEdit:e=>!e.global_product||a,canDelete:e=>!e.global_product||a})),[w,j,S,x,g,a]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.p,{resource:u.eZ.PRODUCT,config:B,enableDynamicFields:!0,entityName:"products"}),(0,C.jsx)(c.A,{visible:b,onClose:()=>f(!1),onScan:e=>{if(f(!1),"barcode"===y){const t=document.querySelector('input[name="barcode"]');t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})))}},title:"Scan Product Barcode",description:"Scan barcode to add to product"})]})}},92882:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(65043);const n={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"};var o=a(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}const c=(e,t)=>r.createElement(o.A,l({},e,{ref:t,icon:n}));const s=r.forwardRef(c)}}]);
//# sourceMappingURL=898.bef665e4.chunk.js.map