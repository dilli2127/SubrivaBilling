{"version":3,"file":"static/js/688.5c33f8b4.chunk.js","mappings":"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","sources":["webpack://SUBRIVA-BILLING/./src/pages/UserProfile/UserProfile.module.css?93b3","pages/UserProfile/UserProfile.tsx","../node_modules/@ant-design/icons-svg/es/asn/SaveOutlined.js","../node_modules/@ant-design/icons/es/icons/SaveOutlined.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userProfileContainer\":\"UserProfile_userProfileContainer__XwCLZ\",\"userProfileHeader\":\"UserProfile_userProfileHeader__Y56wV\",\"profileCard\":\"UserProfile_profileCard__1Unoq\",\"profileOverview\":\"UserProfile_profileOverview__UF9E+\",\"profileAvatarSection\":\"UserProfile_profileAvatarSection__XRZX6\",\"profileAvatar\":\"UserProfile_profileAvatar__LXaoj\",\"profileDetails\":\"UserProfile_profileDetails__RVszn\",\"securityCard\":\"UserProfile_securityCard__GTvZJ\",\"securitySection\":\"UserProfile_securitySection__Cdg-f\",\"securityItem\":\"UserProfile_securityItem__5y8Cl\",\"securityItemContent\":\"UserProfile_securityItemContent__Ui8X7\",\"slideInRight\":\"UserProfile_slideInRight__srJbJ\"};","import React, { useState, useEffect, useMemo } from 'react';\r\nimport {\r\n  Card,\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Avatar,\r\n  Descriptions,\r\n  message,\r\n  Space,\r\n  Divider,\r\n  Typography,\r\n  Row,\r\n  Col,\r\n  Tag,\r\n  Modal,\r\n} from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  EditOutlined,\r\n  SaveOutlined,\r\n  CloseOutlined,\r\n  LockOutlined,\r\n  MailOutlined,\r\n  PhoneOutlined,\r\n  IdcardOutlined,\r\n} from '@ant-design/icons';\r\nimport { useUser } from '../../components/antd/UserContext';\r\nimport { setUserData, User } from '../../helpers/auth';\r\nimport { apiSlice } from '../../services/redux/api/apiSlice';\r\nimport styles from './UserProfile.module.css';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst UserProfile: React.FC = () => {\r\n  const user = useUser();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isChangingPassword, setIsChangingPassword] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const [passwordForm] = Form.useForm();\r\n  // Use RTK Query mutation for updating user\r\n  const [updateBillingUser, { isLoading: updateLoading }] = apiSlice.useUpdateBillingUsersMutation();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      form.setFieldsValue({\r\n        name: user.name,\r\n        email: user.email,\r\n        mobile: user.mobile,\r\n        user_name: user.username || '',\r\n      });\r\n    }\r\n  }, [user, form]);\r\n\r\n  // Success/error handling is done in mutation handlers (handleUpdate and handlePasswordChange)\r\n  // RTK Query provides isLoading state automatically via updateLoading\r\n\r\n  const handleUpdate = async (values: any) => {\r\n    if (!user?._id) {\r\n      message.error('User ID not found');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const updateData: any = {\r\n        name: values.name,\r\n        email: values.email,\r\n        mobile: values.mobile,\r\n      };\r\n\r\n      const result = await updateBillingUser({ id: user._id, ...updateData }).unwrap();\r\n      message.success('Profile updated successfully');\r\n      setIsEditing(false);\r\n      \r\n      // Update user context if user data changed (RTK Query returns data directly)\r\n      const userResult = (result as any)?.result || result;\r\n      if (userResult) {\r\n        setUserData(userResult);\r\n      }\r\n      \r\n      // Reload page to reflect changes\r\n      window.location.reload();\r\n    } catch (error: any) {\r\n      message.error(error?.data?.message || 'Failed to update profile');\r\n    }\r\n  };\r\n\r\n  const handlePasswordChange = async (values: any) => {\r\n    if (!user?._id) {\r\n      message.error('User ID not found');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await updateBillingUser({\r\n        id: user._id,\r\n        password: values.new_password,\r\n      }).unwrap();\r\n      message.success('Password changed successfully');\r\n      setIsChangingPassword(false);\r\n      passwordForm.resetFields();\r\n      // Reload page to reflect changes\r\n      window.location.reload();\r\n    } catch (error: any) {\r\n      message.error(error?.data?.message || 'Failed to change password');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    form.setFieldsValue({\r\n      name: user?.name,\r\n      email: user?.email,\r\n      mobile: user?.mobile,\r\n      user_name: user?.username || '',\r\n    });\r\n  };\r\n\r\n  const userRole =\r\n    user?.roleItems?.name || user?.usertype || user?.user_role || 'User';\r\n  const orgName =\r\n    user?.organisationItems?.org_name || user?.organisationItems?.name || 'N/A';\r\n  const branchName =\r\n    user?.branchItems?.branch_name || user?.branchItems?.name || 'N/A';\r\n\r\n  // Get initials for avatar\r\n  const getInitials = (name?: string) => {\r\n    if (!name) return 'U';\r\n    return name\r\n      .split(' ')\r\n      .map(word => word[0])\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.userProfileContainer}>\r\n      <div className={styles.userProfileHeader}>\r\n        <Title level={2}>\r\n          <UserOutlined /> My Profile\r\n        </Title>\r\n        <Text type=\"secondary\">View and manage your account information</Text>\r\n      </div>\r\n\r\n      <Row gutter={[24, 24]}>\r\n        {/* Profile Overview Card */}\r\n        <Col xs={24} lg={8}>\r\n          <Card className={`${styles.profileCard} ${styles.profileOverview}`}>\r\n            <div className={styles.profileAvatarSection}>\r\n              <Avatar size={120} className={styles.profileAvatar}>\r\n                {getInitials(user?.name)}\r\n              </Avatar>\r\n              <Title level={4} style={{ marginTop: 16, marginBottom: 4 }}>\r\n                {user?.name || 'User Name'}\r\n              </Title>\r\n              <Text type=\"secondary\">@{user?.username || user?.name || 'username'}</Text>\r\n              <div style={{ marginTop: 16 }}>\r\n                <Tag color=\"blue\" style={{ fontSize: 14, padding: '4px 12px' }}>\r\n                  {userRole}\r\n                </Tag>\r\n              </div>\r\n            </div>\r\n\r\n            <Divider />\r\n\r\n            <Descriptions column={1} size=\"small\">\r\n              <Descriptions.Item\r\n                label={\r\n                  <span>\r\n                    <IdcardOutlined /> Organisation\r\n                  </span>\r\n                }\r\n              >\r\n                <Text strong>{orgName}</Text>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item\r\n                label={\r\n                  <span>\r\n                    <IdcardOutlined /> Branch\r\n                  </span>\r\n                }\r\n              >\r\n                <Text strong>{branchName}</Text>\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Profile Details Card */}\r\n        <Col xs={24} lg={16}>\r\n          <Card\r\n            className={`${styles.profileCard} ${styles.profileDetails}`}\r\n            title=\"Personal Information\"\r\n            extra={\r\n              !isEditing && (\r\n                <Button\r\n                  type=\"primary\"\r\n                  icon={<EditOutlined />}\r\n                  onClick={() => setIsEditing(true)}\r\n                >\r\n                  Edit Profile\r\n                </Button>\r\n              )\r\n            }\r\n          >\r\n            <Form\r\n              form={form}\r\n              layout=\"vertical\"\r\n              onFinish={handleUpdate}\r\n              disabled={!isEditing}\r\n            >\r\n              <Row gutter={16}>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Full Name\"\r\n                    name=\"name\"\r\n                    rules={[\r\n                      { required: true, message: 'Please enter your full name' },\r\n                    ]}\r\n                  >\r\n                    <Input\r\n                      prefix={<UserOutlined />}\r\n                      placeholder=\"Enter full name\"\r\n                      size=\"large\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item label=\"Username\" name=\"user_name\">\r\n                    <Input\r\n                      prefix={<UserOutlined />}\r\n                      placeholder=\"Username\"\r\n                      size=\"large\"\r\n                      disabled\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row gutter={16}>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    rules={[\r\n                      { required: true, message: 'Please enter your email' },\r\n                      { type: 'email', message: 'Enter a valid email' },\r\n                    ]}\r\n                  >\r\n                    <Input\r\n                      prefix={<MailOutlined />}\r\n                      placeholder=\"Enter email\"\r\n                      size=\"large\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Mobile Number\"\r\n                    name=\"mobile\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: 'Please enter your mobile number',\r\n                      },\r\n                      {\r\n                        pattern: /^[0-9]{10}$/,\r\n                        message: 'Enter valid 10-digit mobile number',\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input\r\n                      prefix={<PhoneOutlined />}\r\n                      placeholder=\"Enter mobile number\"\r\n                      maxLength={10}\r\n                      size=\"large\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n\r\n              {isEditing && (\r\n                <Form.Item>\r\n                  <Space>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      htmlType=\"submit\"\r\n                      icon={<SaveOutlined />}\r\n                      loading={updateLoading}\r\n                      size=\"large\"\r\n                    >\r\n                      Save Changes\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleCancel}\r\n                      icon={<CloseOutlined />}\r\n                      size=\"large\"\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </Space>\r\n                </Form.Item>\r\n              )}\r\n            </Form>\r\n          </Card>\r\n\r\n          {/* Security Card */}\r\n          <Card\r\n            className={`${styles.profileCard} ${styles.securityCard}`}\r\n            title=\"Security Settings\"\r\n            style={{ marginTop: 24 }}\r\n          >\r\n            <div className={styles.securitySection}>\r\n              <div className={styles.securityItem}>\r\n                <LockOutlined style={{ fontSize: 24, color: '#1890ff' }} />\r\n                <div className={styles.securityItemContent}>\r\n                  <Text strong>Password</Text>\r\n                  <br />\r\n                  <Text type=\"secondary\">\r\n                    Update your password to keep your account secure\r\n                  </Text>\r\n                </div>\r\n                <Button\r\n                  type=\"default\"\r\n                  onClick={() => setIsChangingPassword(true)}\r\n                >\r\n                  Change Password\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Change Password Modal */}\r\n      <Modal\r\n        title=\"Change Password\"\r\n        open={isChangingPassword}\r\n        onCancel={() => {\r\n          setIsChangingPassword(false);\r\n          passwordForm.resetFields();\r\n        }}\r\n        footer={null}\r\n        width={500}\r\n      >\r\n        <Form\r\n          form={passwordForm}\r\n          layout=\"vertical\"\r\n          onFinish={handlePasswordChange}\r\n        >\r\n          <Form.Item\r\n            label=\"New Password\"\r\n            name=\"new_password\"\r\n            rules={[\r\n              { required: true, message: 'Please enter new password' },\r\n              { min: 6, message: 'Password must be at least 6 characters' },\r\n            ]}\r\n            hasFeedback\r\n          >\r\n            <Input.Password\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"Enter new password\"\r\n              size=\"large\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Confirm New Password\"\r\n            name=\"confirm_password\"\r\n            dependencies={['new_password']}\r\n            hasFeedback\r\n            rules={[\r\n              { required: true, message: 'Please confirm your password' },\r\n              ({ getFieldValue }) => ({\r\n                validator(_, value) {\r\n                  if (!value || getFieldValue('new_password') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(\r\n                    new Error('The two passwords do not match!')\r\n                  );\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password\r\n              prefix={<LockOutlined />}\r\n              placeholder=\"Confirm new password\"\r\n              size=\"large\"\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Space>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                loading={updateLoading}\r\n                size=\"large\"\r\n              >\r\n                Update Password\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  setIsChangingPassword(false);\r\n                  passwordForm.resetFields();\r\n                }}\r\n                size=\"large\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </Space>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n\r\n","// This icon file is generated automatically.\nvar SaveOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" } }] }, \"name\": \"save\", \"theme\": \"outlined\" };\nexport default SaveOutlined;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport SaveOutlinedSvg from \"@ant-design/icons-svg/es/asn/SaveOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst SaveOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: SaveOutlinedSvg\n}));\n\n/**![save](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg5My4zIDI5My4zTDczMC43IDEzMC43Yy03LjUtNy41LTE2LjctMTMtMjYuNy0xNlYxMTJIMTQ0Yy0xNy43IDAtMzIgMTQuMy0zMiAzMnY3MzZjMCAxNy43IDE0LjMgMzIgMzIgMzJoNzM2YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjMzOC41YzAtMTctNi43LTMzLjItMTguNy00NS4yek0zODQgMTg0aDI1NnYxMDRIMzg0VjE4NHptNDU2IDY1NkgxODRWMTg0aDEzNnYxMzZjMCAxNy43IDE0LjMgMzIgMzIgMzJoMzIwYzE3LjcgMCAzMi0xNC4zIDMyLTMyVjIwNS44bDEzNiAxMzZWODQwek01MTIgNDQyYy03OS41IDAtMTQ0IDY0LjUtMTQ0IDE0NHM2NC41IDE0NCAxNDQgMTQ0IDE0NC02NC41IDE0NC0xNDQtNjQuNS0xNDQtMTQ0LTE0NHptMCAyMjRjLTQ0LjIgMC04MC0zNS44LTgwLTgwczM1LjgtODAgODAtODAgODAgMzUuOCA4MCA4MC0zNS44IDgwLTgwIDgweiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(SaveOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'SaveOutlined';\n}\nexport default RefIcon;"],"names":["Title","Text","Typography","UserProfile","_user$roleItems","_user$organisationIte","_user$organisationIte2","_user$branchItems","_user$branchItems2","user","useUser","isEditing","setIsEditing","useState","isChangingPassword","setIsChangingPassword","form","Form","useForm","passwordForm","updateBillingUser","isLoading","updateLoading","apiSlice","useUpdateBillingUsersMutation","useEffect","setFieldsValue","name","email","mobile","user_name","username","userRole","roleItems","usertype","user_role","orgName","organisationItems","org_name","branchName","branchItems","branch_name","_jsxs","className","styles","children","level","_jsx","UserOutlined","type","Row","gutter","Col","xs","lg","Card","concat","Avatar","size","split","map","word","join","toUpperCase","slice","style","marginTop","marginBottom","Tag","color","fontSize","padding","Divider","Descriptions","column","Item","label","IdcardOutlined","strong","title","extra","Button","icon","EditOutlined","onClick","layout","onFinish","async","_id","updateData","values","result","_objectSpread","id","unwrap","message","success","userResult","setUserData","window","location","reload","error","_error$data","data","disabled","md","rules","required","Input","prefix","placeholder","MailOutlined","pattern","PhoneOutlined","maxLength","Space","htmlType","SaveOutlined","loading","handleCancel","CloseOutlined","LockOutlined","Modal","open","onCancel","resetFields","footer","width","password","new_password","_error$data2","min","hasFeedback","Password","dependencies","_ref","getFieldValue","validator","_","value","Promise","reject","Error","resolve","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","props","ref","React","AntdIcon","SaveOutlinedSvg"],"sourceRoot":""}