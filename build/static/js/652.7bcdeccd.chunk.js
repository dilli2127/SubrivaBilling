/*! For license information please see 652.7bcdeccd.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkFOCUZ_BILLING=self.webpackChunkFOCUZ_BILLING||[]).push([[652],{6881:(e,t,l)=>{l.d(t,{A:()=>r});var i=l(65043),a=l(51762),n=l(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const o=(e,t)=>i.createElement(n.A,s({},e,{ref:t,icon:a.A}));const r=i.forwardRef(o)},9764:(e,t,l)=>{l.d(t,{A:()=>r});var i=l(65043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"}}]},name:"tags",theme:"outlined"};var n=l(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const o=(e,t)=>i.createElement(n.A,s({},e,{ref:t,icon:a}));const r=i.forwardRef(o)},74198:(e,t,l)=>{l.d(t,{_V:()=>a});l(65043);var i=l(91449);l(52614);const a=e=>{const t=i.LE[e]||(0,i.lX)(e);return{get:t.getAll(),create:t.create(),update:t.update(),delete:t.delete()}}},75652:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});l(65043);var i=l(82863),a=l(36621),n=l(7866),s=l(93504),o=l(26553),r=l(76399),d=l(96651),c=l(78566),u=l(36091),p=l(76401),h=l(6881),m=l(9764),g=l(74198),x=l(60446),f=l.n(x),y=l(70579);const j=()=>{const e={title:"Expenses",columns:[{title:"Title",dataIndex:"title",key:"title",render:e=>(0,y.jsxs)("div",{style:{fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[(0,y.jsx)(u.A,{style:{color:"#1890ff"}}),e]})},{title:"Category",dataIndex:"category",key:"category",render:e=>(0,y.jsx)(r.A,{color:"Income"===e?"green":"volcano",children:e})},{title:"Date",dataIndex:"date",key:"date",render:e=>(0,y.jsxs)("span",{children:[(0,y.jsx)(h.A,{style:{color:"#faad14",marginRight:4}}),f()(e).format("DD MMM YYYY")]})},{title:"Amount",dataIndex:"amount",key:"amount",render:e=>(0,y.jsxs)("span",{style:{fontWeight:500},children:[(0,y.jsx)(p.A,{style:{color:"#52c41a",marginRight:4}}),"\u20b9",e.toLocaleString("en-IN")]})},{title:"Notes",dataIndex:"notes",key:"notes",render:e=>(0,y.jsx)(d.A,{title:e,children:(0,y.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:150,display:"inline-block"},children:e})})}],formItems:[{name:"title",label:"Expense Title",rules:[{required:!0,message:"Please enter the expense title"}],component:(0,y.jsx)(a.A,{prefix:(0,y.jsx)(u.A,{}),placeholder:"e.g., Electricity Sale"})},{name:"amount",label:"Amount",rules:[{required:!0,message:"Please enter the amount"}],component:(0,y.jsx)(n.A,{prefix:(0,y.jsx)(p.A,{}),placeholder:"e.g., 500",style:{width:"100%"},min:0})},{name:"date",label:"Date",rules:[{required:!0,message:"Please select a date"}],component:(0,y.jsx)(s.A,{placeholder:"Select expense date",style:{width:"100%"},suffixIcon:(0,y.jsx)(h.A,{})})},{name:"category",label:"Category",rules:[{required:!0,message:"Please select category"}],component:(0,y.jsxs)(o.A,{placeholder:"Select category",suffixIcon:(0,y.jsx)(m.A,{}),allowClear:!0,children:[(0,y.jsx)(c.c,{value:"utilities",children:"Utilities"}),(0,y.jsx)(c.c,{value:"maintenance",children:"Maintenance"}),(0,y.jsx)(c.c,{value:"supplies",children:"Supplies"}),(0,y.jsx)(c.c,{value:"salary",children:"Salary"}),(0,y.jsx)(c.c,{value:"others",children:"Others"})]})},{name:"notes",label:"Notes",rules:[],component:(0,y.jsx)(a.A.TextArea,{rows:3,placeholder:"Additional notes"})}],apiRoutes:(0,g._V)("Expenses"),formColumns:2};return(0,y.jsx)(i.r,{config:e})}},82863:(e,t,l)=>{l.d(t,{r:()=>L});var i=l(89379),a=l(65043),n=l(96651),s=l(47419),o=l(11645),r=l(36621),d=l(26553),c=l(93504),u=l(95206),p=l(33359),h=l(9316),m=l(83003),g=l(62305),x=l(97031),f=l(91449),y=l(60446),j=l.n(y);var A=l(22671),v=l(53986),b=l(83833),C=l(88655),k=l(73847),w=l(70579);const R=["key","name","fieldKey"],S=e=>{const{FormValue:t,onSubmit:l,onCancel:n,formItems:r,onChildCancel:d,formColumns:c,splitLabelAndField:p,nested:h,nestedInputs:m,wrapperCol:x,labelCol:f,initialValues:y,loading:j,form:A,onValuesChange:S}=e,I=c||1;return(0,a.useEffect)((()=>{y&&(null===A||void 0===A||A.setFieldsValue(y))}),[y,A]),(0,w.jsxs)("div",{style:{position:"relative",height:"100%"},children:[(0,w.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"600px 600px",opacity:.1,zIndex:0}}),(0,w.jsxs)(g.A,{form:A,onFinish:e=>{l?l(e):t&&t(e),null===A||void 0===A||A.resetFields()},layout:"vertical",onValuesChange:S,children:[(0,w.jsxs)(s.A,{gutter:[16,16],children:[null===r||void 0===r?void 0:r.map(((e,t)=>{var l;return(0,w.jsx)(o.A,{span:24/I,children:p?(0,w.jsxs)("div",{children:[(0,w.jsxs)(b.A.Text,{strong:!0,children:[e.label," ",(null===(l=e.rules)||void 0===l?void 0:l.some((e=>e.required)))&&(0,w.jsx)(b.A.Text,{type:"danger",children:"*"})]}),(0,w.jsx)(g.A.Item,{name:e.name,rules:e.rules,style:{marginTop:"8px"},children:e.component})]}):(0,w.jsx)(g.A.Item,{label:(0,w.jsx)(b.A.Text,{strong:!0,children:e.label}),name:e.name,rules:e.rules,labelCol:{span:f},wrapperCol:{span:x},children:e.component})},t)})),h&&(0,w.jsx)(g.A.List,{name:"nestedItems",children:(e,t)=>{let{add:l,remove:a}=t;return(0,w.jsxs)(w.Fragment,{children:[e.map((e=>{let{key:t,name:l,fieldKey:n}=e,r=(0,v.A)(e,R);return(0,w.jsxs)(s.A,{gutter:[16,16],align:"middle",children:[m.map(((e,t)=>(0,w.jsx)(o.A,{children:(0,w.jsx)(g.A.Item,(0,i.A)((0,i.A)({},r),{},{name:[l,e.name],fieldKey:[n,e.name],rules:[{required:!0,message:"Missing ".concat(e.label)}],label:e.label,children:e.component}))},t))),(0,w.jsx)(o.A,{children:(0,w.jsx)(C.A,{onClick:()=>a(l)})})]},t)})),(0,w.jsx)(s.A,{justify:"center",children:(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{type:"primary",onClick:()=>l(),icon:(0,w.jsx)(k.A,{}),children:"Add More Field"})})})]})}})]}),(0,w.jsxs)(s.A,{justify:"end",gutter:[16,16],style:{padding:"16px"},children:[(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{onClick:()=>{n?n():d&&d(!1),null===A||void 0===A||A.resetFields()},children:"Cancel"})}),(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{type:"primary",htmlType:"submit",loading:j,children:"Submit"})})]})]})]})};var I=l(4413);function F(e,t,l){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{title:"Actions",key:"actions",render:(a,s)=>(0,w.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,w.jsx)(n.A,{title:"Edit ".concat(e),children:(0,w.jsx)(p.A,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>t(s)})}),(0,w.jsx)(n.A,{title:"Delete ".concat(e),children:(0,w.jsx)(h.A,{style:{cursor:i?"not-allowed":"pointer",color:i?"#d9d9d9":"#ff4d4f",opacity:i?.5:1},onClick:()=>!i&&l(s)})})]})}}const L=e=>{let{config:t,filters:l=[],onFilterChange:n,customButtons:p=[],onValuesChange:h}=e;const{loading:y,createLoading:v,updateLoading:b,deleteLoading:C,items:k,pagination:R,drawerVisible:L,initialValues:V,form:E,handleEdit:P,handleDelete:O,handleDrawerOpen:_,resetForm:z,handleSubmit:D,handlePaginationChange:M,columns:T,formItems:K,formColumns:q=2,drawerWidth:N,filterValues:B,setFilterValues:W}=(e=>{const t=(0,m.wA)(),[l]=g.A.useForm(),[n,s]=(0,a.useState)(!1),[o,r]=(0,a.useState)({}),[d,c]=(0,a.useState)({}),[u,p]=(0,a.useState)({current:1,pageSize:10}),{loading:h,items:y}=(0,x.Sm)(e.apiRoutes.get.identifier),{loading:A,items:v,error:b}=(0,x.Sm)(e.apiRoutes.create.identifier),{loading:C,items:k,error:w}=(0,x.Sm)(e.apiRoutes.update.identifier),{loading:R,items:S,error:I}=(0,x.Sm)(e.apiRoutes.delete.identifier),F=(0,a.useCallback)(((e,l,i,a)=>{t((0,x.s7)({method:e,endpoint:l,data:i},a))}),[t]),L=(0,a.useCallback)((()=>{const t=(0,i.A)((0,i.A)({},d),{},{pageNumber:u.current,pageLimit:u.pageSize});F(e.apiRoutes.get.method,e.apiRoutes.get.endpoint,t,e.apiRoutes.get.identifier)}),[F,e.apiRoutes.get,d,u]),V=(0,a.useCallback)((t=>{F(e.apiRoutes.create.method,e.apiRoutes.create.endpoint,t,e.apiRoutes.create.identifier)}),[F,e.apiRoutes.create]),E=(0,a.useCallback)(((t,l)=>{F(e.apiRoutes.update.method,"".concat(e.apiRoutes.update.endpoint,"/").concat(t),l,e.apiRoutes.update.identifier)}),[F,e.apiRoutes.update]),P=(0,a.useCallback)((t=>{F(e.apiRoutes.delete.method,"".concat(e.apiRoutes.delete.endpoint,"/").concat(t),{_id:t},e.apiRoutes.delete.identifier)}),[F,e.apiRoutes.delete]),O=(0,a.useCallback)(((e,t)=>{p({current:e,pageSize:t})}),[]);function _(e){return/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/.test(e)}const z=(0,a.useCallback)((e=>{const t={};for(const l in e){const i=e[l];"string"===typeof i&&_(i)&&j()(i,void 0,!0).isValid()?t[l]=j()(i):t[l]=i}r(t),s(!0)}),[]),D=(0,a.useCallback)((e=>{P(e._id)}),[P]),M=(0,a.useCallback)((()=>{s(!0)}),[]),T=(0,a.useCallback)((()=>{s(!1),r({}),l.resetFields()}),[l]),K=(0,a.useCallback)((e=>{o._id?E(o._id,e):V(e)}),[o._id,V,E]);return(0,a.useEffect)((()=>{if(200===(null===v||void 0===v?void 0:v.statusCode))(0,f.P0)("success","".concat(e.title," created successfully")),L(),T(),t((0,x.Ki)(e.apiRoutes.create.identifier));else if(b){const t=b.message||"Failed to create ".concat(e.title);(0,f.P0)("error",t)}}),[v,b,e.title,L,T,t,e.apiRoutes.create.identifier]),(0,a.useEffect)((()=>{if(200===(null===k||void 0===k?void 0:k.statusCode))(0,f.P0)("success","".concat(e.title," updated successfully")),L(),T(),t((0,x.Ki)(e.apiRoutes.update.identifier));else if(w){const t=w.message||"Failed to update ".concat(e.title);(0,f.P0)("error",t)}}),[k,w,e.title,L,T,t,e.apiRoutes.update.identifier]),(0,a.useEffect)((()=>{if(200===(null===S||void 0===S?void 0:S.statusCode))(0,f.P0)("success","".concat(e.title," deleted successfully")),L(),t((0,x.Ki)(e.apiRoutes.delete.identifier));else if(I){const t=I.message||"Failed to delete ".concat(e.title);(0,f.P0)("error",t)}}),[S,I,e.title,L,t,e.apiRoutes.delete.identifier]),(0,a.useEffect)((()=>{L()}),[L]),(0,i.A)({loading:h,createLoading:A,updateLoading:C,deleteLoading:R,items:null===y||void 0===y?void 0:y.result,pagination:null===y||void 0===y?void 0:y.pagination,drawerVisible:n,initialValues:o,form:l,filterValues:d,setFilterValues:c,handleEdit:z,handleDelete:D,handleDrawerOpen:M,resetForm:T,handleSubmit:K,handlePaginationChange:O},e)})(t),Y=(0,a.useCallback)(((e,t)=>{const l=(0,i.A)((0,i.A)({},B),{},{[e]:t});W(l),n&&n(l)}),[B,W,n]),U=(0,a.useMemo)((()=>[...T,F(t.title,P,O,C)]),[T,t.title,P,O,C]);return(0,w.jsxs)("div",{children:[(0,w.jsxs)(s.A,{justify:"space-between",align:"bottom",gutter:[16,16],style:{marginBottom:16},children:[(0,w.jsx)(o.A,{flex:"auto",children:(0,w.jsx)("h1",{style:{margin:0},children:t.title})}),(0,w.jsx)(o.A,{children:(0,w.jsxs)(s.A,{gutter:[12,12],align:"bottom",justify:"end",wrap:!0,children:[l.map((e=>{var t;return(0,w.jsxs)(o.A,{children:["input"===e.type&&(0,w.jsx)(r.A,{placeholder:e.placeholder||e.label,value:B[e.key]||"",onChange:t=>Y(e.key,t.target.value),style:{width:e.width||200},disabled:v||b||C}),"select"===e.type&&(0,w.jsx)(d.A,{placeholder:e.placeholder||e.label,value:B[e.key],onChange:t=>{Y(e.key,t),e.onChange&&e.onChange(t)},allowClear:!0,style:{width:e.width||200},disabled:e.disabled||v||b||C,children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,w.jsx)(d.A.Option,{value:e.value,children:e.label},e.value)))}),"date"===e.type&&(0,w.jsx)(c.A,{placeholder:e.placeholder||e.label,value:B[e.key],onChange:t=>Y(e.key,t),style:{width:e.width||200},disabled:v||b||C})]},e.key)})),(0,w.jsx)(o.A,{children:(0,w.jsx)(r.A,{placeholder:"Search ".concat(t.title),value:B.searchString||"",onChange:e=>Y("searchString",e.target.value),style:{width:200},disabled:v||b||C})}),p.map((e=>(0,w.jsx)(o.A,{children:(0,w.jsx)(u.Ay,{type:e.type||"default",onClick:e.onClick,icon:e.icon,disabled:v||b||C,children:e.label})},e.key))),(0,w.jsx)(o.A,{children:(0,w.jsxs)(u.Ay,{type:"primary",onClick:_,loading:v,disabled:v,children:["Add ",t.title]})})]})})]}),(0,w.jsx)(I.A,{columns:U,data:k,loading:y||C,rowKeyField:"_id",totalCount:(null===R||void 0===R?void 0:R.totalCount)||0,pageLimit:(null===R||void 0===R?void 0:R.pageLimit)||10,onPaginationChange:M}),(0,w.jsx)(A.A,{title:"".concat(V._id?"Edit":"Add"," ").concat(t.title),open:L,onClose:v||b?()=>{}:z,width:N,children:(0,w.jsx)(S,{form:E,formItems:K,formColumns:q,initialValues:V,onSubmit:D,onCancel:z,onValuesChange:h,loading:v||b})})]})}}}]);
//# sourceMappingURL=652.7bcdeccd.chunk.js.map