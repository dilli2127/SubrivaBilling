{"version":3,"file":"static/js/279.018e1220.chunk.js","mappings":"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","sources":["helpers/upiPayment.ts","pages/RetaillBill/templates/components/PaymentQRCode.tsx","pages/RetaillBill/templates/bills/ClassicBillTemplate.tsx","pages/RetaillBill/templates/bills/billTemplates.ts","pages/RetaillBill/templates/bills/ModernBillTemplate.tsx","pages/RetaillBill/templates/invoices/ClassicInvoiceTemplate.tsx","pages/RetaillBill/templates/invoices/ModernInvoiceTemplate.tsx","pages/RetaillBill/templates/invoices/ProfessionalInvoiceTemplate.tsx","webpack://SUBRIVA-BILLING/./src/pages/RetaillBill/templates/invoices/ProfessionalTaxInvoiceTemplate.module.css?cc36","pages/RetaillBill/templates/invoices/invoiceTemplates.ts","pages/RetaillBill/templates/invoices/ProfessionalTaxInvoiceTemplate.tsx"],"sourcesContent":["/**\r\n * UPI Payment Utility\r\n * Generates UPI payment URLs and QR codes for Indian payment apps\r\n * Supports Google Pay, PhonePe, Paytm, and all UPI-enabled apps\r\n */\r\n\r\nimport QRCode from 'qrcode';\r\n\r\n/**\r\n * UPI Payment Parameters\r\n */\r\nexport interface UPIPaymentParams {\r\n  /** UPI ID of the payee (e.g., 1234567890@ybl) */\r\n  upiId: string;\r\n  /** Payee name */\r\n  payeeName: string;\r\n  /** Transaction amount in INR */\r\n  amount?: number;\r\n  /** Transaction note/description */\r\n  transactionNote?: string;\r\n  /** Transaction reference ID */\r\n  transactionRef?: string;\r\n  /** Merchant code (optional) */\r\n  merchantCode?: string;\r\n}\r\n\r\n/**\r\n * Generates a UPI payment URL following the UPI deep linking specification\r\n * Format: upi://pay?pa=<UPI_ID>&pn=<NAME>&am=<AMOUNT>&tn=<NOTE>&tr=<REF>\r\n * \r\n * @param params - UPI payment parameters\r\n * @returns UPI payment URL string\r\n */\r\nexport const generateUPIUrl = (params: UPIPaymentParams): string => {\r\n  const {\r\n    upiId,\r\n    payeeName,\r\n    amount,\r\n    transactionNote,\r\n    transactionRef,\r\n    merchantCode\r\n  } = params;\r\n\r\n  // Validate UPI ID format\r\n  if (!upiId || !upiId.includes('@')) {\r\n    throw new Error('Invalid UPI ID format. Must contain @ symbol');\r\n  }\r\n\r\n  // Build UPI URL with required and optional parameters\r\n  const urlParams = new URLSearchParams();\r\n  \r\n  // Required parameters\r\n  urlParams.append('pa', upiId); // Payee Address (UPI ID)\r\n  urlParams.append('pn', payeeName); // Payee Name\r\n  \r\n  // Amount - ALWAYS include if provided\r\n  if (amount !== undefined && amount !== null) {\r\n    const amountStr = Number(amount).toFixed(2);\r\n    urlParams.append('am', amountStr); // Amount\r\n  }\r\n  \r\n  if (transactionNote) {\r\n    urlParams.append('tn', transactionNote); // Transaction Note\r\n  }\r\n  \r\n  if (transactionRef) {\r\n    urlParams.append('tr', transactionRef); // Transaction Reference\r\n  }\r\n  \r\n  if (merchantCode) {\r\n    urlParams.append('mc', merchantCode); // Merchant Code\r\n  }\r\n  \r\n  // Currency (INR for Indian Rupees)\r\n  urlParams.append('cu', 'INR');\r\n\r\n  return `upi://pay?${urlParams.toString()}`;\r\n};\r\n\r\n/**\r\n * Generates a QR code as a Base64 data URL for UPI payment\r\n * \r\n * @param params - UPI payment parameters\r\n * @param options - QR code generation options\r\n * @returns Promise resolving to Base64 data URL of QR code image\r\n */\r\nexport const generateUPIQRCode = async (\r\n  params: UPIPaymentParams,\r\n  options?: {\r\n    width?: number;\r\n    margin?: number;\r\n    errorCorrectionLevel?: 'L' | 'M' | 'Q' | 'H';\r\n    color?: {\r\n      dark?: string;\r\n      light?: string;\r\n    };\r\n  }\r\n): Promise<string> => {\r\n  const upiUrl = generateUPIUrl(params);\r\n  \r\n  try {\r\n    const qrCodeDataUrl = await QRCode.toDataURL(upiUrl, {\r\n      width: options?.width || 300,\r\n      margin: options?.margin || 2,\r\n      errorCorrectionLevel: options?.errorCorrectionLevel || 'M',\r\n      color: {\r\n        dark: options?.color?.dark || '#000000',\r\n        light: options?.color?.light || '#FFFFFF',\r\n      },\r\n    });\r\n    \r\n    return qrCodeDataUrl;\r\n  } catch (error) {\r\n    console.error('Error generating UPI QR code:', error);\r\n    throw new Error('Failed to generate QR code');\r\n  }\r\n};\r\n\r\n/**\r\n * Generates a QR code as an SVG string for UPI payment\r\n * SVG is better for printing as it's vector-based\r\n * \r\n * @param params - UPI payment parameters\r\n * @param options - QR code generation options\r\n * @returns Promise resolving to SVG string\r\n */\r\nexport const generateUPIQRCodeSVG = async (\r\n  params: UPIPaymentParams,\r\n  options?: {\r\n    width?: number;\r\n    margin?: number;\r\n    errorCorrectionLevel?: 'L' | 'M' | 'Q' | 'H';\r\n    color?: {\r\n      dark?: string;\r\n      light?: string;\r\n    };\r\n  }\r\n): Promise<string> => {\r\n  const upiUrl = generateUPIUrl(params);\r\n  \r\n  try {\r\n    const qrCodeSVG = await QRCode.toString(upiUrl, {\r\n      type: 'svg',\r\n      width: options?.width || 300,\r\n      margin: options?.margin || 2,\r\n      errorCorrectionLevel: options?.errorCorrectionLevel || 'M',\r\n      color: {\r\n        dark: options?.color?.dark || '#000000',\r\n        light: options?.color?.light || '#FFFFFF',\r\n      },\r\n    });\r\n    \r\n    return qrCodeSVG;\r\n  } catch (error) {\r\n    console.error('Error generating UPI QR code SVG:', error);\r\n    throw new Error('Failed to generate QR code SVG');\r\n  }\r\n};\r\n\r\n/**\r\n * Validates if a string is a valid UPI ID\r\n * UPI ID format: username@bankcode (e.g., 1234567890@ybl)\r\n * \r\n * @param upiId - UPI ID to validate\r\n * @returns true if valid, false otherwise\r\n */\r\nexport const isValidUPIId = (upiId: string): boolean => {\r\n  if (!upiId || typeof upiId !== 'string') {\r\n    return false;\r\n  }\r\n  \r\n  // UPI ID regex: alphanumeric/dots/hyphens/underscores @ alphanumeric\r\n  const upiRegex = /^[\\w.-]+@[a-zA-Z0-9]+$/;\r\n  return upiRegex.test(upiId);\r\n};\r\n\r\n/**\r\n * Gets UPI app information based on UPI handle\r\n * \r\n * @param upiId - UPI ID\r\n * @returns App information object\r\n */\r\nexport const getUPIAppInfo = (upiId: string): {\r\n  provider: string;\r\n  appName: string;\r\n} => {\r\n  const handle = upiId.split('@')[1];\r\n  \r\n  const providers: { [key: string]: { provider: string; appName: string } } = {\r\n    'ybl': { provider: 'Yes Bank', appName: 'Google Pay / PhonePe / Various' },\r\n    'paytm': { provider: 'Paytm', appName: 'Paytm' },\r\n    'oksbi': { provider: 'SBI', appName: 'BHIM SBI Pay' },\r\n    'okaxis': { provider: 'Axis Bank', appName: 'Axis Pay' },\r\n    'okicici': { provider: 'ICICI Bank', appName: 'iMobile Pay' },\r\n    'okhdfcbank': { provider: 'HDFC Bank', appName: 'HDFC Bank MobileBanking' },\r\n    'axisbank': { provider: 'Axis Bank', appName: 'Axis Mobile' },\r\n    'icici': { provider: 'ICICI Bank', appName: 'Pockets / iMobile' },\r\n  };\r\n  \r\n  return providers[handle] || { provider: 'Unknown', appName: 'UPI App' };\r\n};\r\n\r\n/**\r\n * Formats bill data into UPI payment parameters\r\n * \r\n * @param billData - Bill/Invoice data\r\n * @param settings - Organization settings with UPI details\r\n * @returns UPI payment parameters\r\n */\r\nexport const formatBillToUPIParams = (\r\n  billData: any,\r\n  settings: any\r\n): UPIPaymentParams | null => {\r\n  // Check if UPI ID is configured\r\n  const upiId = settings?.upi_id;\r\n  if (!upiId || !isValidUPIId(upiId)) {\r\n    return null;\r\n  }\r\n\r\n  // Get organization/business name\r\n  const payeeName = billData?.organisationItems?.org_name || \r\n                    settings?.organisation_name || \r\n                    'Business';\r\n\r\n  // Get bill amount - check multiple possible field names\r\n  const amount = Number(\r\n    billData?.net_amount || \r\n    billData?.grand_total || \r\n    billData?.total || \r\n    billData?.total_amount ||\r\n    billData?.net_total ||\r\n    billData?.final_amount ||\r\n    billData?.amount ||\r\n    0\r\n  );\r\n\r\n  // Generate transaction note\r\n  const billNumber = billData?.bill_number || billData?.invoice_number || '';\r\n  const transactionNote = `Payment for ${billNumber}`;\r\n\r\n  // Use bill number as transaction reference\r\n  const transactionRef = billNumber;\r\n\r\n  return {\r\n    upiId,\r\n    payeeName,\r\n    amount,\r\n    transactionNote,\r\n    transactionRef,\r\n  };\r\n};\r\n\r\nexport default {\r\n  generateUPIUrl,\r\n  generateUPIQRCode,\r\n  generateUPIQRCodeSVG,\r\n  isValidUPIId,\r\n  getUPIAppInfo,\r\n  formatBillToUPIParams,\r\n};\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport { formatBillToUPIParams, generateUPIQRCode } from '../../../../helpers/upiPayment';\r\n\r\ninterface PaymentQRCodeProps {\r\n  billData: any;\r\n  settings: any;\r\n  size?: number;\r\n  position?: 'bottom-left' | 'bottom-right' | 'top-right' | 'footer';\r\n  showUpiId?: boolean;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/**\r\n * PaymentQRCode Component\r\n * Displays UPI payment QR code on bills and invoices\r\n */\r\nconst PaymentQRCode: React.FC<PaymentQRCodeProps> = ({\r\n  billData,\r\n  settings,\r\n  size = 150,\r\n  position = 'bottom-right',\r\n  showUpiId = true,\r\n  style,\r\n}) => {\r\n  const [qrCode, setQrCode] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    const generateQR = async () => {\r\n      try {\r\n        // Check if payment QR is enabled\r\n        if (!settings?.enable_payment_qr) {\r\n          return;\r\n        }\r\n\r\n        // Get UPI parameters from bill data and settings\r\n        const upiParams = formatBillToUPIParams(billData, settings);\r\n        \r\n        if (!upiParams) {\r\n          console.warn('Invalid UPI configuration');\r\n          return;\r\n        }\r\n\r\n        // Generate QR code\r\n        const qrCodeDataUrl = await generateUPIQRCode(upiParams, {\r\n          width: size,\r\n          margin: 1,\r\n          errorCorrectionLevel: 'M',\r\n        });\r\n\r\n        setQrCode(qrCodeDataUrl);\r\n      } catch (error) {\r\n        console.error('Error generating payment QR code:', error);\r\n      }\r\n    };\r\n\r\n    generateQR();\r\n  }, [billData, settings, size]);\r\n\r\n  // Don't render if QR code generation failed or payment QR is disabled\r\n  if (!qrCode || !settings?.enable_payment_qr) {\r\n    return null;\r\n  }\r\n\r\n  // Position-based styling\r\n  const getPositionStyle = (): React.CSSProperties => {\r\n    const baseStyle: React.CSSProperties = {\r\n      position: 'absolute' as const,\r\n    };\r\n\r\n    switch (position) {\r\n      case 'bottom-right':\r\n        return { ...baseStyle, bottom: 20, right: 20 };\r\n      case 'bottom-left':\r\n        return { ...baseStyle, bottom: 20, left: 20 };\r\n      case 'top-right':\r\n        return { ...baseStyle, top: 20, right: 20 };\r\n      case 'footer':\r\n        return { position: 'relative' as const, margin: '20px auto', textAlign: 'center' as const };\r\n      default:\r\n        return baseStyle;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        ...getPositionStyle(),\r\n        padding: 12,\r\n        background: '#fff',\r\n        border: '2px solid #000',\r\n        borderRadius: 8,\r\n        textAlign: 'center',\r\n        ...style,\r\n      }}\r\n    >\r\n      <div style={{ fontSize: 11, fontWeight: 'bold', marginBottom: 6 }}>\r\n        Scan & Pay\r\n      </div>\r\n      <img\r\n        src={qrCode}\r\n        alt=\"Payment QR Code\"\r\n        style={{\r\n          display: 'block',\r\n          width: size,\r\n          height: size,\r\n          margin: '0 auto',\r\n        }}\r\n      />\r\n      {showUpiId && settings?.upi_id && (\r\n        <div style={{ fontSize: 9, marginTop: 6, color: '#333' }}>\r\n          UPI: {settings.upi_id}\r\n        </div>\r\n      )}\r\n      <div style={{ fontSize: 8, marginTop: 4, color: '#666' }}>\r\n        Google Pay  PhonePe  Paytm\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentQRCode;\r\n\r\n","import React from 'react';\r\nimport { useUser } from '../../../../components/antd/UserContext';\r\nimport PaymentQRCode from '../components/PaymentQRCode';\r\n\r\ninterface ClassicBillTemplateProps {\r\n  billData: any;\r\n  settings?: any; // Settings passed as prop (for consistency, may be used for future enhancements)\r\n}\r\n\r\n/**\r\n * Classic Bill Template - For Quick Retail Sales / POS\r\n * Compact thermal receipt style design\r\n * Updated: Safe null/undefined handling\r\n */\r\nconst ClassicBillTemplate: React.FC<ClassicBillTemplateProps> = ({\r\n  billData,\r\n  settings,\r\n}) => {\r\n  const userItem = useUser();\r\n\r\n  // Ensure billData has valid items array\r\n  if (!billData) {\r\n    return <div>No data to display</div>;\r\n  }\r\n\r\n  // Calculate totals based on GST mode\r\n  const subtotal = Number(billData?.total || 0);\r\n  const cgst = Number(billData?.cgst || (billData?.total_gst || 0) / 2);\r\n  const sgst = Number(billData?.sgst || (billData?.total_gst || 0) / 2);\r\n  const isGstInclusive = billData?.is_gst_included ?? true;\r\n  const grandTotal = isGstInclusive ? subtotal : subtotal + cgst + sgst;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        fontFamily: 'Courier New, monospace',\r\n        background: '#fff',\r\n        border: '1px solid #ddd',\r\n        maxWidth: '380px', // Thermal receipt width\r\n        margin: '20px auto',\r\n        padding: '16px',\r\n        fontSize: '12px',\r\n        color: '#000',\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div style={{ textAlign: 'center', marginBottom: '8px' }}>\r\n        <h3 style={{ margin: '4px 0', fontWeight: 'bold', fontSize: '16px' }}>\r\n          {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || ''}\r\n        </h3>\r\n        <div style={{ fontSize: '11px', marginBottom: '4px' }}>\r\n          {billData?.branchItems?.address1 || billData?.organisationItems?.address1 || userItem?.branchItems?.address1 || userItem?.organisationItems?.address1 || ''}\r\n        </div>\r\n        <div style={{ fontSize: '10px', marginBottom: '4px' }}>\r\n          Mobile: {billData?.organisationItems?.phone || userItem?.organisationItems?.phone || ''} | Email: {billData?.organisationItems?.email || userItem?.organisationItems?.email || ''}\r\n        </div>\r\n        <div style={{ fontSize: '11px' }}>\r\n          GSTIN: {billData?.organisationItems?.gst_number || userItem?.organisationItems?.gst_number || ''} | PAN: {billData?.organisationItems?.pan_number || userItem?.organisationItems?.pan_number || ''}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bill Info */}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          marginBottom: '8px',\r\n        }}\r\n      >\r\n        <div>\r\n          <div>BILL NO: {billData?.invoice_no || 'INV-XXXX'}</div>\r\n          <div>\r\n            DATE:{' '}\r\n            {billData?.date\r\n              ? new Date(billData.date).toLocaleDateString()\r\n              : '-'}\r\n          </div>\r\n        </div>\r\n        <div style={{ textAlign: 'right' }}>\r\n          <div>\r\n            NAME:{' '}\r\n            {(billData?.customerName || '').toString().substring(0, 20).toUpperCase()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px dashed #000', margin: '4px 0' }}></div>\r\n\r\n      {/* Items Table */}\r\n      <table\r\n        style={{\r\n          width: '100%',\r\n          borderCollapse: 'collapse',\r\n          marginBottom: '8px',\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr>\r\n            <th style={tableHeaderStyle}>Item</th>\r\n            <th style={tableHeaderStyle}>Qty</th>\r\n            <th style={tableHeaderStyle}>Rate</th>\r\n            <th style={tableHeaderStyle}>Amt</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(billData?.items) && billData.items.length > 0 ? (\r\n            billData.items.map((item: any, idx: number) => {\r\n              const itemName = String(item?.name || item?.product_name || 'Item');\r\n              const displayName = itemName.length > 15 ? itemName.substring(0, 15) + '...' : itemName;\r\n              \r\n              return (\r\n                <tr key={idx}>\r\n                  <td style={tableCellStyle}>{displayName}</td>\r\n                  <td style={tableCellStyle}>{item?.qty || 0}</td>\r\n                  <td style={tableCellStyle}>{item?.price || 0}</td>\r\n                  <td style={tableCellStyle}>{item?.amount || 0}</td>\r\n                </tr>\r\n              );\r\n            })\r\n          ) : (\r\n            <tr>\r\n              <td colSpan={4} style={{ ...tableCellStyle, textAlign: 'center' }}>\r\n                No items\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      <div style={{ borderTop: '1px dashed #000', margin: '4px 0' }}></div>\r\n\r\n      {/* Total Section */}\r\n      <div style={{ textAlign: 'right', fontWeight: 'bold' }}>\r\n        <div>Subtotal:  {subtotal.toFixed(2)}</div>\r\n        <div>{isGstInclusive ? 'CGST (Incl):' : 'CGST:'} {isGstInclusive ? '' : ' '}{cgst.toFixed(2)}</div>\r\n        <div>{isGstInclusive ? 'SGST (Incl):' : 'SGST:'} {isGstInclusive ? '' : ' '}{sgst.toFixed(2)}</div>\r\n        <div style={{ fontSize: '14px' }}>\r\n          NET AMOUNT:  {grandTotal.toFixed(2)}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px dashed #000', margin: '8px 0' }}></div>\r\n\r\n      {/* Settlement Details */}\r\n      <div style={{ fontSize: '10px', textAlign: 'center', marginBottom: '8px' }}>\r\n        {(() => {\r\n          const isPaid = billData?.is_paid || false;\r\n          const isPartiallyPaid = billData?.is_partially_paid || false;\r\n          const paidAmount = Number(billData?.paid_amount || 0);\r\n          const pendingAmount = grandTotal - paidAmount;\r\n          \r\n          if (!isPaid && !isPartiallyPaid) {\r\n            // Unpaid bill - show full balance\r\n            return <div><strong>Balance:</strong> {grandTotal.toFixed(2)}</div>;\r\n          } else if (isPartiallyPaid && !isPaid) {\r\n            // Partially paid - show paid and pending amounts\r\n            return (\r\n              <div>\r\n                <div><strong>Paid:</strong> {paidAmount.toFixed(2)}</div>\r\n                <div><strong>Pending:</strong> {pendingAmount.toFixed(2)}</div>\r\n              </div>\r\n            );\r\n          } else {\r\n            // Fully paid - show settlement details\r\n            return (\r\n              <div>\r\n                <div><strong>Paid by {billData?.payment_mode || 'Cash'}:</strong> {paidAmount.toFixed(2)}</div>\r\n                <div><strong>Balance:</strong> 0.00</div>\r\n              </div>\r\n            );\r\n          }\r\n        })()}\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px dashed #000', margin: '8px 0' }}></div>\r\n\r\n      {/* Payment QR Code */}\r\n      {settings?.enable_payment_qr && settings?.qr_on_bill && (\r\n        <div style={{ textAlign: 'center', margin: '12px 0' }}>\r\n          {settings?.qrCodeDataUrl ? (\r\n            // Render pre-generated QR code (for print/download)\r\n            <div style={{ padding: 8, border: '1px solid #000', display: 'inline-block' }}>\r\n              <div style={{ fontSize: 10, fontWeight: 'bold', marginBottom: 4, textAlign: 'center' }}>Scan & Pay</div>\r\n              <img \r\n                src={settings.qrCodeDataUrl} \r\n                alt=\"Payment QR Code\"\r\n                style={{ display: 'block', width: Math.min(settings?.qr_size || 150, 180), height: Math.min(settings?.qr_size || 150, 180) }}\r\n              />\r\n              {settings?.show_upi_id_text && settings?.upi_id && (\r\n                <div style={{ fontSize: 8, marginTop: 4, textAlign: 'center' }}>UPI: {settings.upi_id}</div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // Use dynamic component for live view\r\n            <PaymentQRCode\r\n              billData={billData}\r\n              settings={settings}\r\n              size={Math.min(settings?.qr_size || 150, 180)} // Limit size for thermal bills\r\n              position=\"footer\"\r\n              showUpiId={settings?.show_upi_id_text}\r\n              style={{ position: 'relative', border: '1px solid #000', padding: 8 }}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Footer */}\r\n      <div style={{ textAlign: 'center', fontSize: '11px' }}>\r\n        *** THANK YOU ***\r\n        <br />\r\n        Visit Again!\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst tableHeaderStyle = {\r\n  borderBottom: '1px solid #000',\r\n  padding: '2px',\r\n  textAlign: 'left' as const,\r\n  fontSize: '11px',\r\n};\r\n\r\nconst tableCellStyle = {\r\n  padding: '2px',\r\n  fontSize: '11px',\r\n};\r\n\r\nexport default ClassicBillTemplate;\r\n\r\n","import ClassicBillTemplate from './ClassicBillTemplate';\r\nimport ModernBillTemplate from './ModernBillTemplate';\r\n\r\n/**\r\n * Bill Templates Registry\r\n * For Quick Sales / Retail / POS\r\n */\r\nexport const billTemplates = {\r\n  classic: {\r\n    label: 'Classic Bill',\r\n    component: ClassicBillTemplate,\r\n    description: 'Compact thermal receipt style for quick retail sales',\r\n  },\r\n  modern: {\r\n    label: 'Modern Bill',\r\n    component: ModernBillTemplate,\r\n    description: 'Contemporary colorful design with enhanced visuals',\r\n  },\r\n};\r\n\r\nexport type BillTemplateKey = keyof typeof billTemplates;\r\n\r\n// Helper function to get selected bill template component\r\nexport const getBillTemplate = (key: BillTemplateKey) => {\r\n  return billTemplates[key]?.component || billTemplates.classic.component;\r\n};\r\n\r\n","import React from 'react';\r\nimport { useUser } from '../../../../components/antd/UserContext';\r\nimport PaymentQRCode from '../components/PaymentQRCode';\r\n\r\ninterface ModernBillTemplateProps {\r\n  billData: any;\r\n  settings?: any; // Settings passed as prop (for consistency, may be used for future enhancements)\r\n}\r\n\r\n/**\r\n * Modern Bill Template - For Quick Retail Sales / POS\r\n * Contemporary design with enhanced visuals\r\n * Updated: Safe null/undefined handling\r\n */\r\nconst ModernBillTemplate: React.FC<ModernBillTemplateProps> = ({\r\n  billData,\r\n  settings,\r\n}) => {\r\n  const userItem = useUser();\r\n\r\n  // Ensure billData has valid items array\r\n  if (!billData) {\r\n    return <div>No data to display</div>;\r\n  }\r\n\r\n  // Calculate totals based on GST mode\r\n  const subtotal = Number(billData?.total || 0);\r\n  const totalGst = Number(billData?.total_gst || 0);\r\n  const isGstInclusive = billData?.is_gst_included ?? true;\r\n  const grandTotal = isGstInclusive ? subtotal : subtotal + totalGst;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 24,\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        border: '1px solid #ccc',\r\n        borderRadius: 12,\r\n        maxWidth: 400,\r\n        margin: '20px auto',\r\n        color: '#fff',\r\n        fontFamily: 'Arial, sans-serif',\r\n        boxShadow: '0 4px 16px rgba(0,0,0,0.15)',\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div style={{ textAlign: 'center', marginBottom: 16 }}>\r\n        <h2 style={{ margin: 0, fontSize: 20, fontWeight: 'bold' }}>\r\n          {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || ''}\r\n        </h2>\r\n        <p style={{ margin: '4px 0', fontSize: 12, opacity: 0.9 }}>\r\n          {billData?.branchItems?.address1 || billData?.organisationItems?.address1 || userItem?.branchItems?.address1 || userItem?.organisationItems?.address1 || ''}\r\n        </p>\r\n        <p style={{ margin: '4px 0', fontSize: 11, opacity: 0.9 }}>\r\n          Mobile: {billData?.organisationItems?.phone || userItem?.organisationItems?.phone || ''} | Email: {billData?.organisationItems?.email || userItem?.organisationItems?.email || ''}\r\n        </p>\r\n        <p style={{ margin: '4px 0', fontSize: 11, opacity: 0.8 }}>\r\n          GSTIN: {billData?.organisationItems?.gst_number || userItem?.organisationItems?.gst_number || ''} | PAN: {billData?.organisationItems?.pan_number || userItem?.organisationItems?.pan_number || ''}\r\n        </p>\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px solid rgba(255,255,255,0.3)', margin: '12px 0' }}></div>\r\n\r\n      {/* Bill Info */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 12, fontSize: 12 }}>\r\n        <div>\r\n          <div><strong>Bill #:</strong> {billData?.invoice_no || '-'}</div>\r\n          <div><strong>Date:</strong> {billData?.date ? new Date(billData.date).toLocaleDateString() : '-'}</div>\r\n        </div>\r\n        <div style={{ textAlign: 'right' }}>\r\n          <div><strong>Customer:</strong></div>\r\n          <div>{(billData?.customerName || 'Walk-in Customer').toString().substring(0, 20)}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px solid rgba(255,255,255,0.3)', margin: '12px 0' }}></div>\r\n\r\n      {/* Items */}\r\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: 12 }}>\r\n        <thead>\r\n          <tr style={{ borderBottom: '1px solid rgba(255,255,255,0.3)' }}>\r\n            <th style={{ padding: '6px 0', textAlign: 'left', fontSize: 11 }}>Item</th>\r\n            <th style={{ padding: '6px 0', textAlign: 'center', fontSize: 11 }}>Qty</th>\r\n            <th style={{ padding: '6px 0', textAlign: 'right', fontSize: 11 }}>Price</th>\r\n            <th style={{ padding: '6px 0', textAlign: 'right', fontSize: 11 }}>Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(billData?.items) && billData.items.length > 0 ? (\r\n            billData.items.map((item: any, idx: number) => {\r\n              const itemName = String(item?.name || item?.product_name || 'Item');\r\n              const displayName = itemName.length > 12 ? itemName.substring(0, 12) + '...' : itemName;\r\n              \r\n              return (\r\n                <tr key={idx} style={{ borderBottom: '1px solid rgba(255,255,255,0.1)' }}>\r\n                  <td style={{ padding: '6px 0', fontSize: 11 }}>\r\n                    {displayName}\r\n                  </td>\r\n                  <td style={{ padding: '6px 0', textAlign: 'center', fontSize: 11 }}>{item?.qty || 0}</td>\r\n                  <td style={{ padding: '6px 0', textAlign: 'right', fontSize: 11 }}>{item?.price || 0}</td>\r\n                  <td style={{ padding: '6px 0', textAlign: 'right', fontSize: 11 }}>{item?.amount || 0}</td>\r\n                </tr>\r\n              );\r\n            })\r\n          ) : (\r\n            <tr>\r\n              <td colSpan={4} style={{ padding: '12px 0', textAlign: 'center', fontSize: 11 }}>\r\n                No items\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      <div style={{ borderTop: '1px solid rgba(255,255,255,0.3)', margin: '12px 0' }}></div>\r\n\r\n      {/* Totals */}\r\n      <div style={{ textAlign: 'right', fontSize: 12, marginBottom: 8 }}>\r\n        <div>Subtotal: {subtotal.toFixed(2)}</div>\r\n        <div>{isGstInclusive ? 'GST (Incl):' : 'GST:'} {isGstInclusive ? '' : ''}{totalGst.toFixed(2)}</div>\r\n        <div style={{ fontSize: 16, fontWeight: 'bold', marginTop: 4 }}>\r\n          Total: {grandTotal.toFixed(2)}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px solid rgba(255,255,255,0.3)', margin: '12px 0' }}></div>\r\n\r\n      {/* Settlement Details */}\r\n      <div style={{ fontSize: 11, textAlign: 'center', marginBottom: 8 }}>\r\n        {(() => {\r\n          const isPaid = billData?.is_paid || false;\r\n          const isPartiallyPaid = billData?.is_partially_paid || false;\r\n          const paidAmount = Number(billData?.paid_amount || 0);\r\n          const pendingAmount = grandTotal - paidAmount;\r\n          \r\n          if (!isPaid && !isPartiallyPaid) {\r\n            // Unpaid bill - show full balance\r\n            return <div><strong>Balance:</strong> {grandTotal.toFixed(2)}</div>;\r\n          } else if (isPartiallyPaid && !isPaid) {\r\n            // Partially paid - show paid and pending amounts\r\n            return (\r\n              <div>\r\n                <div><strong>Paid:</strong> {paidAmount.toFixed(2)}</div>\r\n                <div><strong>Pending:</strong> {pendingAmount.toFixed(2)}</div>\r\n              </div>\r\n            );\r\n          } else {\r\n            // Fully paid - show settlement details\r\n            return (\r\n              <div>\r\n                <div><strong>Paid by {billData?.payment_mode || 'Cash'}:</strong> {paidAmount.toFixed(2)}</div>\r\n                <div><strong>Balance:</strong> 0.00</div>\r\n              </div>\r\n            );\r\n          }\r\n        })()}\r\n      </div>\r\n\r\n      <div style={{ borderTop: '1px solid rgba(255,255,255,0.3)', margin: '12px 0' }}></div>\r\n\r\n      {/* Payment QR Code */}\r\n      {settings?.enable_payment_qr && settings?.qr_on_bill && (\r\n        <div style={{ textAlign: 'center', margin: '12px 0' }}>\r\n          {settings?.qrCodeDataUrl ? (\r\n            // Render pre-generated QR code (for print/download)\r\n            <div style={{ padding: 8, border: '2px solid rgba(255,255,255,0.6)', background: 'rgba(0,0,0,0.3)', display: 'inline-block' }}>\r\n              <div style={{ fontSize: 10, fontWeight: 'bold', marginBottom: 4, textAlign: 'center', color: '#fff' }}>Scan & Pay</div>\r\n              <img \r\n                src={settings.qrCodeDataUrl} \r\n                alt=\"Payment QR Code\"\r\n                style={{ display: 'block', width: Math.min(settings?.qr_size || 150, 180), height: Math.min(settings?.qr_size || 150, 180) }}\r\n              />\r\n              {settings?.show_upi_id_text && settings?.upi_id && (\r\n                <div style={{ fontSize: 8, marginTop: 4, textAlign: 'center', color: '#fff' }}>UPI: {settings.upi_id}</div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // Use dynamic component for live view\r\n            <PaymentQRCode\r\n              billData={billData}\r\n              settings={settings}\r\n              size={Math.min(settings?.qr_size || 150, 180)} // Limit size for thermal bills\r\n              position=\"footer\"\r\n              showUpiId={settings?.show_upi_id_text}\r\n              style={{ position: 'relative', border: '2px solid rgba(255,255,255,0.6)', padding: 8, background: 'rgba(0,0,0,0.3)', color: '#fff' }}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Footer */}\r\n      <div style={{ textAlign: 'center', fontSize: 11, opacity: 0.9 }}>\r\n         Thank You! Visit Again \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModernBillTemplate;\r\n\r\n","import React from 'react';\r\nimport { useUser } from '../../../../components/antd/UserContext';\r\nimport PaymentQRCode from '../components/PaymentQRCode';\r\n\r\ninterface ClassicInvoiceTemplateProps {\r\n  billData: any;\r\n  settings?: any; // Settings passed as prop to avoid Redux context issues during server-side rendering\r\n}\r\n\r\n/**\r\n * Classic Invoice Template - For Formal Invoices\r\n * Traditional professional invoice format with full details\r\n */\r\nconst ClassicInvoiceTemplate: React.FC<ClassicInvoiceTemplateProps> = ({\r\n  billData,\r\n  settings,\r\n}) => {\r\n  const userItem = useUser();\r\n\r\n  // Ensure billData exists\r\n  if (!billData) {\r\n    return <div>No data to display</div>;\r\n  }\r\n\r\n  // Check if GST is inclusive or exclusive\r\n  const isGstInclusive = billData?.is_gst_included ?? true;\r\n  \r\n  // Use backend calculated values (correct calculations)\r\n  const valueOfGoods = Number(billData?.value_of_goods || 0);\r\n  const cgst = Number(billData?.cgst || (billData?.total_gst || 0) / 2);\r\n  const sgst = Number(billData?.sgst || (billData?.total_gst || 0) / 2);\r\n  const totalGst = cgst + sgst;\r\n  const grandTotal = Number(billData?.total_amount || billData?.total || 0);\r\n  const displaySubtotal = grandTotal;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 40,\r\n        background: '#fff',\r\n        border: '2px solid #333',\r\n        maxWidth: 850,\r\n        margin: '20px auto',\r\n        color: '#000',\r\n        fontFamily: 'Times New Roman, serif',\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div style={{ textAlign: 'center', borderBottom: '3px double #333', paddingBottom: 16, marginBottom: 20 }}>\r\n        <h1 style={{ margin: 0, fontSize: 32, fontWeight: 'bold', letterSpacing: 2 }}>\r\n          INVOICE\r\n        </h1>\r\n        <h2 style={{ margin: '8px 0', fontSize: 24 }}>\r\n          {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || ''}\r\n        </h2>\r\n        <p style={{ margin: '4px 0', fontSize: 14 }}>\r\n          {billData?.branchItems?.address1 || billData?.organisationItems?.address1 || userItem?.branchItems?.address1 || userItem?.organisationItems?.address1 || ''}\r\n        </p>\r\n        <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n          {(billData?.branchItems?.city || userItem?.branchItems?.city) && (billData?.branchItems?.state || userItem?.branchItems?.state)\r\n            ? `${billData?.branchItems?.city || userItem?.branchItems?.city}, ${billData?.branchItems?.state || userItem?.branchItems?.state}${(billData?.branchItems?.pincode || userItem?.branchItems?.pincode) ? ' - ' + (billData?.branchItems?.pincode || userItem?.branchItems?.pincode) : ''}`\r\n            : ''}\r\n        </p>\r\n        <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n          <strong>Mobile:</strong> {billData?.organisationItems?.phone || userItem?.organisationItems?.phone || ''} | \r\n          <strong> Email:</strong> {billData?.organisationItems?.email || userItem?.organisationItems?.email || ''}\r\n        </p>\r\n        <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n          <strong>GSTIN:</strong> {billData?.organisationItems?.gst_number || userItem?.organisationItems?.gst_number || ''} | \r\n          <strong> PAN:</strong> {billData?.organisationItems?.pan_number || userItem?.organisationItems?.pan_number || ''}\r\n        </p>\r\n        <p style={{ margin: '8px 0 0 0', fontSize: 12, padding: '6px 12px', background: isGstInclusive ? '#fff3cd' : '#d1ecf1', border: `1px solid ${isGstInclusive ? '#ffc107' : '#17a2b8'}`, borderRadius: 4, display: 'inline-block' }}>\r\n          <strong>{isGstInclusive ? ' Tax Inclusive' : ' Tax Exclusive'}</strong> - Prices {isGstInclusive ? 'include' : 'exclude'} GST\r\n        </p>\r\n      </div>\r\n\r\n      {/* Invoice Details & Customer Info */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 24 }}>\r\n        <div style={{ width: '48%' }}>\r\n          <h3 style={{ margin: '0 0 8px 0', fontSize: 14, fontWeight: 'bold', textDecoration: 'underline' }}>\r\n            Bill To:\r\n          </h3>\r\n          <p style={{ margin: '4px 0', fontSize: 14 }}>\r\n            <strong>{billData?.customerName || ''}</strong>\r\n          </p>\r\n          {billData?.customerAddress && (\r\n            <p style={{ margin: '4px 0', fontSize: 13, color: '#555' }}>\r\n              {billData.customerAddress}\r\n            </p>\r\n          )}\r\n          {(billData?.customerCity || billData?.customerState || billData?.customerPincode) && (\r\n            <p style={{ margin: '4px 0', fontSize: 13, color: '#555' }}>\r\n              {[billData?.customerCity, billData?.customerState, billData?.customerPincode].filter(Boolean).join(', ')}\r\n            </p>\r\n          )}\r\n          {billData?.customer_gstin && (\r\n            <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n              GSTIN: {billData.customer_gstin}\r\n            </p>\r\n          )}\r\n          {billData?.customer_pan && (\r\n            <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n              PAN: {billData.customer_pan}\r\n            </p>\r\n          )}\r\n          {billData?.customerPhone && (\r\n            <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n              Phone: {billData.customerPhone}\r\n            </p>\r\n          )}\r\n          {billData?.customerEmail && (\r\n            <p style={{ margin: '4px 0', fontSize: 13 }}>\r\n              Email: {billData.customerEmail}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div style={{ width: '48%', textAlign: 'right' }}>\r\n          <table style={{ width: '100%', fontSize: 13, borderCollapse: 'collapse' }}>\r\n            <tbody>\r\n              <tr>\r\n                <td style={{ padding: '4px 8px', textAlign: 'right', fontWeight: 'bold' }}>Invoice No:</td>\r\n                <td style={{ padding: '4px 8px', border: '1px solid #ddd', textAlign: 'left' }}>\r\n                  {billData?.invoice_no || '-'}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ padding: '4px 8px', textAlign: 'right', fontWeight: 'bold' }}>Invoice Date:</td>\r\n                <td style={{ padding: '4px 8px', border: '1px solid #ddd', textAlign: 'left' }}>\r\n                  {billData?.date ? new Date(billData.date).toLocaleDateString() : '-'}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ padding: '4px 8px', textAlign: 'right', fontWeight: 'bold' }}>Payment Mode:</td>\r\n                <td style={{ padding: '4px 8px', border: '1px solid #ddd', textAlign: 'left' }}>\r\n                  {billData?.payment_mode || 'Cash'}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Items Table */}\r\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: 24 }}>\r\n        <thead>\r\n          <tr style={{ background: '#f5f5f5', borderTop: '2px solid #333', borderBottom: '2px solid #333' }}>\r\n            <th style={thStyle}>Sr.</th>\r\n            <th style={{ ...thStyle, textAlign: 'left' }}>Item Description</th>\r\n            <th style={thStyle}>HSN/SAC</th>\r\n            <th style={thStyle}>Qty</th>\r\n            <th style={thStyle}>Price</th>\r\n            <th style={thStyle}>Discount</th>\r\n            <th style={thStyle}>CGST %</th>\r\n            <th style={thStyle}>CGST Amt</th>\r\n            <th style={thStyle}>SGST %</th>\r\n            <th style={thStyle}>SGST Amt</th>\r\n            <th style={thStyle}>Amount</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(billData?.items) && billData.items.length > 0 ? (\r\n            billData.items.map((item: any, idx: number) => {\r\n              const qty = Number(item?.qty || item?.quantity || 0);\r\n              const price = Number(item?.price || 0);\r\n              const discount = Number(item?.discount || 0);\r\n              const taxPercentage = Number(item?.tax_percentage || 0);\r\n              \r\n              // Calculate CGST and SGST (split tax equally)\r\n              const cgstPercent = taxPercentage / 2;\r\n              const sgstPercent = taxPercentage / 2;\r\n              \r\n              const itemSubtotal = qty * price;\r\n              \r\n              // If GST is inclusive, extract GST from the amount\r\n              // If GST is exclusive, calculate GST on top\r\n              let cgstAmount = 0;\r\n              let sgstAmount = 0;\r\n              \r\n              if (isGstInclusive) {\r\n                // GST is included in price - extract it\r\n                const gstFactor = (100 + taxPercentage) / 100;\r\n                const priceWithoutGst = itemSubtotal / gstFactor;\r\n                const totalGstAmount = itemSubtotal - priceWithoutGst;\r\n                cgstAmount = totalGstAmount / 2;\r\n                sgstAmount = totalGstAmount / 2;\r\n              } else {\r\n                // GST is excluded - calculate on top\r\n                cgstAmount = (itemSubtotal * cgstPercent) / 100;\r\n                sgstAmount = (itemSubtotal * sgstPercent) / 100;\r\n              }\r\n              \r\n              // Amount includes GST (base + CGST + SGST)\r\n              const finalAmount = itemSubtotal + cgstAmount + sgstAmount;\r\n              \r\n              return (\r\n                <tr key={idx} style={{ borderBottom: '1px solid #ddd' }}>\r\n                  <td style={tdStyle}>{idx + 1}</td>\r\n                  <td style={{ ...tdStyle, textAlign: 'left' }}>{String(item?.name || item?.product_name || 'Item')}</td>\r\n                  <td style={tdStyle}>{item?.hsn_code || item?.hsn_sac || '-'}</td>\r\n                  <td style={tdStyle}>{qty}</td>\r\n                  <td style={tdStyle}>{price.toFixed(2)}</td>\r\n                  <td style={tdStyle}>{discount.toFixed(2)}</td>\r\n                  <td style={tdStyle}>{cgstPercent.toFixed(2)}%</td>\r\n                  <td style={tdStyle}>{cgstAmount.toFixed(2)}</td>\r\n                  <td style={tdStyle}>{sgstPercent.toFixed(2)}%</td>\r\n                  <td style={tdStyle}>{sgstAmount.toFixed(2)}</td>\r\n                  <td style={tdStyle}>{finalAmount.toFixed(2)}</td>\r\n                </tr>\r\n              );\r\n            })\r\n          ) : (\r\n            <tr>\r\n              <td colSpan={11} style={{ ...tdStyle, textAlign: 'center' }}>No items</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Totals */}\r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', marginBottom: 24 }}>\r\n        <div style={{ width: '300px' }}>\r\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n            <tbody>\r\n              <tr>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', fontWeight: 'bold', fontSize: 13 }}>\r\n                  Value of Goods:\r\n                </td>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', border: '1px solid #ddd', fontSize: 13 }}>\r\n                  {valueOfGoods.toFixed(2)}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', fontWeight: 'bold', fontSize: 13 }}>\r\n                  {isGstInclusive ? 'CGST (Incl):' : 'CGST:'}\r\n                </td>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', border: '1px solid #ddd', fontSize: 13 }}>\r\n                  {cgst.toFixed(2)}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', fontWeight: 'bold', fontSize: 13 }}>\r\n                  {isGstInclusive ? 'SGST (Incl):' : 'SGST:'}\r\n                </td>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', border: '1px solid #ddd', fontSize: 13 }}>\r\n                  {sgst.toFixed(2)}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', fontWeight: 'bold', fontSize: 13 }}>\r\n                  Subtotal:\r\n                </td>\r\n                <td style={{ padding: '6px 12px', textAlign: 'right', border: '1px solid #ddd', fontSize: 13 }}>\r\n                  {displaySubtotal.toFixed(2)}\r\n                </td>\r\n              </tr>\r\n              <tr style={{ background: '#f5f5f5' }}>\r\n                <td style={{ padding: '8px 12px', textAlign: 'right', fontWeight: 'bold', fontSize: 15 }}>\r\n                  Grand Total:\r\n                </td>\r\n                <td style={{ padding: '8px 12px', textAlign: 'right', border: '2px solid #333', fontSize: 15, fontWeight: 'bold' }}>\r\n                  {grandTotal.toFixed(2)}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Settlement Details */}\r\n      <div style={{ marginTop: 16, fontSize: 13, textAlign: 'right', paddingRight: 12 }}>\r\n        <strong>Settlement Details:</strong>{' '}\r\n        {(() => {\r\n          const isPaid = billData?.is_paid || false;\r\n          const isPartiallyPaid = billData?.is_partially_paid || false;\r\n          const paidAmount = Number(billData?.paid_amount || 0);\r\n          const pendingAmount = grandTotal - paidAmount;\r\n          \r\n          if (!isPaid && !isPartiallyPaid) {\r\n            // Unpaid invoice - show full balance\r\n            return `Invoice Balance: ${grandTotal.toFixed(2)}`;\r\n          } else if (isPartiallyPaid && !isPaid) {\r\n            // Partially paid - show paid and pending amounts\r\n            return `Paid: ${paidAmount.toFixed(2)} | Pending: ${pendingAmount.toFixed(2)}`;\r\n          } else {\r\n            // Fully paid - show settlement details\r\n            return `Settled by ${billData?.payment_mode || 'Cash'}: ${paidAmount.toFixed(2)} | Balance: 0.00`;\r\n          }\r\n        })()}\r\n      </div>\r\n\r\n      {/* Terms & Footer */}\r\n      <div style={{ borderTop: '2px solid #333', paddingTop: 16, marginTop: 32 }}>\r\n        {/* Terms from Settings */}\r\n        {settings?.show_terms_on_invoice && settings?.invoice_terms && (\r\n          <div style={{ marginBottom: 16 }}>\r\n            <h4 style={{ margin: '0 0 8px 0', fontSize: 13 }}>Terms & Conditions:</h4>\r\n            <div style={{ fontSize: 12, color: '#555', lineHeight: 1.6, whiteSpace: 'pre-wrap' }}>\r\n              {settings.invoice_terms}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Footer from Settings */}\r\n        {settings?.invoice_footer && (\r\n          <div style={{ marginBottom: 16, padding: 12, background: '#f9f9f9', border: '1px solid #ddd', fontSize: 12, textAlign: 'center' }}>\r\n            {settings.invoice_footer}\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: 32, alignItems: 'flex-end' }}>\r\n          <div>\r\n            <p style={{ margin: 0, fontSize: 12, color: '#666' }}>\r\n              This is a computer-generated invoice\r\n            </p>\r\n            {/* Payment QR Code */}\r\n            {settings?.enable_payment_qr && settings?.qr_on_invoice && (\r\n              <div style={{ marginTop: 16 }}>\r\n                {settings?.qrCodeDataUrl ? (\r\n                  // Render pre-generated QR code (for print/download)\r\n                  <div style={{ padding: 8, border: '2px solid #333', display: 'inline-block' }}>\r\n                    <div style={{ fontSize: 11, fontWeight: 'bold', marginBottom: 6, textAlign: 'center' }}>Scan & Pay</div>\r\n                    <img \r\n                      src={settings.qrCodeDataUrl} \r\n                      alt=\"Payment QR Code\"\r\n                      style={{ display: 'block', width: settings?.qr_size || 150, height: settings?.qr_size || 150 }}\r\n                    />\r\n                    {settings?.show_upi_id_text && settings?.upi_id && (\r\n                      <div style={{ fontSize: 9, marginTop: 6, textAlign: 'center' }}>UPI: {settings.upi_id}</div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  // Use dynamic component for live view\r\n                  <PaymentQRCode\r\n                    billData={billData}\r\n                    settings={settings}\r\n                    size={settings?.qr_size || 150}\r\n                    position=\"footer\"\r\n                    showUpiId={settings?.show_upi_id_text}\r\n                    style={{ position: 'relative', border: '2px solid #333', padding: 8 }}\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div style={{ textAlign: 'right' }}>\r\n            <p style={{ margin: '32px 0 0 0', borderTop: '1px solid #333', paddingTop: 8, fontSize: 13 }}>\r\n              Authorized Signatory\r\n              <br />\r\n              <span style={{ fontSize: 11, fontWeight: 'normal', color: '#666' }}>\r\n                For {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || 'Company Name'}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Company Branding Footer */}\r\n        <div style={{ marginTop: 20, textAlign: 'center', paddingTop: 16, borderTop: '1px solid #ddd' }}>\r\n          <p style={{ margin: 0, fontSize: 11, color: '#888' }}>\r\n            Powered by <strong style={{ color: '#333' }}>Subriva Billing</strong>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst thStyle = {\r\n  padding: 8,\r\n  textAlign: 'center' as const,\r\n  fontSize: 12,\r\n  fontWeight: 'bold' as const,\r\n};\r\n\r\nconst tdStyle = {\r\n  padding: 8,\r\n  textAlign: 'center' as const,\r\n  fontSize: 12,\r\n  border: '1px solid #eee',\r\n};\r\n\r\nexport default ClassicInvoiceTemplate;\r\n\r\n","import React from 'react';\r\nimport { useUser } from '../../../../components/antd/UserContext';\r\nimport PaymentQRCode from '../components/PaymentQRCode';\r\n\r\ninterface ModernInvoiceTemplateProps {\r\n  billData: any;\r\n  settings?: any; // Settings passed as prop to avoid Redux context issues during server-side rendering\r\n}\r\n\r\n/**\r\n * Modern Invoice Template - For Formal Invoices\r\n * Contemporary professional design with enhanced branding\r\n */\r\nconst ModernInvoiceTemplate: React.FC<ModernInvoiceTemplateProps> = ({\r\n  billData,\r\n  settings,\r\n}) => {\r\n  const userItem = useUser();\r\n\r\n  // Ensure billData exists\r\n  if (!billData) {\r\n    return <div>No data to display</div>;\r\n  }\r\n\r\n  // Check if GST is inclusive or exclusive\r\n  const isGstInclusive = billData?.is_gst_included ?? true;\r\n\r\n  // Use backend calculated values (correct calculations)\r\n  const valueOfGoods = Number(billData?.value_of_goods || 0);\r\n  const cgst = Number(billData?.cgst || (billData?.total_gst || 0) / 2);\r\n  const sgst = Number(billData?.sgst || (billData?.total_gst || 0) / 2);\r\n  const totalGst = cgst + sgst;\r\n  const grandTotal = Number(billData?.total_amount || billData?.total || 0);\r\n  const displaySubtotal = grandTotal;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 0,\r\n        background: '#fff',\r\n        maxWidth: 850,\r\n        margin: '20px auto',\r\n        fontFamily: \"'Inter', 'Segoe UI', sans-serif\",\r\n        boxShadow: '0 0 20px rgba(0,0,0,0.1)',\r\n        overflow: 'hidden',\r\n      }}\r\n    >\r\n      {/* Header with Gradient */}\r\n      <div\r\n        style={{\r\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n          color: '#fff',\r\n          padding: '10px 8px',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'flex-start',\r\n          }}\r\n        >\r\n          <div>\r\n            <h1\r\n              style={{\r\n                margin: 0,\r\n                fontSize: 28,\r\n                fontWeight: 'bold',\r\n                letterSpacing: 1,\r\n              }}\r\n            >\r\n              {billData?.organisationItems?.org_name ||\r\n                userItem?.organisationItems?.org_name ||\r\n                ''}\r\n            </h1>\r\n            <p style={{ margin: '8px 0 4px 0', fontSize: 14, opacity: 0.9 }}>\r\n              {billData?.branchItems?.branch_name ||\r\n                userItem?.branchItems?.branch_name ||\r\n                ''}\r\n            </p>\r\n            <p style={{ margin: '4px 0', fontSize: 13, opacity: 0.85 }}>\r\n              {billData?.branchItems?.address1 ||\r\n                billData?.organisationItems?.address1 ||\r\n                userItem?.branchItems?.address1 ||\r\n                userItem?.organisationItems?.address1 ||\r\n                ''}\r\n            </p>\r\n            <p style={{ margin: '4px 0', fontSize: 13, opacity: 0.85 }}>\r\n              {(billData?.branchItems?.city || userItem?.branchItems?.city) &&\r\n              (billData?.branchItems?.state || userItem?.branchItems?.state)\r\n                ? `${billData?.branchItems?.city || userItem?.branchItems?.city}, ${billData?.branchItems?.state || userItem?.branchItems?.state}`\r\n                : ''}\r\n            </p>\r\n            <p style={{ margin: '4px 0', fontSize: 13, opacity: 0.85 }}>\r\n              <strong>Mobile:</strong>{' '}\r\n              {billData?.organisationItems?.phone ||\r\n                userItem?.organisationItems?.phone ||\r\n                ''}{' '}\r\n              |<strong> Email:</strong>{' '}\r\n              {billData?.organisationItems?.email ||\r\n                userItem?.organisationItems?.email ||\r\n                ''}\r\n            </p>\r\n            <p\r\n              style={{\r\n                margin: '12px 0 0 0',\r\n                fontSize: 11,\r\n                padding: '6px 12px',\r\n                background: isGstInclusive ? '#fff3cd' : '#d1ecf1',\r\n                color: isGstInclusive ? '#856404' : '#0c5460',\r\n                border: `1px solid ${isGstInclusive ? '#ffc107' : '#17a2b8'}`,\r\n                borderRadius: 4,\r\n                display: 'inline-block',\r\n                fontWeight: 'bold',\r\n              }}\r\n            >\r\n              {isGstInclusive ? ' Tax Inclusive' : ' Tax Exclusive'}\r\n            </p>\r\n          </div>\r\n          <div style={{ textAlign: 'right' }}>\r\n            <h2 style={{ margin: 0, fontSize: 36, fontWeight: 'bold' }}>\r\n              INVOICE\r\n            </h2>\r\n            <p style={{ margin: '8px 0 0 0', fontSize: 13, opacity: 0.9 }}>\r\n              GSTIN:{' '}\r\n              {billData?.organisationItems?.gst_number ||\r\n                userItem?.organisationItems?.gst_number ||\r\n                ''}\r\n            </p>\r\n            <p style={{ margin: '4px 0 0 0', fontSize: 13, opacity: 0.9 }}>\r\n              PAN:{' '}\r\n              {billData?.organisationItems?.pan_number ||\r\n                userItem?.organisationItems?.pan_number ||\r\n                ''}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content Area */}\r\n      <div style={{ padding: '10px 8px' }}>\r\n        {/* Invoice Info & Customer */}\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            marginBottom: 32,\r\n          }}\r\n        >\r\n          {/* Bill To */}\r\n          <div style={{ width: '48%' }}>\r\n            <div\r\n              style={{\r\n                background: '#f8f9fa',\r\n                padding: 8,\r\n                borderRadius: 8,\r\n                border: '1px solid #e9ecef',\r\n              }}\r\n            >\r\n              <h3\r\n                style={{\r\n                  margin: '0 0 12px 0',\r\n                  fontSize: 12,\r\n                  fontWeight: 'bold',\r\n                  color: '#667eea',\r\n                  textTransform: 'uppercase',\r\n                  letterSpacing: 1,\r\n                }}\r\n              >\r\n                Bill To\r\n              </h3>\r\n              <p\r\n                style={{\r\n                  margin: '4px 0',\r\n                  fontSize: 16,\r\n                  fontWeight: 'bold',\r\n                  color: '#333',\r\n                }}\r\n              >\r\n                {billData?.customerName || ''}\r\n              </p>\r\n              {billData?.customerAddress && (\r\n                <p\r\n                  style={{ margin: '4px 0 4px 0', fontSize: 14, color: '#666' }}\r\n                >\r\n                  {billData.customerAddress}\r\n                </p>\r\n              )}\r\n              {(billData?.customerCity ||\r\n                billData?.customerState ||\r\n                billData?.customerPincode) && (\r\n                <p style={{ margin: '4px 0', fontSize: 13, color: '#666' }}>\r\n                  {[\r\n                    billData?.customerCity,\r\n                    billData?.customerState,\r\n                    billData?.customerPincode,\r\n                  ]\r\n                    .filter(Boolean)\r\n                    .join(', ')}\r\n                </p>\r\n              )}\r\n              {billData?.customer_gstin && (\r\n                <p style={{ margin: '4px 0', fontSize: 13, color: '#666' }}>\r\n                  GSTIN: {billData.customer_gstin}\r\n                </p>\r\n              )}\r\n              {billData?.customer_pan && (\r\n                <p style={{ margin: '4px 0', fontSize: 13, color: '#666' }}>\r\n                  PAN: {billData.customer_pan}\r\n                </p>\r\n              )}\r\n              {billData?.customerPhone && (\r\n                <p style={{ margin: '4px 0', fontSize: 13, color: '#666' }}>\r\n                  Phone: {billData.customerPhone}\r\n                </p>\r\n              )}\r\n              {billData?.customerEmail && (\r\n                <p style={{ margin: '4px 0', fontSize: 13, color: '#666' }}>\r\n                  Email: {billData.customerEmail}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Invoice Details */}\r\n          <div style={{ width: '48%' }}>\r\n            <div\r\n              style={{\r\n                background: '#f8f9fa',\r\n                padding: 8,\r\n                borderRadius: 8,\r\n                border: '1px solid #e9ecef',\r\n              }}\r\n            >\r\n              <table style={{ width: '100%', fontSize: 12 }}>\r\n                <tbody>\r\n                  <tr>\r\n                    <td\r\n                      style={{\r\n                        padding: '4px 0',\r\n                        color: '#666',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      Invoice Number:\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '4px 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: 'bold',\r\n                        color: '#333',\r\n                      }}\r\n                    >\r\n                      {billData?.invoice_no || '-'}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td\r\n                      style={{\r\n                        padding: '4px 0',\r\n                        color: '#666',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      Invoice Date:\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '4x 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: 'bold',\r\n                        color: '#333',\r\n                      }}\r\n                    >\r\n                      {billData?.date\r\n                        ? new Date(billData.date).toLocaleDateString()\r\n                        : '-'}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td\r\n                      style={{\r\n                        padding: '4px 0',\r\n                        color: '#666',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      Payment Mode:\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '4px 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: 'bold',\r\n                        color: '#333',\r\n                      }}\r\n                    >\r\n                      {billData?.payment_mode || 'Cash'}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td\r\n                      style={{\r\n                        padding: '4px 0',\r\n                        color: '#666',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      Status:\r\n                    </td>\r\n                    <td style={{ padding: '4px 0', textAlign: 'right' }}>\r\n                      <span\r\n                        style={{\r\n                          background: '#d4edda',\r\n                          color: '#155724',\r\n                          padding: '4px 12px',\r\n                          borderRadius: 4,\r\n                          fontSize: 12,\r\n                          fontWeight: 'bold',\r\n                        }}\r\n                      >\r\n                        PAID\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Items Table */}\r\n        <table\r\n          style={{\r\n            width: '100%',\r\n            borderCollapse: 'collapse',\r\n            marginBottom: 15,\r\n            tableLayout: 'fixed',\r\n          }}\r\n        >\r\n          <thead>\r\n            <tr\r\n              style={{\r\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                color: '#fff',\r\n              }}\r\n            >\r\n              <th\r\n                style={{\r\n                  ...modernThStyle,\r\n                  borderTopLeftRadius: 8,\r\n                  width: '3%',\r\n                }}\r\n              >\r\n                Sr.\r\n              </th>\r\n              <th style={{ ...modernThStyle, textAlign: 'left', width: '24%' }}>\r\n                Item Description\r\n              </th>\r\n              <th style={{ ...modernThStyle, width: '7%' }}>HSN/SAC</th>\r\n              <th style={{ ...modernThStyle, width: '5%' }}>Qty</th>\r\n              <th style={{ ...modernThStyle, width: '8%' }}>Price</th>\r\n              <th style={{ ...modernThStyle, width: '7%' }}>Discount</th>\r\n              <th style={{ ...modernThStyle, width: '7%' }}>CGST %</th>\r\n              <th style={{ ...modernThStyle, width: '9%' }}>CGST Amt</th>\r\n              <th style={{ ...modernThStyle, width: '7%' }}>SGST %</th>\r\n              <th style={{ ...modernThStyle, width: '9%' }}>SGST Amt</th>\r\n              <th\r\n                style={{\r\n                  ...modernThStyle,\r\n                  borderTopRightRadius: 8,\r\n                  width: '11%',\r\n                }}\r\n              >\r\n                Amount\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Array.isArray(billData?.items) && billData.items.length > 0 ? (\r\n              billData.items.map((item: any, idx: number) => {\r\n                const qty = Number(item?.qty || item?.quantity || 0);\r\n                const price = Number(item?.price || 0);\r\n                const discount = Number(item?.discount || 0);\r\n                const taxPercentage = Number(item?.tax_percentage || 0);\r\n\r\n                // Calculate CGST and SGST (split tax equally)\r\n                const cgstPercent = taxPercentage / 2;\r\n                const sgstPercent = taxPercentage / 2;\r\n\r\n                const itemSubtotal = qty * price;\r\n\r\n                // If GST is inclusive, extract GST from the amount\r\n                // If GST is exclusive, calculate GST on top\r\n                let cgstAmount = 0;\r\n                let sgstAmount = 0;\r\n\r\n                if (isGstInclusive) {\r\n                  // GST is included in price - extract it\r\n                  const gstFactor = (100 + taxPercentage) / 100;\r\n                  const priceWithoutGst = itemSubtotal / gstFactor;\r\n                  const totalGstAmount = itemSubtotal - priceWithoutGst;\r\n                  cgstAmount = totalGstAmount / 2;\r\n                  sgstAmount = totalGstAmount / 2;\r\n                } else {\r\n                  // GST is excluded - calculate on top\r\n                  cgstAmount = (itemSubtotal * cgstPercent) / 100;\r\n                  sgstAmount = (itemSubtotal * sgstPercent) / 100;\r\n                }\r\n\r\n                // Amount includes GST (base + CGST + SGST)\r\n                const finalAmount = itemSubtotal + cgstAmount + sgstAmount;\r\n\r\n                return (\r\n                  <tr\r\n                    key={idx}\r\n                    style={{\r\n                      background: idx % 2 === 0 ? '#fff' : '#f8f9fa',\r\n                      transition: 'background 0.2s',\r\n                    }}\r\n                  >\r\n                    <td style={modernTdStyle}>{idx + 1}</td>\r\n                    <td\r\n                      style={{\r\n                        ...modernTdStyle,\r\n                        textAlign: 'left',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      {String(item?.name || item?.product_name || 'Item')}\r\n                    </td>\r\n                    <td style={modernTdStyle}>\r\n                      {item?.hsn_code || item?.hsn_sac || '-'}\r\n                    </td>\r\n                    <td style={modernTdStyle}>{qty}</td>\r\n                    <td style={modernTdStyle}>{price.toFixed(2)}</td>\r\n                    <td style={modernTdStyle}>{discount.toFixed(2)}</td>\r\n                    <td style={modernTdStyle}>{cgstPercent.toFixed(2)}%</td>\r\n                    <td style={modernTdStyle}>{cgstAmount.toFixed(2)}</td>\r\n                    <td style={modernTdStyle}>{sgstPercent.toFixed(2)}%</td>\r\n                    <td style={modernTdStyle}>{sgstAmount.toFixed(2)}</td>\r\n                    <td style={{ ...modernTdStyle, fontWeight: 'bold' }}>\r\n                      {finalAmount.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td\r\n                  colSpan={11}\r\n                  style={{ ...modernTdStyle, textAlign: 'center' }}\r\n                >\r\n                  No items\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n\r\n        {/* Totals */}\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-end',\r\n            marginBottom: 15,\r\n          }}\r\n        >\r\n          <div style={{ width: '350px' }}>\r\n            <div\r\n              style={{\r\n                background: '#f8f9fa',\r\n                padding: '10px 10px',\r\n                borderRadius: 8,\r\n                border: '1px solid #e9ecef',\r\n              }}\r\n            >\r\n              <table style={{ width: '100%', fontSize: 11 }}>\r\n                <tbody>\r\n                  <tr>\r\n                    <td style={{ padding: '8px 0', color: '#666' }}>\r\n                      Value of Goods:\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '8px 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      {valueOfGoods.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style={{ padding: '8px 0', color: '#666' }}>\r\n                      {isGstInclusive ? 'CGST (Incl):' : 'CGST:'}\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '8px 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      {cgst.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style={{ padding: '8px 0', color: '#666' }}>\r\n                      {isGstInclusive ? 'SGST (Incl):' : 'SGST:'}\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '8px 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      {sgst.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style={{ padding: '8px 0', color: '#666' }}>\r\n                      Subtotal:\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '8px 0',\r\n                        textAlign: 'right',\r\n                        fontWeight: '500',\r\n                      }}\r\n                    >\r\n                      {displaySubtotal.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr style={{ borderTop: '2px solid #667eea' }}>\r\n                    <td\r\n                      style={{\r\n                        padding: '12px 0 0 0',\r\n                        fontSize: 15,\r\n                        fontWeight: 'bold',\r\n                        color: '#333',\r\n                      }}\r\n                    >\r\n                      Grand Total:\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        padding: '12px 0 0 0',\r\n                        textAlign: 'right',\r\n                        fontSize: 15,\r\n                        fontWeight: 'bold',\r\n                        color: '#667eea',\r\n                      }}\r\n                    >\r\n                      {grandTotal.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Settlement Details */}\r\n        <div\r\n          style={{\r\n            fontSize: 14,\r\n            textAlign: 'right',\r\n            padding: '12px 24px',\r\n            background: '#f8f9fa',\r\n            borderRadius: 8,\r\n          }}\r\n        >\r\n          <strong style={{ color: '#667eea' }}>Settlement Details:</strong>{' '}\r\n          <span style={{ color: '#333' }}>\r\n            {(() => {\r\n              const isPaid = billData?.is_paid || false;\r\n              const isPartiallyPaid = billData?.is_partially_paid || false;\r\n              const paidAmount = Number(billData?.paid_amount || 0);\r\n              const pendingAmount = grandTotal - paidAmount;\r\n\r\n              if (!isPaid && !isPartiallyPaid) {\r\n                // Unpaid invoice - show full balance\r\n                return `Invoice Balance: ${grandTotal.toFixed(2)}`;\r\n              } else if (isPartiallyPaid && !isPaid) {\r\n                // Partially paid - show paid and pending amounts\r\n                return `Paid: ${paidAmount.toFixed(2)} | Pending: ${pendingAmount.toFixed(2)}`;\r\n              } else {\r\n                // Fully paid - show settlement details\r\n                return `Settled by ${billData?.payment_mode || 'Cash'}: ${paidAmount.toFixed(2)} | Balance: 0.00`;\r\n              }\r\n            })()}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Terms & Signature */}\r\n        <div style={{ borderTop: '2px solid #e9ecef', paddingTop: 24 }}>\r\n          {/* Terms from Settings */}\r\n          {settings?.show_terms_on_invoice && settings?.invoice_terms && (\r\n            <div style={{ marginBottom: 24 }}>\r\n              <h4\r\n                style={{\r\n                  margin: '0 0 12px 0',\r\n                  fontSize: 14,\r\n                  fontWeight: 'bold',\r\n                  color: '#667eea',\r\n                }}\r\n              >\r\n                Terms & Conditions:\r\n              </h4>\r\n              <div\r\n                style={{\r\n                  fontSize: 13,\r\n                  color: '#666',\r\n                  lineHeight: 1.8,\r\n                  whiteSpace: 'pre-wrap',\r\n                }}\r\n              >\r\n                {settings.invoice_terms}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'flex-end',\r\n              marginTop: 32,\r\n            }}\r\n          >\r\n            <div>\r\n              <p style={{ margin: 0, fontSize: 12, color: '#999' }}>\r\n                Generated on {new Date().toLocaleDateString()}\r\n              </p>\r\n              {/* Payment QR Code */}\r\n              {settings?.enable_payment_qr && settings?.qr_on_invoice && (\r\n                <div style={{ marginTop: 16 }}>\r\n                  {settings?.qrCodeDataUrl ? (\r\n                    // Render pre-generated QR code (for print/download)\r\n                    <div\r\n                      style={{\r\n                        padding: 8,\r\n                        border: '2px solid #667eea',\r\n                        display: 'inline-block',\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          fontSize: 11,\r\n                          fontWeight: 'bold',\r\n                          marginBottom: 6,\r\n                          textAlign: 'center',\r\n                        }}\r\n                      >\r\n                        Scan & Pay\r\n                      </div>\r\n                      <img\r\n                        src={settings.qrCodeDataUrl}\r\n                        alt=\"Payment QR Code\"\r\n                        style={{\r\n                          display: 'block',\r\n                          width: settings?.qr_size || 150,\r\n                          height: settings?.qr_size || 150,\r\n                        }}\r\n                      />\r\n                      {settings?.show_upi_id_text && settings?.upi_id && (\r\n                        <div\r\n                          style={{\r\n                            fontSize: 9,\r\n                            marginTop: 6,\r\n                            textAlign: 'center',\r\n                          }}\r\n                        >\r\n                          UPI: {settings.upi_id}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    // Use dynamic component for live view\r\n                    <PaymentQRCode\r\n                      billData={billData}\r\n                      settings={settings}\r\n                      size={settings?.qr_size || 150}\r\n                      position=\"footer\"\r\n                      showUpiId={settings?.show_upi_id_text}\r\n                      style={{\r\n                        position: 'relative',\r\n                        border: '2px solid #667eea',\r\n                        padding: 8,\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div\r\n                style={{\r\n                  borderTop: '2px solid #333',\r\n                  paddingTop: 8,\r\n                  width: 200,\r\n                }}\r\n              >\r\n                <p style={{ margin: 0, fontSize: 13, fontWeight: 'bold' }}>\r\n                  Authorized Signature\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    margin: '4px 0 0 0',\r\n                    fontSize: 11,\r\n                    color: '#666',\r\n                    fontWeight: 'normal',\r\n                  }}\r\n                >\r\n                  For{' '}\r\n                  {billData?.organisationItems?.org_name ||\r\n                    userItem?.organisationItems?.org_name ||\r\n                    'Company Name'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer from Settings */}\r\n      <div\r\n        style={{\r\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n          color: '#fff',\r\n          padding: 16,\r\n          textAlign: 'center',\r\n          fontSize: 12,\r\n        }}\r\n      >\r\n        {settings?.invoice_footer || 'Thank you for your business!'}\r\n      </div>\r\n\r\n      {/* Company Branding Footer */}\r\n      <div\r\n        style={{\r\n          padding: '12px 16px',\r\n          textAlign: 'center',\r\n          background: '#f9f9f9',\r\n        }}\r\n      >\r\n        <p style={{ margin: 0, fontSize: 11, color: '#888' }}>\r\n          Powered by{' '}\r\n          <strong style={{ color: '#667eea' }}>Subriva Billing</strong>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst modernThStyle = {\r\n  padding: '6px 4px',\r\n  textAlign: 'center' as const,\r\n  fontSize: 10,\r\n  fontWeight: 'bold' as const,\r\n  whiteSpace: 'nowrap' as const,\r\n};\r\n\r\nconst modernTdStyle = {\r\n  padding: '6px 4px',\r\n  textAlign: 'center' as const,\r\n  fontSize: 10,\r\n  borderBottom: '1px solid #e9ecef',\r\n  wordWrap: 'break-word' as const,\r\n};\r\n\r\nexport default ModernInvoiceTemplate;\r\n","import React from 'react';\r\nimport { useUser } from '../../../../components/antd/UserContext';\r\nimport PaymentQRCode from '../components/PaymentQRCode';\r\n\r\ninterface ProfessionalInvoiceTemplateProps {\r\n  billData: any;\r\n  settings?: any; // Settings passed as prop to avoid Redux context issues during server-side rendering\r\n}\r\n\r\n/**\r\n * Professional Invoice Template - TAX INVOICE Style\r\n * Comprehensive invoice with all details, terms, and bank information\r\n */\r\nconst ProfessionalInvoiceTemplate: React.FC<ProfessionalInvoiceTemplateProps> = ({\r\n  billData,\r\n  settings,\r\n}) => {\r\n  const userItem = useUser();\r\n\r\n  // Ensure billData exists\r\n  if (!billData) {\r\n    return <div>No data to display</div>;\r\n  }\r\n\r\n  // Check if GST is inclusive or exclusive\r\n  const isGstInclusive = billData?.is_gst_included ?? true;\r\n  \r\n  // Use backend calculated values (correct calculations)\r\n  const valueOfGoods = Number(billData?.value_of_goods || 0);\r\n  const cgst = Number(billData?.cgst || (billData?.total_gst || 0) / 2);\r\n  const sgst = Number(billData?.sgst || (billData?.total_gst || 0) / 2);\r\n  const totalGst = cgst + sgst;\r\n  const grandTotal = Number(billData?.total_amount || billData?.total || 0);\r\n  \r\n  // Discount calculation\r\n  const discount = Number(billData?.discount || 0);\r\n  const discountValue = Number(billData?.discountValue || billData?.discount_value || 0);\r\n  const discountAmount = discountValue > 0 ? discountValue : (billData?.discount_type === 'percentage' ? (valueOfGoods * discount / 100) : discount);\r\n  \r\n  // For display purposes - calculate item totals\r\n  const itemsTotal = billData?.items?.reduce((sum: number, item: any) => {\r\n    const qty = Number(item?.qty || item?.quantity || 0);\r\n    const price = Number(item?.price || 0);\r\n    return sum + (qty * price);\r\n  }, 0) || 0;\r\n\r\n  // Convert amount to words\r\n  const numberToWords = (num: number): string => {\r\n    const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\r\n    const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\r\n    const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\r\n    \r\n    if (num === 0) return 'Zero';\r\n    if (num < 10) return ones[num];\r\n    if (num < 20) return teens[num - 10];\r\n    if (num < 100) return tens[Math.floor(num / 10)] + (num % 10 ? ' ' + ones[num % 10] : '');\r\n    if (num < 1000) return ones[Math.floor(num / 100)] + ' Hundred' + (num % 100 ? ' ' + numberToWords(num % 100) : '');\r\n    if (num < 100000) return numberToWords(Math.floor(num / 1000)) + ' Thousand' + (num % 1000 ? ' ' + numberToWords(num % 1000) : '');\r\n    if (num < 10000000) return numberToWords(Math.floor(num / 100000)) + ' Lakh' + (num % 100000 ? ' ' + numberToWords(num % 100000) : '');\r\n    return numberToWords(Math.floor(num / 10000000)) + ' Crore' + (num % 10000000 ? ' ' + numberToWords(num % 10000000) : '');\r\n  };\r\n\r\n  const amountInWords = `Rs. ${numberToWords(Math.floor(grandTotal))} Only`;\r\n  \r\n  // Subtotal for display (same as total for inclusive, value + gst for exclusive)\r\n  const displaySubtotal = grandTotal;\r\n\r\n  return (\r\n    <div style={{ \r\n      fontFamily: 'Arial, sans-serif', \r\n      padding: 16, \r\n      maxWidth: 900, \r\n      margin: '0 auto', \r\n      background: '#fff',\r\n      fontSize: 11,\r\n      color: '#000'\r\n    }}>\r\n      {/* Top Header */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 6 }}>\r\n        <div style={{ fontSize: 10 }}>Page No. 1 of 1</div>\r\n        <div style={{ fontSize: 10 }}>Original Copy</div>\r\n      </div>\r\n\r\n      {/* Title */}\r\n      <div style={{ textAlign: 'center', fontSize: 18, fontWeight: 'bold', marginBottom: 8, borderBottom: '2px solid #000', paddingBottom: 6 }}>\r\n        TAX INVOICE\r\n      </div>\r\n\r\n      {/* Company Details */}\r\n      <div style={{ textAlign: 'center', marginBottom: 12, borderBottom: '1px solid #000', paddingBottom: 10 }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: 8 }}>\r\n          {((billData?.organisationItems?.logo_url || userItem?.organisationItems?.logo_url) && (\r\n            <div style={{ width: 60, height: 60, border: '1px solid #ccc', marginRight: 16, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n              <img src={billData?.organisationItems?.logo_url || userItem?.organisationItems?.logo_url} alt=\"Logo\" style={{ maxWidth: '100%', maxHeight: '100%' }} />\r\n            </div>\r\n          ))}\r\n          <div>\r\n            <h2 style={{ margin: 0, fontSize: 16, fontWeight: 'bold' }}>\r\n              {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || ''}\r\n            </h2>\r\n            <p style={{ margin: '4px 0', fontSize: 10 }}>\r\n              {billData?.branchItems?.address1 || billData?.organisationItems?.address1 || userItem?.branchItems?.address1 || userItem?.organisationItems?.address1 || ''}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div style={{ fontSize: 10 }}>\r\n          <strong>Mobile:</strong> {billData?.organisationItems?.phone || userItem?.organisationItems?.phone || ''} | \r\n          <strong> Email:</strong> {billData?.organisationItems?.email || userItem?.organisationItems?.email || ''}\r\n        </div>\r\n        <div style={{ fontSize: 10, marginTop: 4 }}>\r\n          <strong>GSTIN -</strong> {billData?.organisationItems?.gst_number || userItem?.organisationItems?.gst_number || ''} | \r\n          <strong> PAN -</strong> {billData?.organisationItems?.pan_number || userItem?.organisationItems?.pan_number || ''}\r\n        </div>\r\n        <div style={{ fontSize: 9, marginTop: 8, padding: '4px 8px', background: isGstInclusive ? '#fff3cd' : '#d1ecf1', border: `1px solid ${isGstInclusive ? '#ffc107' : '#17a2b8'}`, borderRadius: 3, display: 'inline-block', fontWeight: 'bold', color: isGstInclusive ? '#856404' : '#0c5460' }}>\r\n          {isGstInclusive ? ' Tax Inclusive' : ' Tax Exclusive'} - Prices {isGstInclusive ? 'include' : 'exclude'} GST\r\n        </div>\r\n      </div>\r\n\r\n      {/* Billing and Invoice Details */}\r\n      <div style={{ display: 'flex', marginBottom: 12, gap: 12 }}>\r\n        {/* Billing Details */}\r\n        <div style={{ flex: 1, border: '1px solid #000', padding: 8 }}>\r\n          <div style={{ fontWeight: 'bold', marginBottom: 6, fontSize: 11 }}>Billing Details</div>\r\n          <div style={{ fontSize: 10, lineHeight: 1.6 }}>\r\n            <div><strong>Name:</strong> {billData?.customerName || ''}</div>\r\n            {billData?.customer_gstin && <div><strong>GSTIN:</strong> {billData.customer_gstin}</div>}\r\n            {billData?.customer_pan && <div><strong>PAN:</strong> {billData.customer_pan}</div>}\r\n            {billData?.customerPhone && <div><strong>Mobile:</strong> {billData.customerPhone}</div>}\r\n            {billData?.customerEmail && <div><strong>Email:</strong> {billData.customerEmail}</div>}\r\n            {billData?.customerAddress && <div><strong>Address:</strong> {billData.customerAddress}</div>}\r\n            {(billData?.customerCity || billData?.customerState || billData?.customerPincode) && (\r\n              <div>\r\n                {[billData?.customerCity, billData?.customerState, billData?.customerPincode].filter(Boolean).join(', ')}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Invoice Details */}\r\n        <div style={{ flex: 1, border: '1px solid #000', padding: 8 }}>\r\n          <div style={{ fontWeight: 'bold', marginBottom: 6, fontSize: 11 }}>Invoice</div>\r\n          <div style={{ fontSize: 10, lineHeight: 1.6 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <span><strong>Number:</strong></span>\r\n              <span>{billData?.invoice_no || '0001/25-26'}</span>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <span><strong>Invoice Date:</strong></span>\r\n              <span>{billData?.date ? new Date(billData.date).toLocaleDateString('en-GB') : new Date().toLocaleDateString('en-GB')}</span>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <span><strong>Due date:</strong></span>\r\n              <span>{billData?.due_date ? new Date(billData.due_date).toLocaleDateString('en-GB') : ''}</span>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <span><strong>Payment Mode:</strong></span>\r\n              <span>{billData?.payment_mode || 'Cash'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Items Table */}\r\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: 12, border: '1px solid #000' }}>\r\n        <thead>\r\n          <tr style={{ background: '#f0f0f0' }}>\r\n            <th style={thStyle}>Sr.</th>\r\n            <th style={{ ...thStyle, textAlign: 'left' }}>Item Description</th>\r\n            <th style={thStyle}>HSN/SAC</th>\r\n            <th style={thStyle}>Qty</th>\r\n            <th style={thStyle}>Price</th>\r\n            <th style={thStyle}>Discount</th>\r\n            <th style={thStyle}>CGST %</th>\r\n            <th style={thStyle}>CGST Amt</th>\r\n            <th style={thStyle}>SGST %</th>\r\n            <th style={thStyle}>SGST Amt</th>\r\n            <th style={thStyle}>Amount</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(billData?.items) && billData.items.length > 0 ? (\r\n            <>\r\n              {billData.items.map((item: any, idx: number) => {\r\n                const qty = Number(item?.qty || item?.quantity || 0);\r\n                const price = Number(item?.price || 0);\r\n                const discount = Number(item?.discount || 0);\r\n                const taxPercentage = Number(item?.tax_percentage || 0);\r\n                \r\n                // Calculate CGST and SGST (split tax equally)\r\n                const cgstPercent = taxPercentage / 2;\r\n                const sgstPercent = taxPercentage / 2;\r\n                \r\n                const itemSubtotal = qty * price;\r\n                \r\n                // If GST is inclusive, extract GST from the amount\r\n                // If GST is exclusive, calculate GST on top\r\n                let cgstAmount = 0;\r\n                let sgstAmount = 0;\r\n                \r\n                if (isGstInclusive) {\r\n                  // GST is included in price - extract it\r\n                  const gstFactor = (100 + taxPercentage) / 100;\r\n                  const priceWithoutGst = itemSubtotal / gstFactor;\r\n                  const totalGstAmount = itemSubtotal - priceWithoutGst;\r\n                  cgstAmount = totalGstAmount / 2;\r\n                  sgstAmount = totalGstAmount / 2;\r\n                } else {\r\n                  // GST is excluded - calculate on top\r\n                  cgstAmount = (itemSubtotal * cgstPercent) / 100;\r\n                  sgstAmount = (itemSubtotal * sgstPercent) / 100;\r\n                }\r\n                \r\n                // Amount includes GST (base + CGST + SGST)\r\n                const finalAmount = itemSubtotal + cgstAmount + sgstAmount;\r\n                \r\n                return (\r\n                  <tr key={idx}>\r\n                    <td style={tdStyle}>{idx + 1}</td>\r\n                    <td style={{ ...tdStyle, textAlign: 'left' }}>{String(item?.name || item?.product_name || 'Item')}</td>\r\n                    <td style={tdStyle}>{item?.hsn_code || item?.hsn_sac || '-'}</td>\r\n                    <td style={tdStyle}>{qty}</td>\r\n                    <td style={tdStyle}>{price.toFixed(2)}</td>\r\n                    <td style={tdStyle}>{discount.toFixed(2)}</td>\r\n                    <td style={tdStyle}>{cgstPercent.toFixed(2)}%</td>\r\n                    <td style={tdStyle}>{cgstAmount.toFixed(2)}</td>\r\n                    <td style={tdStyle}>{sgstPercent.toFixed(2)}%</td>\r\n                    <td style={tdStyle}>{sgstAmount.toFixed(2)}</td>\r\n                    <td style={tdStyle}>{finalAmount.toFixed(2)}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n              {/* Empty rows for spacing */}\r\n              {[...Array(Math.max(0, 3 - billData.items.length))].map((_, idx) => (\r\n                <tr key={`empty-${idx}`}>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                  <td style={tdStyle}>&nbsp;</td>\r\n                </tr>\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <tr>\r\n              <td colSpan={11} style={{ ...tdStyle, textAlign: 'center' }}>No items</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Summary Section - Two Column Layout */}\r\n      <div style={{ display: 'flex', gap: 16, marginBottom: 12 }}>\r\n        {/* Left Side - Amount in Words & Settlement Details */}\r\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', justifyContent: 'flex-end' }}>\r\n          <div style={{ fontSize: 10, marginBottom: 6, padding: '8px', border: '1px solid #ddd', background: '#f9f9f9' }}>\r\n            <strong>Amount in Words:</strong>\r\n            <div style={{ marginTop: 4 }}>{amountInWords}</div>\r\n          </div>\r\n          <div style={{ fontSize: 10, padding: '8px', border: '1px solid #ddd', background: '#f9f9f9' }}>\r\n            <strong>Settlement Details:</strong>\r\n            <div style={{ marginTop: 4 }}>{(() => {\r\n              const isPaid = billData?.is_paid || false;\r\n              const isPartiallyPaid = billData?.is_partially_paid || false;\r\n              const paidAmount = Number(billData?.paid_amount || 0);\r\n              const pendingAmount = grandTotal - paidAmount;\r\n              \r\n              if (!isPaid && !isPartiallyPaid) {\r\n                return `Invoice Balance: ${grandTotal.toFixed(2)}`;\r\n              } else if (isPartiallyPaid && !isPaid) {\r\n                return `Paid: ${paidAmount.toFixed(2)} | Pending: ${pendingAmount.toFixed(2)}`;\r\n              } else {\r\n                return `Settled by - ${billData?.payment_mode || 'Cash'}: ${paidAmount.toFixed(2)} | Invoice Balance: 0.00`;\r\n              }\r\n            })()}</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Side - Summary of Charges */}\r\n        <div style={{ width: 220 }}>\r\n          <div style={{ marginBottom: 3 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '4px 8px', borderBottom: '1px solid #ccc' }}>\r\n              <span style={{ fontSize: 10 }}><strong>Value of Goods:</strong></span>\r\n              <span style={{ fontSize: 10 }}> {valueOfGoods.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n          {discountAmount > 0 && (\r\n            <div style={{ marginBottom: 3 }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', padding: '4px 8px', borderBottom: '1px solid #ccc' }}>\r\n                <span style={{ fontSize: 10 }}><strong>Discount:</strong></span>\r\n                <span style={{ fontSize: 10 }}>-  {discountAmount.toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div style={{ marginBottom: 3 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '4px 8px', borderBottom: '1px solid #ccc' }}>\r\n              <span style={{ fontSize: 10 }}><strong>{isGstInclusive ? 'CGST (Incl):' : 'CGST:'}</strong></span>\r\n              <span style={{ fontSize: 10 }}> {cgst.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginBottom: 3 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '4px 8px', borderBottom: '1px solid #ccc' }}>\r\n              <span style={{ fontSize: 10 }}><strong>{isGstInclusive ? 'SGST (Incl):' : 'SGST:'}</strong></span>\r\n              <span style={{ fontSize: 10 }}> {sgst.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginBottom: 3 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '4px 8px', borderBottom: '1px solid #ccc' }}>\r\n              <span style={{ fontSize: 10 }}><strong>Subtotal:</strong></span>\r\n              <span style={{ fontSize: 10 }}> {displaySubtotal.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginTop: 6 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '6px 8px', background: '#f0f0f0', fontWeight: 'bold', fontSize: 11, border: '2px solid #000' }}>\r\n              <span>Total:</span>\r\n              <span> {grandTotal.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer Section - Optimized Layout */}\r\n      <div style={{ display: 'flex', gap: 12, marginTop: 12 }}>\r\n        {/* Left Side - Terms, Conditions and Bank Details */}\r\n        <div style={{ flex: 1 }}>\r\n          {/* Terms and Conditions - Show only if enabled in settings */}\r\n          {settings?.show_terms_on_invoice && settings?.invoice_terms && (\r\n            <div style={{ border: '1px solid #000', padding: 8, marginBottom: 8 }}>\r\n              <div style={{ fontWeight: 'bold', marginBottom: 6, fontSize: 10 }}>Terms and Conditions</div>\r\n              <div style={{ fontSize: 9, lineHeight: 1.5, whiteSpace: 'pre-wrap' }}>\r\n                {settings.invoice_terms}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Bank Details from Settings */}\r\n          {(settings?.bank_name || settings?.account_number) && (\r\n            <div style={{ border: '1px solid #000', padding: 8 }}>\r\n              <div style={{ fontWeight: 'bold', marginBottom: 6, fontSize: 10 }}>Bank Details</div>\r\n              <div style={{ fontSize: 9, lineHeight: 1.5 }}>\r\n                {settings?.account_holder_name && (\r\n                  <div><strong>Name:</strong> {settings.account_holder_name}</div>\r\n                )}\r\n                {settings?.account_number && (\r\n                  <div><strong>A/c No:</strong> {settings.account_number}</div>\r\n                )}\r\n                {settings?.bank_name && (\r\n                  <div><strong>Bank:</strong> {settings.bank_name}</div>\r\n                )}\r\n                {settings?.ifsc_code && (\r\n                  <div><strong>IFSC:</strong> {settings.ifsc_code}</div>\r\n                )}\r\n                {settings?.branch_name && (\r\n                  <div><strong>Branch:</strong> {settings.branch_name}</div>\r\n                )}\r\n                {settings?.upi_id && (\r\n                  <div><strong>UPI ID:</strong> {settings.upi_id}</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Right Side - QR Code and Signature */}\r\n        <div style={{ width: 200, border: '1px solid #000', padding: 10, display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\r\n          {/* QR Code Section */}\r\n          <div style={{ textAlign: 'center', marginBottom: 12 }}>\r\n            {settings?.enable_payment_qr && settings?.qr_on_invoice ? (\r\n              // Check if QR code was pre-generated (for print/download)\r\n              settings?.qrCodeDataUrl ? (\r\n                <div style={{ padding: 8, background: '#fff', border: '2px solid #000', borderRadius: 6, textAlign: 'center' }}>\r\n                  <div style={{ fontSize: 10, fontWeight: 'bold', marginBottom: 6 }}>Scan & Pay</div>\r\n                  <img \r\n                    src={settings.qrCodeDataUrl} \r\n                    alt=\"Payment QR Code\"\r\n                    style={{ display: 'block', width: settings?.qr_size || 100, height: settings?.qr_size || 100, margin: '0 auto' }}\r\n                  />\r\n                  {settings?.show_upi_id_text && settings?.upi_id && (\r\n                    <div style={{ fontSize: 8, marginTop: 4, color: '#333' }}>UPI: {settings.upi_id}</div>\r\n                  )}\r\n                  <div style={{ fontSize: 7, marginTop: 2, color: '#666' }}>Google Pay  PhonePe  Paytm</div>\r\n                </div>\r\n              ) : (\r\n                // Use dynamic component for live view\r\n                <PaymentQRCode\r\n                  billData={billData}\r\n                  settings={settings}\r\n                  size={settings?.qr_size || 100}\r\n                  position=\"footer\"\r\n                  showUpiId={settings?.show_upi_id_text}\r\n                  style={{ position: 'relative', border: 'none', padding: 0 }}\r\n                />\r\n              )\r\n            ) : (\r\n              <div style={{ width: 80, height: 80, border: '1px solid #ccc', margin: '0 auto 8px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: 8 }}>\r\n                QR Code\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Signature Section */}\r\n          <div style={{ textAlign: 'center', marginTop: 'auto' }}>\r\n            <div style={{ fontSize: 9, marginBottom: 20 }}>For {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || 'Company Name'}</div>\r\n            <div style={{ borderTop: '1px solid #000', paddingTop: 4, fontSize: 9 }}>\r\n              Authorized Signature\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Invoice Footer from Settings */}\r\n      {settings?.invoice_footer && (\r\n        <div style={{ marginTop: 10, padding: 8, background: '#f5f5f5', border: '1px solid #ddd', textAlign: 'center', fontSize: 9 }}>\r\n          {settings.invoice_footer}\r\n        </div>\r\n      )}\r\n\r\n      {/* Footer Branding */}\r\n      <div style={{ textAlign: 'center', marginTop: 10, paddingTop: 8, borderTop: '1px solid #ddd', fontSize: 9, color: '#888' }}>\r\n        <p style={{ margin: 0 }}>\r\n          Powered by <strong style={{ color: '#333' }}>Subriva Billing</strong>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst thStyle = {\r\n  border: '1px solid #000',\r\n  padding: '6px 4px',\r\n  fontSize: 10,\r\n  fontWeight: 'bold' as const,\r\n  textAlign: 'center' as const,\r\n  background: '#f0f0f0',\r\n};\r\n\r\nconst tdStyle = {\r\n  border: '1px solid #000',\r\n  padding: '6px 4px',\r\n  fontSize: 10,\r\n  textAlign: 'center' as const,\r\n};\r\n\r\nexport default ProfessionalInvoiceTemplate;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"advancedCommercialInvoice\":\"ProfessionalTaxInvoiceTemplate_advancedCommercialInvoice__rDN-K\",\"invoiceContainer\":\"ProfessionalTaxInvoiceTemplate_invoiceContainer__o1miX\",\"invoiceHeader\":\"ProfessionalTaxInvoiceTemplate_invoiceHeader__PD6FS\",\"headerLeft\":\"ProfessionalTaxInvoiceTemplate_headerLeft__26DFv\",\"companyLogo\":\"ProfessionalTaxInvoiceTemplate_companyLogo__zklz0\",\"companyInfo\":\"ProfessionalTaxInvoiceTemplate_companyInfo__JZkBo\",\"companyName\":\"ProfessionalTaxInvoiceTemplate_companyName__bQKx5\",\"companyDetails\":\"ProfessionalTaxInvoiceTemplate_companyDetails__zScHz\",\"headerRight\":\"ProfessionalTaxInvoiceTemplate_headerRight__ZhBfo\",\"invoiceTitle\":\"ProfessionalTaxInvoiceTemplate_invoiceTitle__ig54w\",\"dividerLine\":\"ProfessionalTaxInvoiceTemplate_dividerLine__15Mq7\",\"invoiceDetailsSection\":\"ProfessionalTaxInvoiceTemplate_invoiceDetailsSection__Kxaoe\",\"detailsGrid\":\"ProfessionalTaxInvoiceTemplate_detailsGrid__iKsm8\",\"detailRow\":\"ProfessionalTaxInvoiceTemplate_detailRow__otvxp\",\"label\":\"ProfessionalTaxInvoiceTemplate_label__VlZm2\",\"value\":\"ProfessionalTaxInvoiceTemplate_value__kqYtQ\",\"placeOfSupply\":\"ProfessionalTaxInvoiceTemplate_placeOfSupply__NWW7o\",\"billToSection\":\"ProfessionalTaxInvoiceTemplate_billToSection__3yTYS\",\"sectionHeading\":\"ProfessionalTaxInvoiceTemplate_sectionHeading__rKzHm\",\"customerName\":\"ProfessionalTaxInvoiceTemplate_customerName__MKb8I\",\"customerInfo\":\"ProfessionalTaxInvoiceTemplate_customerInfo__2gIFI\",\"itemsSection\":\"ProfessionalTaxInvoiceTemplate_itemsSection__9cF3y\",\"itemsTable\":\"ProfessionalTaxInvoiceTemplate_itemsTable__soeU2\",\"colSr\":\"ProfessionalTaxInvoiceTemplate_colSr__iy+i9\",\"colQty\":\"ProfessionalTaxInvoiceTemplate_colQty__szDmJ\",\"colPrice\":\"ProfessionalTaxInvoiceTemplate_colPrice__BfkFe\",\"colDiscount\":\"ProfessionalTaxInvoiceTemplate_colDiscount__0tV9G\",\"colCgstPer\":\"ProfessionalTaxInvoiceTemplate_colCgstPer__VJVrD\",\"colCgstAmt\":\"ProfessionalTaxInvoiceTemplate_colCgstAmt__8J5h7\",\"colSgstPer\":\"ProfessionalTaxInvoiceTemplate_colSgstPer__HVlZZ\",\"colSgstAmt\":\"ProfessionalTaxInvoiceTemplate_colSgstAmt__pavf+\",\"colAmount\":\"ProfessionalTaxInvoiceTemplate_colAmount__QSbnf\",\"colItem\":\"ProfessionalTaxInvoiceTemplate_colItem__S1-eu\",\"itemName\":\"ProfessionalTaxInvoiceTemplate_itemName__jmhZW\",\"itemDescription\":\"ProfessionalTaxInvoiceTemplate_itemDescription__pv6AJ\",\"colHsn\":\"ProfessionalTaxInvoiceTemplate_colHsn__zP+6+\",\"noItems\":\"ProfessionalTaxInvoiceTemplate_noItems__OZW2z\",\"summarySection\":\"ProfessionalTaxInvoiceTemplate_summarySection__i90Os\",\"summaryLeft\":\"ProfessionalTaxInvoiceTemplate_summaryLeft__xYTfS\",\"totalInWords\":\"ProfessionalTaxInvoiceTemplate_totalInWords__zn8f4\",\"notesSection\":\"ProfessionalTaxInvoiceTemplate_notesSection__SvsYX\",\"bankDetailsSection\":\"ProfessionalTaxInvoiceTemplate_bankDetailsSection__KlQWC\",\"amountWords\":\"ProfessionalTaxInvoiceTemplate_amountWords__Gf2BQ\",\"notesText\":\"ProfessionalTaxInvoiceTemplate_notesText__cazaz\",\"bankDetails\":\"ProfessionalTaxInvoiceTemplate_bankDetails__+NAJQ\",\"summaryRight\":\"ProfessionalTaxInvoiceTemplate_summaryRight__m4+MC\",\"totalsSummary\":\"ProfessionalTaxInvoiceTemplate_totalsSummary__QcXzC\",\"totalRow\":\"ProfessionalTaxInvoiceTemplate_totalRow__XoRn6\",\"grandTotal\":\"ProfessionalTaxInvoiceTemplate_grandTotal__aMP+C\",\"balanceDue\":\"ProfessionalTaxInvoiceTemplate_balanceDue__TyHsU\",\"signatureSection\":\"ProfessionalTaxInvoiceTemplate_signatureSection__fxykQ\",\"signatureLine\":\"ProfessionalTaxInvoiceTemplate_signatureLine__afFmt\",\"signatureLabel\":\"ProfessionalTaxInvoiceTemplate_signatureLabel__b+IOV\",\"invoiceFooter\":\"ProfessionalTaxInvoiceTemplate_invoiceFooter__FMi5n\",\"footerBranding\":\"ProfessionalTaxInvoiceTemplate_footerBranding__lx6NV\",\"footerLink\":\"ProfessionalTaxInvoiceTemplate_footerLink__WMt6U\"};","import ClassicInvoiceTemplate from './ClassicInvoiceTemplate';\r\nimport ModernInvoiceTemplate from './ModernInvoiceTemplate';\r\nimport ProfessionalInvoiceTemplate from './ProfessionalInvoiceTemplate';\r\nimport ProfessionalTaxInvoiceTemplate from './ProfessionalTaxInvoiceTemplate';\r\n\r\n/**\r\n * Invoice Templates Registry\r\n * For Formal Invoices\r\n */\r\nexport const invoiceTemplates = {\r\n  classic: {\r\n    label: 'Classic Invoice',\r\n    component: ClassicInvoiceTemplate,\r\n    description: 'Traditional professional invoice with full details',\r\n  },\r\n  modern: {\r\n    label: 'Modern Invoice',\r\n    component: ModernInvoiceTemplate,\r\n    description: 'Modern branded invoice with gradient design',\r\n  },\r\n  professional: {\r\n    label: 'Professional Bill of Supply',\r\n    component: ProfessionalInvoiceTemplate,\r\n    description: 'Comprehensive invoice with terms, bank details, and QR code',\r\n  },\r\n  advanced: {\r\n    label: 'Professional Tax Invoice',\r\n    component: ProfessionalTaxInvoiceTemplate,\r\n    description: 'Professional GST-compliant invoice with detailed breakdowns and modern layout',\r\n  },\r\n};\r\n\r\nexport type InvoiceTemplateKey = keyof typeof invoiceTemplates;\r\n\r\n// Helper function to get selected invoice template component\r\nexport const getInvoiceTemplate = (key: InvoiceTemplateKey) => {\r\n  return invoiceTemplates[key]?.component || invoiceTemplates.classic.component;\r\n};\r\n\r\n","import React from 'react';\r\nimport { useUser } from '../../../../components/antd/UserContext';\r\nimport PaymentQRCode from '../components/PaymentQRCode';\r\nimport styles from './ProfessionalTaxInvoiceTemplate.module.css';\r\n\r\ninterface ProfessionalTaxInvoiceTemplateProps {\r\n  billData: any;\r\n  settings?: any;\r\n}\r\n\r\n/**\r\n * Professional Tax Invoice Template\r\n * GST-compliant invoice with detailed breakdowns, modern layout, and comprehensive business details\r\n */\r\nconst ProfessionalTaxInvoiceTemplate: React.FC<ProfessionalTaxInvoiceTemplateProps> = ({\r\n  billData,\r\n  settings,\r\n}) => {\r\n  const userItem = useUser();\r\n\r\n  // Ensure billData exists\r\n  if (!billData) {\r\n    return <div>No data to display</div>;\r\n  }\r\n\r\n  // Check if GST is inclusive or exclusive\r\n  const isGstInclusive = billData?.is_gst_included ?? true;\r\n  \r\n  // Use backend calculated values (correct calculations)\r\n  const valueOfGoods = Number(billData?.value_of_goods || 0);\r\n  const cgst = Number(billData?.cgst || (billData?.total_gst || 0) / 2);\r\n  const sgst = Number(billData?.sgst || (billData?.total_gst || 0) / 2);\r\n  const igst = Number(billData?.igst || 0);\r\n  const totalTax = cgst + sgst + igst;\r\n  const grandTotal = Number(billData?.total_amount || billData?.total || 0);\r\n  \r\n  // Additional charges\r\n  const shippingCharges = Number(billData?.shipping_charges || 0);\r\n  const otherCharges = Number(billData?.other_charges || 0);\r\n  const finalTotal = grandTotal + shippingCharges + otherCharges;\r\n  \r\n  // For display - calculate items total\r\n  const itemsSubtotal = billData?.items?.reduce((sum: number, item: any) => {\r\n    const itemPrice = Number(item.price || 0);\r\n    const itemQty = Number(item.qty || item.quantity || 0);\r\n    return sum + (itemPrice * itemQty);\r\n  }, 0) || 0;\r\n  \r\n  const subtotalAfterDiscount = grandTotal;\r\n\r\n  // Payment status\r\n  const isPaid = billData?.is_paid || false;\r\n  const isPartiallyPaid = billData?.is_partially_paid || false;\r\n  const paidAmount = Number(billData?.paid_amount || 0);\r\n  const balanceDue = finalTotal - paidAmount;\r\n\r\n  // Convert amount to words\r\n  const numberToWords = (num: number): string => {\r\n    const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\r\n    const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\r\n    const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\r\n    \r\n    if (num === 0) return 'Zero';\r\n    if (num < 10) return ones[num];\r\n    if (num < 20) return teens[num - 10];\r\n    if (num < 100) return tens[Math.floor(num / 10)] + (num % 10 ? ' ' + ones[num % 10] : '');\r\n    if (num < 1000) return ones[Math.floor(num / 100)] + ' Hundred' + (num % 100 ? ' and ' + numberToWords(num % 100) : '');\r\n    if (num < 100000) return numberToWords(Math.floor(num / 1000)) + ' Thousand' + (num % 1000 ? ' ' + numberToWords(num % 1000) : '');\r\n    if (num < 10000000) return numberToWords(Math.floor(num / 100000)) + ' Lakh' + (num % 100000 ? ' ' + numberToWords(num % 100000) : '');\r\n    return numberToWords(Math.floor(num / 10000000)) + ' Crore' + (num % 10000000 ? ' ' + numberToWords(num % 10000000) : '');\r\n  };\r\n\r\n  const amountInWords = `${numberToWords(Math.floor(finalTotal))} Rupees Only`;\r\n\r\n  // Get status badge\r\n  const getStatusBadge = () => {\r\n    if (isPaid) {\r\n      return { text: 'PAID', color: '#10b981', bg: '#d1fae5' };\r\n    } else if (isPartiallyPaid) {\r\n      return { text: 'PARTIALLY PAID', color: '#f59e0b', bg: '#fef3c7' };\r\n    } else if (billData?.is_overdue) {\r\n      return { text: 'OVERDUE', color: '#ef4444', bg: '#fee2e2' };\r\n    } else {\r\n      return { text: 'UNPAID', color: '#6b7280', bg: '#f3f4f6' };\r\n    }\r\n  };\r\n\r\n  const statusBadge = getStatusBadge();\r\n\r\n  // Format date\r\n  const formatDate = (dateStr: string) => {\r\n    if (!dateStr) return '-';\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.advancedCommercialInvoice}>\r\n      <div className={styles.invoiceContainer}>\r\n        {/* Header Section - Zoho Style */}\r\n        <div className={styles.invoiceHeader}>\r\n          <div className={styles.headerLeft}>\r\n            {(billData?.organisationItems?.logo_url || userItem?.organisationItems?.logo_url) && (\r\n              <div className={styles.companyLogo}>\r\n                <img \r\n                  src={billData?.organisationItems?.logo_url || userItem?.organisationItems?.logo_url} \r\n                  alt=\"Logo\" \r\n                />\r\n              </div>\r\n            )}\r\n            <div className={styles.companyInfo}>\r\n              <h1 className={styles.companyName}>\r\n                {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || 'Company Name'}\r\n              </h1>\r\n              <p className={styles.companyDetails}>\r\n                {billData?.branchItems?.address1 || billData?.organisationItems?.address1 || userItem?.branchItems?.address1 || userItem?.organisationItems?.address1 || ''}\r\n                {(billData?.branchItems?.city || userItem?.branchItems?.city) && `, ${billData?.branchItems?.city || userItem?.branchItems?.city}`}\r\n                {(billData?.branchItems?.state || userItem?.branchItems?.state) && `, ${billData?.branchItems?.state || userItem?.branchItems?.state}`}\r\n                {(billData?.branchItems?.pincode || userItem?.branchItems?.pincode) && ` ${billData?.branchItems?.pincode || userItem?.branchItems?.pincode}`}\r\n              </p>\r\n              <p className={styles.companyDetails}>\r\n                <strong>GSTIN:</strong> {billData?.organisationItems?.gst_number || userItem?.organisationItems?.gst_number || 'N/A'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className={styles.headerRight}>\r\n            <h2 className={styles.invoiceTitle}>TAX INVOICE</h2>\r\n            <p style={{ margin: '12px 0 0 0', fontSize: 11, padding: '6px 12px', background: isGstInclusive ? '#fff3cd' : '#d1ecf1', color: isGstInclusive ? '#856404' : '#0c5460', border: `1px solid ${isGstInclusive ? '#ffc107' : '#17a2b8'}`, borderRadius: 4, display: 'inline-block', fontWeight: 'bold' }}>\r\n              {isGstInclusive ? ' Tax Inclusive' : ' Tax Exclusive'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.dividerLine}></div>\r\n\r\n        {/* Invoice Details Section */}\r\n        <div className={styles.invoiceDetailsSection}>\r\n          <div className={styles.detailsGrid}>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.label}>Invoice #</span>\r\n              <span className={styles.value}>{billData?.invoice_no || '0001'}</span>\r\n            </div>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.label}>Invoice Date</span>\r\n              <span className={styles.value}>{formatDate(billData?.date)}</span>\r\n            </div>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.label}>Terms</span>\r\n              <span className={styles.value}>{billData?.payment_terms || 'Due on Receipt'}</span>\r\n            </div>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.label}>Due Date</span>\r\n              <span className={styles.value}>{formatDate(billData?.due_date)}</span>\r\n            </div>\r\n          </div>\r\n          <div className={styles.placeOfSupply}>\r\n            <span className={styles.label}>Place Of Supply</span>\r\n            <span className={styles.value}>{billData?.place_of_supply || billData?.branchItems?.state || 'N/A'}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bill To Section - Zoho Style */}\r\n        <div className={styles.billToSection}>\r\n          <h3 className={styles.sectionHeading}>Bill To</h3>\r\n          <p className={styles.customerName}>{billData?.customerName || 'Customer Name'}</p>\r\n          {billData?.customerAddress && (\r\n            <p className={styles.customerInfo}>{billData.customerAddress}</p>\r\n          )}\r\n          {(billData?.customerCity || billData?.customerState || billData?.customerPincode) && (\r\n            <p className={styles.customerInfo}>\r\n              {[billData?.customerCity, billData?.customerState, billData?.customerPincode].filter(Boolean).join(', ')}\r\n            </p>\r\n          )}\r\n          {billData?.customer_gstin && (\r\n            <p className={styles.customerInfo}><strong>GSTIN:</strong> {billData.customer_gstin}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Items Table - Zoho Style */}\r\n        <div className={styles.itemsSection}>\r\n          <table className={styles.itemsTable}>\r\n            <thead>\r\n              <tr>\r\n                <th className={styles.colSr}>Sr.</th>\r\n                <th className={styles.colItem}>Item Description</th>\r\n                <th className={styles.colHsn}>HSN/SAC</th>\r\n                <th className={styles.colQty}>Qty</th>\r\n                <th className={styles.colPrice}>Price</th>\r\n                <th className={styles.colDiscount}>Discount</th>\r\n                <th className={styles.colCgstPer}>CGST %</th>\r\n                <th className={styles.colCgstAmt}>CGST Amt</th>\r\n                <th className={styles.colSgstPer}>SGST %</th>\r\n                <th className={styles.colSgstAmt}>SGST Amt</th>\r\n                <th className={styles.colAmount}>Amount</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {Array.isArray(billData?.items) && billData.items.length > 0 ? (\r\n                billData.items.map((item: any, idx: number) => {\r\n                  const itemQty = Number(item?.qty || item?.quantity || 0);\r\n                  const itemPrice = Number(item?.price || 0);\r\n                  const itemDiscount = Number(item?.discount || 0);\r\n                  const taxPercentage = Number(item?.tax_percentage || 0);\r\n                  \r\n                  // Calculate CGST and SGST (split tax equally)\r\n                  const cgstPercent = taxPercentage / 2;\r\n                  const sgstPercent = taxPercentage / 2;\r\n                  \r\n                  const itemSubtotal = itemQty * itemPrice;\r\n                  \r\n                  // If GST is inclusive, extract GST from the amount\r\n                  // If GST is exclusive, calculate GST on top\r\n                  let cgstAmount = 0;\r\n                  let sgstAmount = 0;\r\n                  \r\n                  if (isGstInclusive) {\r\n                    // GST is included in price - extract it\r\n                    const gstFactor = (100 + taxPercentage) / 100;\r\n                    const priceWithoutGst = itemSubtotal / gstFactor;\r\n                    const totalGstAmount = itemSubtotal - priceWithoutGst;\r\n                    cgstAmount = totalGstAmount / 2;\r\n                    sgstAmount = totalGstAmount / 2;\r\n                  } else {\r\n                    // GST is excluded - calculate on top\r\n                    cgstAmount = (itemSubtotal * cgstPercent) / 100;\r\n                    sgstAmount = (itemSubtotal * sgstPercent) / 100;\r\n                  }\r\n\r\n                  // Amount includes GST (base + CGST + SGST)\r\n                  const finalAmount = itemSubtotal + cgstAmount + sgstAmount;\r\n\r\n                  return (\r\n                    <tr key={idx}>\r\n                      <td className={styles.colSr}>{idx + 1}</td>\r\n                      <td className={styles.colItem}>\r\n                        <div className={styles.itemName}>{String(item?.name || item?.product_name || 'Item')}</div>\r\n                        {item?.description && (\r\n                          <div className={styles.itemDescription}>{item.description}</div>\r\n                        )}\r\n                      </td>\r\n                      <td className={styles.colHsn}>{item?.hsn_code || item?.hsn_sac || '-'}</td>\r\n                      <td className={styles.colQty}>{itemQty}</td>\r\n                      <td className={styles.colPrice}>{itemPrice.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>\r\n                      <td className={styles.colDiscount}>{itemDiscount.toFixed(2)}</td>\r\n                      <td className={styles.colCgstPer}>{cgstPercent.toFixed(2)}%</td>\r\n                      <td className={styles.colCgstAmt}>{cgstAmount.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>\r\n                      <td className={styles.colSgstPer}>{sgstPercent.toFixed(2)}%</td>\r\n                      <td className={styles.colSgstAmt}>{sgstAmount.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>\r\n                      <td className={styles.colAmount}>{finalAmount.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan={11} className={styles.noItems}>No items added</td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Summary Section - Zoho Style */}\r\n        <div className={styles.summarySection}>\r\n          <div className={styles.summaryLeft}>\r\n            {/* Total in Words */}\r\n            <div className={styles.totalInWords}>\r\n              <h4 className={styles.sectionHeading}>Total In Words</h4>\r\n              <p className={styles.amountWords}>Indian Rupee {amountInWords}</p>\r\n            </div>\r\n\r\n            {/* Notes */}\r\n            {(settings?.invoice_footer || billData?.notes) && (\r\n              <div className={styles.notesSection}>\r\n                <h4 className={styles.sectionHeading}>Notes</h4>\r\n                <p className={styles.notesText}>{billData?.notes || settings?.invoice_footer || 'Thank you for your business.'}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Bank Details */}\r\n            {(settings?.bank_name || settings?.account_number) && (\r\n              <div className={styles.bankDetailsSection}>\r\n                <h4 className={styles.sectionHeading}>Our Bank Account Details</h4>\r\n                <div className={styles.bankDetails}>\r\n                  {settings?.account_holder_name && (\r\n                    <p><strong>Current Account Name:</strong> {settings.account_holder_name}</p>\r\n                  )}\r\n                  {settings?.bank_name && (\r\n                    <p><strong>Bank:</strong> {settings.bank_name}</p>\r\n                  )}\r\n                  {settings?.branch_name && (\r\n                    <p><strong>Branch:</strong> {settings.branch_name}</p>\r\n                  )}\r\n                  {settings?.account_number && (\r\n                    <p><strong>A/c Number:</strong> {settings.account_number}</p>\r\n                  )}\r\n                  {settings?.ifsc_code && (\r\n                    <p><strong>IFSC:</strong> {settings.ifsc_code}</p>\r\n                  )}\r\n                  {settings?.upi_id && (\r\n                    <p><strong>UPI ID:</strong> {settings.upi_id}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.summaryRight}>\r\n            <div className={styles.totalsSummary}>\r\n              <div className={styles.totalRow}>\r\n                <span className={styles.label}>Value of Goods</span>\r\n                <span className={styles.value}>{valueOfGoods.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n              </div>\r\n              \r\n              {cgst > 0 && (\r\n                <div className={styles.totalRow}>\r\n                  <span className={styles.label}>CGST{!isGstInclusive ? '' : ' (Incl)'}</span>\r\n                  <span className={styles.value}>{cgst.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n                </div>\r\n              )}\r\n              \r\n              {sgst > 0 && (\r\n                <div className={styles.totalRow}>\r\n                  <span className={styles.label}>SGST{!isGstInclusive ? '' : ' (Incl)'}</span>\r\n                  <span className={styles.value}>{sgst.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n                </div>\r\n              )}\r\n\r\n              {igst > 0 && (\r\n                <div className={styles.totalRow}>\r\n                  <span className={styles.label}>IGST{!isGstInclusive ? '' : ' (Incl)'}</span>\r\n                  <span className={styles.value}>{igst.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n                </div>\r\n              )}\r\n\r\n              <div className={styles.totalRow}>\r\n                <span className={styles.label}>Subtotal</span>\r\n                <span className={styles.value}>{subtotalAfterDiscount.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n              </div>\r\n\r\n              <div className={styles.totalRow}>\r\n                <span className={styles.label}>Rounding</span>\r\n                <span className={styles.value}>0.00</span>\r\n              </div>\r\n\r\n              <div className={`${styles.totalRow} ${styles.grandTotal}`}>\r\n                <span className={styles.label}>Total</span>\r\n                <span className={styles.value}>{finalTotal.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n              </div>\r\n\r\n              <div className={`${styles.totalRow} ${styles.balanceDue}`}>\r\n                <span className={styles.label}>Balance Due</span>\r\n                <span className={styles.value}>{balanceDue.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Authorized Signature - Zoho Style */}\r\n        <div className={styles.signatureSection}>\r\n          <div className={styles.signatureLine}></div>\r\n          <p className={styles.signatureLabel}>Authorized Signature</p>\r\n          <p className={styles.signatureLabel} style={{ fontSize: '11px', marginTop: '4px', color: '#666' }}>\r\n            For {billData?.organisationItems?.org_name || userItem?.organisationItems?.org_name || 'Company Name'}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Footer Branding */}\r\n        <div className={styles.invoiceFooter}>\r\n          <p className={styles.footerBranding}>Powered by <strong>Subriva Billing</strong></p>\r\n          <p className={styles.footerLink}>Professional invoicing made easy</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfessionalTaxInvoiceTemplate;\r\n\r\n"],"names":["generateUPIUrl","params","upiId","payeeName","amount","transactionNote","transactionRef","merchantCode","includes","Error","urlParams","URLSearchParams","append","undefined","amountStr","Number","toFixed","concat","toString","generateUPIQRCode","async","options","upiUrl","_options$color","_options$color2","QRCode","width","margin","errorCorrectionLevel","color","dark","light","error","console","isValidUPIId","test","getUPIAppInfo","provider","appName","split","formatBillToUPIParams","billData","settings","_billData$organisatio","upi_id","organisationItems","org_name","organisation_name","net_amount","grand_total","total","total_amount","net_total","final_amount","billNumber","bill_number","invoice_number","_ref","size","position","showUpiId","style","qrCode","setQrCode","useState","useEffect","enable_payment_qr","upiParams","warn","qrCodeDataUrl","generateQR","_jsxs","_objectSpread","getPositionStyle","baseStyle","bottom","right","left","top","textAlign","padding","background","border","borderRadius","children","_jsx","fontSize","fontWeight","marginBottom","src","alt","display","height","marginTop","tableHeaderStyle","borderBottom","tableCellStyle","billTemplates","classic","label","component","_billData$is_gst_incl","_userItem$organisatio","_billData$branchItems","_billData$organisatio2","_userItem$branchItems","_userItem$organisatio2","_billData$organisatio3","_userItem$organisatio3","_billData$organisatio4","_userItem$organisatio4","_billData$organisatio5","_userItem$organisatio5","_billData$organisatio6","_userItem$organisatio6","userItem","useUser","subtotal","cgst","total_gst","sgst","isGstInclusive","is_gst_included","grandTotal","fontFamily","maxWidth","branchItems","address1","phone","email","gst_number","pan_number","justifyContent","invoice_no","date","Date","toLocaleDateString","customerName","substring","toUpperCase","borderTop","borderCollapse","Array","isArray","items","length","map","item","idx","itemName","String","name","product_name","displayName","qty","price","colSpan","isPaid","is_paid","isPartiallyPaid","is_partially_paid","paidAmount","paid_amount","pendingAmount","payment_mode","qr_on_bill","Math","min","qr_size","show_upi_id_text","PaymentQRCode","description","modern","totalGst","boxShadow","opacity","getBillTemplate","key","_billTemplates$key","thStyle","tdStyle","modernThStyle","whiteSpace","modernTdStyle","wordWrap","invoiceTemplates","_billData$branchItems2","_userItem$branchItems2","_billData$branchItems3","_userItem$branchItems3","_billData$branchItems4","_userItem$branchItems4","_billData$branchItems5","_userItem$branchItems5","_billData$branchItems6","_userItem$branchItems6","_billData$branchItems7","_userItem$branchItems7","_billData$organisatio7","_userItem$organisatio7","valueOfGoods","value_of_goods","displaySubtotal","paddingBottom","letterSpacing","city","state","pincode","textDecoration","customerAddress","customerCity","customerState","customerPincode","filter","Boolean","join","customer_gstin","customer_pan","customerPhone","customerEmail","quantity","discount","taxPercentage","tax_percentage","cgstPercent","sgstPercent","itemSubtotal","cgstAmount","sgstAmount","totalGstAmount","finalAmount","hsn_code","hsn_sac","paddingRight","paddingTop","show_terms_on_invoice","invoice_terms","lineHeight","invoice_footer","alignItems","qr_on_invoice","overflow","branch_name","textTransform","tableLayout","borderTopLeftRadius","borderTopRightRadius","transition","professional","_billData$items","_billData$organisatio8","_userItem$organisatio8","_billData$organisatio9","_userItem$organisatio9","discountValue","discount_value","discountAmount","discount_type","numberToWords","reduce","sum","num","ones","floor","amountInWords","logo_url","marginRight","maxHeight","gap","flex","due_date","_Fragment","max","_","flexDirection","bank_name","account_number","account_holder_name","ifsc_code","advanced","_billData$branchItems8","igst","finalTotal","shipping_charges","other_charges","subtotalAfterDiscount","balanceDue","formatDate","is_overdue","dateStr","day","month","year","className","styles","payment_terms","place_of_supply","itemQty","itemPrice","itemDiscount","toLocaleString","minimumFractionDigits","maximumFractionDigits","notes","getInvoiceTemplate","_invoiceTemplates$key"],"sourceRoot":""}