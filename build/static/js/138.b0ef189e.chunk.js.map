{"version":3,"file":"static/js/138.b0ef189e.chunk.js","mappings":";uPAQA,MAwGA,EAxG2BA,KACzB,MAAMC,GAAkBC,EAAAA,EAAAA,MAClBC,EAAkD,gBAApB,OAAfF,QAAe,IAAfA,OAAe,EAAfA,EAAiBG,eAEhCC,GAAaC,EAAAA,EAAAA,UAAQ,MACzBC,MAAO,QACPC,QAAS,CACP,CAAED,MAAO,YAAaE,UAAW,YAAaC,IAAK,aACnD,CAAEH,MAAO,YAAaE,UAAW,YAAaC,IAAK,aAC/B,CAClBH,MAAO,cACPE,UAAW,YACXC,IAAK,YACLC,OAASC,GACPA,GACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CACFC,MAAMF,EAAAA,EAAAA,KAACG,EAAAA,EAAkB,CAACC,aAAa,YACvCC,MAAM,UAASC,SAChB,SAIDN,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACI,MAAM,UAASC,SAAC,SA2B7BC,UAAW,CACT,CACEC,MAAO,YACPC,KAAM,YACNC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,gCACnCC,WAAWb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CAACC,YAAY,yBAEhC,CACEP,MAAO,aACPC,KAAM,YACNC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,kCACnCC,WAAWb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CAACC,YAAY,0BAE5BzB,EAAe,CAAC,CAClBkB,MAAO,cACPC,KAAM,YACNO,cAAe,UACfH,WACEb,EAAAA,EAAAA,KAACiB,EAAAA,EAAM,CACLC,gBAAgB,MAChBC,kBAAkB,KAClBC,gBAAgB,MAGjB,IAEPC,WAAWC,EAAAA,EAAAA,IAAmB,QAC9BC,YAAa,EACbC,QAAUC,IAEJA,EAAOC,WACFpC,EAKXqC,UAAYF,IAENA,EAAOC,WACFpC,KAKT,CAACA,IAEL,OACEU,EAAAA,EAAAA,KAAC4B,EAAAA,EAAe,CACdC,OAAQrC,EACRsC,qBAAqB,EACrBC,WAAW,2DCzGjB,QADyB,CAAE,KAAQ,SAAgBC,EAAcC,GAAkB,MAAO,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gLAAiL,KAAQD,IAAkB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uRAAwR,KAAQC,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,6LAA8L,KAAQD,KAAqB,EAAG,KAAQ,eAAgB,MAAS,0BCDvhC,SAASE,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAI1C,KAAO6C,EAAcP,OAAOQ,UAAUC,eAAeC,KAAKH,EAAQ7C,KAAQyC,EAAOzC,GAAO6C,EAAO7C,GAAU,CAAE,OAAOyC,CAAQ,EAAUJ,EAASY,MAAMC,KAAMP,UAAY,CAOlV,MAAMrC,EAAqBA,CAAC6C,EAAOC,IAAqBC,EAAAA,cAAoBC,EAAAA,EAAUjB,EAAS,CAAC,EAAGc,EAAO,CACxGC,IAAKA,EACL/C,KAAMkD,KAQR,QAJ6BF,EAAAA,WAAiB/C","sources":["pages/Unit/crud.tsx","../node_modules/@ant-design/icons-svg/es/asn/CheckCircleTwoTone.js","../node_modules/@ant-design/icons/es/icons/CheckCircleTwoTone.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { Input, Switch, Tag } from 'antd';\nimport { CheckCircleTwoTone } from '@ant-design/icons';\nimport { GenericCrudPage } from '../../components/common/GenericCrudPage';\nimport { Unit } from '../../types/entities';\nimport { getEntityApiRoutes } from '../../helpers/CrudFactory';\nimport { getCurrentUserRole } from '../../helpers/auth';\n\nconst UnitCrud: React.FC = () => {\n  const currentUserRole = getCurrentUserRole();\n  const isSuperAdmin = currentUserRole?.toLowerCase() === 'superadmin';\n\n  const unitConfig = useMemo(() => ({\n    title: 'Units',\n    columns: [\n      { title: 'Unit Name', dataIndex: 'unit_name', key: 'unit_name' },\n      { title: 'Unit Code', dataIndex: 'unit_code', key: 'unit_code' },\n      ...(isSuperAdmin ? [{\n        title: 'Global Unit',\n        dataIndex: 'is_global',\n        key: 'is_global',\n        render: (isGlobal: boolean) => (\n          isGlobal ? (\n            <Tag\n              icon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />}\n              color=\"success\"\n            >\n              Yes\n            </Tag>\n          ) : (\n            <Tag color=\"default\">\n              No\n            </Tag>\n          )\n        ),\n      }] : [\n        {\n          title: 'Global Unit',\n          dataIndex: 'is_global',\n          key: 'is_global',\n          render: (isGlobal: boolean) => (\n            isGlobal ? (\n              <Tag\n                icon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />}\n                color=\"success\"\n              >\n                Yes\n              </Tag>\n            ) : (\n              <Tag color=\"default\">\n                No\n              </Tag>\n            )\n          ),\n        }\n      ]),\n    ],\n    formItems: [\n      {\n        label: 'Unit Name',\n        name: 'unit_name',\n        rules: [{ required: true, message: 'Please enter the unit name!' }],\n        component: <Input placeholder=\"e.g. Piece, Kg, Box\" />,\n      },\n      {\n        label: 'Short Code',\n        name: 'unit_code',\n        rules: [{ required: true, message: 'Please enter unit short code!' }],\n        component: <Input placeholder=\"e.g. pcs, kg, box\" />,\n      },\n      ...(isSuperAdmin ? [{\n        label: 'Global Unit',\n        name: 'is_global',\n        valuePropName: 'checked',\n        component: (\n          <Switch\n            checkedChildren=\"Yes\"\n            unCheckedChildren=\"No\"\n            defaultChecked={false}\n          />\n        ),\n      }] : []),\n    ],\n    apiRoutes: getEntityApiRoutes('Unit'),\n    formColumns: 2,\n    canEdit: (record: Unit) => {\n      // If is_global is true, only superadmin can edit\n      if (record.is_global) {\n        return isSuperAdmin;\n      }\n      // Otherwise, all users can edit\n      return true;\n    },\n    canDelete: (record: Unit) => {\n      // If is_global is true, only superadmin can delete\n      if (record.is_global) {\n        return isSuperAdmin;\n      }\n      // Otherwise, all users can delete\n      return true;\n    },\n  }), [isSuperAdmin]);\n\n  return (\n    <GenericCrudPage \n      config={unitConfig}\n      enableDynamicFields={true}\n      entityName=\"unit\"\n    />\n  );\n};\n\nexport default UnitCrud;\n","// This icon file is generated automatically.\nvar CheckCircleTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\", \"fill\": primaryColor } }] }; }, \"name\": \"check-circle\", \"theme\": \"twotone\" };\nexport default CheckCircleTwoTone;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CheckCircleTwoToneSvg from \"@ant-design/icons-svg/es/asn/CheckCircleTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst CheckCircleTwoTone = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: CheckCircleTwoToneSvg\n}));\n\n/**![check-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIGZpbGw9IiMxNjc3ZmYiIC8+PHBhdGggZD0iTTUxMiAxNDBjLTIwNS40IDAtMzcyIDE2Ni42LTM3MiAzNzJzMTY2LjYgMzcyIDM3MiAzNzIgMzcyLTE2Ni42IDM3Mi0zNzItMTY2LjYtMzcyLTM3Mi0zNzJ6bTE5My40IDIyNS43bC0yMTAuNiAyOTJhMzEuOCAzMS44IDAgMDEtNTEuNyAwTDMxOC41IDQ4NC45Yy0zLjgtNS4zIDAtMTIuNyA2LjUtMTIuN2g0Ni45YzEwLjMgMCAxOS45IDUgMjUuOSAxMy4zbDcxLjIgOTguOCAxNTcuMi0yMThjNi04LjQgMTUuNy0xMy4zIDI1LjktMTMuM0g2OTljNi41IDAgMTAuMyA3LjQgNi40IDEyLjd6IiBmaWxsPSIjZTZmNGZmIiAvPjxwYXRoIGQ9Ik02OTkgMzUzaC00Ni45Yy0xMC4yIDAtMTkuOSA0LjktMjUuOSAxMy4zTDQ2OSA1ODQuM2wtNzEuMi05OC44Yy02LTguMy0xNS42LTEzLjMtMjUuOS0xMy4zSDMyNWMtNi41IDAtMTAuMyA3LjQtNi41IDEyLjdsMTI0LjYgMTcyLjhhMzEuOCAzMS44IDAgMDA1MS43IDBsMjEwLjYtMjkyYzMuOS01LjMuMS0xMi43LTYuNC0xMi43eiIgZmlsbD0iIzE2NzdmZiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(CheckCircleTwoTone);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CheckCircleTwoTone';\n}\nexport default RefIcon;"],"names":["UnitCrud","currentUserRole","getCurrentUserRole","isSuperAdmin","toLowerCase","unitConfig","useMemo","title","columns","dataIndex","key","render","isGlobal","_jsx","Tag","icon","CheckCircleTwoTone","twoToneColor","color","children","formItems","label","name","rules","required","message","component","Input","placeholder","valuePropName","Switch","checkedChildren","unCheckedChildren","defaultChecked","apiRoutes","getEntityApiRoutes","formColumns","canEdit","record","is_global","canDelete","GenericCrudPage","config","enableDynamicFields","entityName","primaryColor","secondaryColor","_extends","Object","assign","bind","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","props","ref","React","AntdIcon","CheckCircleTwoToneSvg"],"sourceRoot":""}