/*! For license information please see 9035.189ba19f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkSUBRIVA_BILLING=self.webpackChunkSUBRIVA_BILLING||[]).push([[9035],{60647:(e,t,n)=>{n.d(t,{A:()=>A});var o=n(65043),i=n(24255),a=n(98139),l=n.n(a),r=n(28678),s=n(18574),c=n(35296),d=n(36282),m=n(38046),p=n(98986),u=n(95206),y=n(64160),f=n(10370),g=n(76970),v=n(34382),b=n(78855);const h=(0,b.OF)("Popconfirm",(e=>(e=>{const{componentCls:t,iconCls:n,antCls:o,zIndexPopup:i,colorText:a,colorWarning:l,marginXXS:r,marginXS:s,fontSize:c,fontWeightStrong:d,colorTextHeading:m}=e;return{[t]:{zIndex:i,["&".concat(o,"-popover")]:{fontSize:c},["".concat(t,"-message")]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(t,"-message-icon ").concat(n)]:{color:l,fontSize:c,lineHeight:1,marginInlineEnd:s},["".concat(t,"-title")]:{fontWeight:d,color:m,"&:only-child":{fontWeight:"normal"}},["".concat(t,"-description")]:{marginTop:r,color:a}},["".concat(t,"-buttons")]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}})(e)),(e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}}),{resetStyle:!1});var x=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const C=e=>{const{prefixCls:t,okButtonProps:n,cancelButtonProps:a,title:l,description:r,cancelText:s,okText:d,okType:v="primary",icon:b=o.createElement(i.A,null),showCancel:h=!0,close:x,onConfirm:C,onCancel:O,onPopupClick:E}=e,{getPrefixCls:j}=o.useContext(c.QO),[A]=(0,f.A)("Popconfirm",g.A.Popconfirm),k=(0,p.b)(l),N=(0,p.b)(r);return o.createElement("div",{className:"".concat(t,"-inner-content"),onClick:E},o.createElement("div",{className:"".concat(t,"-message")},b&&o.createElement("span",{className:"".concat(t,"-message-icon")},b),o.createElement("div",{className:"".concat(t,"-message-text")},k&&o.createElement("div",{className:"".concat(t,"-title")},k),N&&o.createElement("div",{className:"".concat(t,"-description")},N))),o.createElement("div",{className:"".concat(t,"-buttons")},h&&o.createElement(u.Ay,Object.assign({onClick:O,size:"small"},a),s||(null===A||void 0===A?void 0:A.cancelText)),o.createElement(m.A,{buttonProps:Object.assign(Object.assign({size:"small"},(0,y.DU)(v)),n),actionFn:C,close:x,prefixCls:j("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},d||(null===A||void 0===A?void 0:A.okText))))},O=e=>{const{prefixCls:t,placement:n,className:i,style:a}=e,r=x(e,["prefixCls","placement","className","style"]),{getPrefixCls:s}=o.useContext(c.QO),d=s("popconfirm",t),[m]=h(d);return m(o.createElement(v.Ay,{placement:n,className:l()(d,i),style:a,content:o.createElement(C,Object.assign({prefixCls:d},r))}))};var E=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const j=o.forwardRef(((e,t)=>{var n,a;const{prefixCls:m,placement:p="top",trigger:u="click",okType:y="primary",icon:f=o.createElement(i.A,null),children:g,overlayClassName:v,onOpenChange:b,onVisibleChange:x,overlayStyle:O,styles:j,classNames:A}=e,k=E(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:N,className:S,style:P,classNames:I,styles:T}=(0,c.TP)("popconfirm"),[D,w]=(0,r.A)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(a=e.defaultOpen)&&void 0!==a?a:e.defaultVisible}),_=(e,t)=>{w(e,!0),null===x||void 0===x||x(e),null===b||void 0===b||b(e,t)},z=N("popconfirm",m),B=l()(z,S,v,I.root,null===A||void 0===A?void 0:A.root),F=l()(I.body,null===A||void 0===A?void 0:A.body),[V]=h(z);return V(o.createElement(d.A,Object.assign({},(0,s.A)(k,["title"]),{trigger:u,placement:p,onOpenChange:(t,n)=>{const{disabled:o=!1}=e;o||_(t,n)},open:D,ref:t,classNames:{root:B,body:F},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},T.root),P),O),null===j||void 0===j?void 0:j.root),body:Object.assign(Object.assign({},T.body),null===j||void 0===j?void 0:j.body)},content:o.createElement(C,Object.assign({okType:y,icon:f},e,{prefixCls:z,close:e=>{_(!1,e)},onConfirm:t=>{var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(void 0,t)},onCancel:t=>{var n;_(!1,t),null===(n=e.onCancel)||void 0===n||n.call(void 0,t)}})),"data-popover-inject":!0}),g))}));j._InternalPanelDoNotUseOrYouWillBeFired=O;const A=j},73847:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(65043),i=n(78500),a=n(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}const r=(e,t)=>o.createElement(a.A,l({},e,{ref:t,icon:i.A}));const s=o.forwardRef(r)},86559:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var o=n(65043),i=n(91686),a=n(70644),l=n(95206),r=n(73146),s=n(1045),c=n(98350),d=n(70579);const m=()=>{const{entityName:e,entityDef:t,loading:n,hasError:m,isEntityValid:p,dynamicApiRoutes:u,defaultColumns:y,goBack:f,goToEntityDefinitions:g}=(()=>{const{entityName:e}=(0,s.g)(),t=(0,s.Zp)(),[n,i]=(0,o.useState)(null),{data:a,isLoading:l,error:r,refetch:m}=c.lh.useGetEntityDefinitionQuery({entity_name:e},{skip:!e}),p=(0,o.useMemo)((()=>a?(null===a||void 0===a?void 0:a.result)||a:null),[a]),u=r||null;(0,o.useEffect)((()=>{const t=Array.isArray(p)?p:(null===p||void 0===p?void 0:p.result)||[];if(t&&Array.isArray(t)&&t.length>0&&e){const n=t.find((t=>t.entity_name===e));i(n||null)}}),[p,e]);const y=(0,o.useMemo)((()=>({identifier:"GetEntityDefinition",method:"POST",endpoint:"/entity_definition"})),[]),f=(0,o.useMemo)((()=>{if(!e)return null;const t="/".concat(e);return{get:{method:"POST",endpoint:t,identifier:"GetAll_".concat(e)},create:{method:"PUT",endpoint:t,identifier:"Add_".concat(e)},update:{method:"POST",endpoint:t,identifier:"Update_".concat(e)},delete:{method:"DELETE",endpoint:t,identifier:"Delete_".concat(e)}}}),[e]),g=(0,o.useMemo)((()=>[{title:"ID",dataIndex:"_id",key:"_id",render:e=>(0,d.jsxs)("span",{style:{fontFamily:"monospace",fontSize:"13px",fontWeight:500,color:"#1890ff"},children:[e.substring(0,8),"..."]})},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:e=>(0,d.jsx)("span",{style:{fontSize:"13px",color:"#666"},children:new Date(e).toLocaleDateString()})},{title:"Updated",dataIndex:"updatedAt",key:"updatedAt",render:e=>(0,d.jsx)("span",{style:{fontSize:"13px",color:"#666"},children:new Date(e).toLocaleDateString()})}]),[]),v=(0,o.useMemo)((()=>Boolean(n&&n.is_active)),[n]),b=(0,o.useMemo)((()=>u||!l&&!v),[u,l,v]),h=(0,o.useCallback)((()=>{t("/entities")}),[t]),x=(0,o.useCallback)((()=>{t("/entity-definitions")}),[t]);return{entityName:e,entityDef:n,loading:l,error:u,hasError:b,isEntityValid:v,dynamicApiRoutes:f,defaultColumns:g,fetchEntityDefinition:m,goBack:h,goToEntityDefinitions:x,entityDefRoute:y}})(),v=(0,o.useMemo)((()=>t&&e?{title:t.plural_name,entityName:e,columns:y,formItems:[],formColumns:2,drawerWidth:700,skipMetadataWrapping:!0,metadataFieldName:"custom_data",enableDynamicFields:!0,enableSuperAdminFilters:!0}:null),[t,e,y]),b=(0,o.useCallback)(((e,n)=>{t&&!n.entity_name&&(n.entity_name=t.entity_name)}),[t]);return n?(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,d.jsx)(i.A,{size:"large",tip:"Loading ".concat(e," definition...")})}):!m&&p&&v?(0,d.jsx)(r.r,{config:v,enableDynamicFields:!0,showDynamicColumnsInTable:!0,entityName:null===t||void 0===t?void 0:t.entity_name,enableSuperAdminFilters:!0,onValuesChange:b}):(0,d.jsx)(a.Ay,{status:"404",title:"Entity Not Found",subTitle:'The entity "'.concat(e,'" does not exist or is not active.'),extra:(0,d.jsxs)("div",{children:[(0,d.jsx)(l.Ay,{type:"primary",onClick:f,style:{marginRight:8},children:"Back to Entities"}),(0,d.jsx)(l.Ay,{onClick:g,children:"Manage Entity Definitions"})]})})}}}]);
//# sourceMappingURL=9035.189ba19f.chunk.js.map