{"version":3,"file":"static/js/108.5139e058.chunk.js","mappings":"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","sources":["webpack://SUBRIVA-BILLING/./src/pages/Settings/Settings.module.css?720b","pages/Settings/tabs/BusinessInfoTab.tsx","pages/Settings/tabs/TaxTab.tsx","pages/Settings/tabs/InvoiceTab.tsx","pages/Settings/tabs/PrinterTab.tsx","pages/Settings/tabs/DefaultsTab.tsx","pages/Settings/tabs/NotificationsTab.tsx","pages/Settings/tabs/TemplateSettingsTab.tsx","pages/Settings/tabs/BankDetailsTab.tsx","pages/Settings/tabs/PaymentQRTab.tsx","pages/Settings/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"settingsContainer\":\"Settings_settingsContainer__kj-pI\",\"pageHeader\":\"Settings_pageHeader__H4a97\",\"pageTitle\":\"Settings_pageTitle__TlV+s\",\"tabsCard\":\"Settings_tabsCard__P-nek\",\"sectionTitle\":\"Settings_sectionTitle__Vpoel\",\"settingsForm\":\"Settings_settingsForm__UU11S\",\"formSection\":\"Settings_formSection__eeShx\",\"uploadArea\":\"Settings_uploadArea__y7MC7\",\"logoPreview\":\"Settings_logoPreview__mTRGE\",\"formActions\":\"Settings_formActions__hSL8G\",\"infoBox\":\"Settings_infoBox__bNA9f\",\"successBox\":\"Settings_successBox__fy43A\",\"warningBox\":\"Settings_warningBox__53Aae\",\"taxRateInput\":\"Settings_taxRateInput__G9OMc\",\"printerTestButton\":\"Settings_printerTestButton__QyyS9\",\"defaultsGrid\":\"Settings_defaultsGrid__qu3mL\",\"notificationItem\":\"Settings_notificationItem__YwxfM\",\"notificationLabel\":\"Settings_notificationLabel__eRv69\",\"notificationTitle\":\"Settings_notificationTitle__xzsIM\",\"notificationDesc\":\"Settings_notificationDesc__JAi46\"};","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Input,\r\n  Select,\r\n  Space,\r\n  Divider,\r\n  Switch,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport {\r\n  ShopOutlined,\r\n  SaveOutlined,\r\n  FileProtectOutlined,\r\n  EnvironmentOutlined,\r\n  GlobalOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst businessTypes = [\r\n  { name: \"Supermarket / Grocery Store\" },\r\n  { name: \"Medical / Pharmacy\" },\r\n  { name: \"Hardware Store\" },\r\n  { name: \"Hardware and Electronics Store\" },\r\n  { name: \"Electronics Store\" },\r\n  { name: \"Stationery / Book Store\" },\r\n  { name: \"Clothing / Textile Store\" },\r\n  { name: \"Footwear Store\" },\r\n  { name: \"Bakery / Sweet Shop\" },\r\n  { name: \"Fruits & Vegetables Shop\" },\r\n  { name: \"Furniture Store\" },\r\n  { name: \"Automobile / Spare Parts\" },\r\n  { name: \"Mobile Accessories Store\" },\r\n  { name: \"Cosmetics / Beauty Store\" },\r\n  { name: \"Jewellery / Fancy Store\" },\r\n  { name: \"Pet Store\" },\r\n  { name: \"General Store\" },\r\n  { name: \"Wholesale Business\" },\r\n  { name: \"Computer & Laptop Store\" },\r\n  { name: \"Mobile And Laptop Store\" },\r\n  { name: \"Electrical Store\" },\r\n  { name: \"Restaurant / Café\" },\r\n];\r\n\r\nconst BusinessInfoTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <ShopOutlined />\r\n        Business Information\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Configure your business details, GST information, and address. This information will be displayed on invoices and bills.\r\n      </div>\r\n\r\n      <Divider>Basic Information</Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Organization Name\"\r\n            name=\"org_name\"\r\n            rules={[{ required: true, message: 'Please enter organization name!' }]}\r\n          >\r\n            <Input placeholder=\"Enter organization name\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Business Type\"\r\n            name=\"business_type\"\r\n            rules={[{ required: true, message: 'Please select business type!' }]}\r\n          >\r\n            <Select\r\n              placeholder=\"Select business type\"\r\n              showSearch\r\n              filterOption={(input, option) =>\r\n                (option?.label ?? '').toLowerCase().includes(input.toLowerCase())\r\n              }\r\n              options={businessTypes.map(type => ({\r\n                value: type.name,\r\n                label: type.name,\r\n              }))}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            rules={[\r\n              { required: true, message: 'Please enter email!' },\r\n              { type: 'email', message: 'Please enter a valid email!' },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"Enter email\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Phone\"\r\n            name=\"phone\"\r\n            rules={[{ required: true, message: 'Please enter phone number!' }]}\r\n          >\r\n            <Input placeholder=\"Enter phone number\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>\r\n        <FileProtectOutlined /> Tax & Legal Information\r\n      </Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"GST Number\"\r\n            name=\"gst_number\"\r\n            extra=\"15-digit GST identification number\"\r\n          >\r\n            <Input placeholder=\"e.g., 27AAPFU0939F1ZV\" maxLength={15} />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"PAN Number\"\r\n            name=\"pan_number\"\r\n            extra=\"10-character PAN\"\r\n          >\r\n            <Input placeholder=\"e.g., AAPFU0939F\" maxLength={10} style={{ textTransform: 'uppercase' }} />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>\r\n        <EnvironmentOutlined /> Address Information\r\n      </Divider>\r\n\r\n      <Form.Item\r\n        label=\"Address\"\r\n        name=\"address1\"\r\n      >\r\n        <TextArea placeholder=\"Enter complete address\" rows={3} />\r\n      </Form.Item>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={8}>\r\n          <Form.Item\r\n            label=\"City\"\r\n            name=\"city\"\r\n          >\r\n            <Input placeholder=\"Enter city\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={8}>\r\n          <Form.Item\r\n            label=\"State\"\r\n            name=\"state\"\r\n          >\r\n            <Input placeholder=\"Enter state\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={8}>\r\n          <Form.Item\r\n            label=\"Pincode\"\r\n            name=\"pincode\"\r\n          >\r\n            <Input placeholder=\"Enter pincode\" maxLength={6} />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>\r\n        <GlobalOutlined /> Additional Settings\r\n      </Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Currency\"\r\n            name=\"currency\"\r\n            extra=\"e.g., INR, USD, EUR\"\r\n          >\r\n            <Input placeholder=\"INR\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col xs={24} md={12}>\r\n          <Form.Item\r\n            label=\"Timezone\"\r\n            name=\"timezone\"\r\n            extra=\"e.g., Asia/Kolkata\"\r\n          >\r\n            <Input placeholder=\"Asia/Kolkata\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Organisation Status\"\r\n        name=\"status\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Enable or disable this organisation\"\r\n      >\r\n        <Switch checkedChildren=\"Active\" unCheckedChildren=\"Inactive\" />\r\n      </Form.Item>\r\n\r\n      <div className={styles.successBox}>\r\n        ✅ <strong>Note:</strong> This information is stored in your organisation profile and will be used across all invoices and reports.\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Business Information\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default BusinessInfoTab;\r\n\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  Select,\r\n  Space,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  PercentageOutlined,\r\n  SaveOutlined,\r\n  FileTextOutlined,\r\n} from '@ant-design/icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst TaxTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <PercentageOutlined />\r\n        Tax Configuration\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Global tax settings. Tax rates are configured per category, and tax inclusion is handled at billing level.\r\n      </div>\r\n\r\n      <Form.Item\r\n        label=\"Enable Tax/GST\"\r\n        name=\"tax_enabled\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Enable or disable tax calculation across the entire application\"\r\n      >\r\n        <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Tax Type\"\r\n        name=\"tax_type\"\r\n        extra=\"Select the type of tax applicable to your business\"\r\n      >\r\n        <Select>\r\n          <Option value=\"GST\">GST (India)</Option>\r\n          <Option value=\"VAT\">VAT</Option>\r\n          <Option value=\"Sales Tax\">Sales Tax</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Divider>Tax Rate Configuration</Divider>\r\n\r\n      <div className={styles.warningBox}>\r\n        ⚠️ <strong>Tax Rates:</strong> Configured individually for each product category.<br />\r\n        Go to <strong>Products → Category</strong> to set specific tax rates (e.g., Food: 5%, Electronics: 18%).\r\n      </div>\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%', marginTop: 16 }}>\r\n        <Button\r\n          type=\"dashed\"\r\n          icon={<PercentageOutlined />}\r\n          onClick={() => navigate('/category_crud')}\r\n          block\r\n        >\r\n          Go to Category Management\r\n        </Button>\r\n      </Space>\r\n\r\n      <Divider>Tax Inclusion</Divider>\r\n\r\n      <div className={styles.warningBox}>\r\n        ⚠️ <strong>Tax Inclusive/Exclusive:</strong> Handled at the billing level.<br />\r\n        You can choose tax inclusion per bill in the <strong>Billing Page</strong>.\r\n      </div>\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%', marginTop: 16 }}>\r\n        <Button\r\n          type=\"dashed\"\r\n          icon={<FileTextOutlined />}\r\n          onClick={() => navigate('/retaill_billing')}\r\n          block\r\n        >\r\n          Go to Billing Page\r\n        </Button>\r\n      </Space>\r\n\r\n      <Divider />\r\n\r\n      <div className={styles.successBox}>\r\n        ✅ <strong>Your Tax System Architecture:</strong><br />\r\n        • <strong>Global (Here):</strong> Enable/Disable tax & Tax type (GST/VAT)<br />\r\n        • <strong>Category Level:</strong> Tax rates per product category<br />\r\n        • <strong>Billing Level:</strong> Tax inclusive/exclusive per bill\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Tax Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default TaxTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Switch,\r\n  InputNumber,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  FileTextOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst InvoiceTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <FileTextOutlined />\r\n        Invoice Settings\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Customize how your invoices are generated and displayed\r\n      </div>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Invoice Prefix\"\r\n            name=\"invoice_prefix\"\r\n            rules={[{ required: true }]}\r\n            extra=\"e.g., INV, BILL, REC\"\r\n          >\r\n            <Input placeholder=\"INV\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Starting Invoice Number\"\r\n            name=\"invoice_starting_number\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <InputNumber min={1} style={{ width: '100%' }} />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Invoice Footer Text\"\r\n        name=\"invoice_footer\"\r\n        extra=\"This text will appear at the bottom of invoices\"\r\n      >\r\n        <TextArea\r\n          rows={3}\r\n          placeholder=\"Thank you for your business!\"\r\n        />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Terms & Conditions\"\r\n        name=\"invoice_terms\"\r\n      >\r\n        <TextArea\r\n          rows={4}\r\n          placeholder=\"Enter terms and conditions...\"\r\n        />\r\n      </Form.Item>\r\n\r\n      <Divider>Display Options</Divider>\r\n\r\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: '100%' }}>\r\n        <Form.Item\r\n          label=\"Show Logo on Invoice\"\r\n          name=\"show_logo_on_invoice\"\r\n          valuePropName=\"checked\"\r\n        >\r\n          <Switch />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Show Terms & Conditions on Invoice\"\r\n          name=\"show_terms_on_invoice\"\r\n          valuePropName=\"checked\"\r\n        >\r\n          <Switch />\r\n        </Form.Item>\r\n      </Space>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Invoice Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default InvoiceTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  Select,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport {\r\n  PrinterOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { PrinterTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst PrinterTab: React.FC<PrinterTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n  onTestPrinter,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <PrinterOutlined />\r\n        Thermal Printer Configuration\r\n      </div>\r\n\r\n      <div className={styles.warningBox}>\r\n        ⚠️ Make sure your thermal printer is connected before testing\r\n      </div>\r\n\r\n      <Form.Item\r\n        label=\"Enable Thermal Printer\"\r\n        name=\"thermal_printer_enabled\"\r\n        valuePropName=\"checked\"\r\n      >\r\n        <Switch />\r\n      </Form.Item>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Printer Port\"\r\n            name=\"printer_port\"\r\n          >\r\n            <Select>\r\n              <Option value=\"COM1\">COM1</Option>\r\n              <Option value=\"COM2\">COM2</Option>\r\n              <Option value=\"COM3\">COM3</Option>\r\n              <Option value=\"USB\">USB</Option>\r\n              <Option value=\"Bluetooth\">Bluetooth</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Baud Rate\"\r\n            name=\"printer_baud_rate\"\r\n          >\r\n            <Select>\r\n              <Option value={9600}>9600</Option>\r\n              <Option value={19200}>19200</Option>\r\n              <Option value={38400}>38400</Option>\r\n              <Option value={115200}>115200</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Paper Width (mm)\"\r\n            name=\"paper_width\"\r\n          >\r\n            <Select>\r\n              <Option value={58}>58mm (2 inch)</Option>\r\n              <Option value={80}>80mm (3 inch)</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form.Item\r\n        label=\"Auto Print After Bill\"\r\n        name=\"auto_print\"\r\n        valuePropName=\"checked\"\r\n      >\r\n        <Switch />\r\n      </Form.Item>\r\n\r\n      <Button\r\n        type=\"dashed\"\r\n        icon={<PrinterOutlined />}\r\n        onClick={onTestPrinter}\r\n        className={styles.printerTestButton}\r\n      >\r\n        Test Printer\r\n      </Button>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Printer Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default PrinterTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Select,\r\n} from 'antd';\r\nimport {\r\n  CheckCircleOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { DefaultsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst DefaultsTab: React.FC<DefaultsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <CheckCircleOutlined />\r\n        Default Values\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        These values will be pre-selected when creating new records\r\n      </div>\r\n\r\n      <div className={styles.defaultsGrid}>\r\n        <Form.Item\r\n          label=\"Default Payment Mode\"\r\n          name=\"default_payment_mode\"\r\n          extra=\"Pre-selected payment method for new bills\"\r\n        >\r\n          <Select placeholder=\"Select default payment mode\">\r\n            <Option value=\"cash\">💵 Cash</Option>\r\n            <Option value=\"upi\">📱 UPI</Option>\r\n            <Option value=\"card\">💳 Card</Option>\r\n            <Option value=\"credit\">📝 Credit</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Default Document Print Type\"\r\n          name=\"default_document_type\"\r\n          extra=\"Default print format when creating new bills\"\r\n        >\r\n          <Select placeholder=\"Select default document type\">\r\n            <Option value=\"bill\">🧾 Bill (Retail / Quick)</Option>\r\n            <Option value=\"invoice\">📋 Invoice (Formal / Detailed)</Option>\r\n          </Select>\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Default Values\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default DefaultsTab;\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Switch,\r\n  InputNumber,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  BellOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst NotificationsTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <BellOutlined />\r\n        Notification Preferences\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Control how and when you receive notifications\r\n      </div>\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Email Notifications</div>\r\n          <div className={styles.notificationDesc}>\r\n            Receive notifications via email\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"email_notifications\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>SMS Notifications</div>\r\n          <div className={styles.notificationDesc}>\r\n            Receive notifications via SMS\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"sms_notifications\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Low Stock Alerts</div>\r\n          <div className={styles.notificationDesc}>\r\n            Get notified when product stock is low\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"low_stock_alert\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <Form.Item\r\n        label=\"Low Stock Threshold\"\r\n        name=\"low_stock_threshold\"\r\n        extra=\"Notify when stock goes below this quantity\"\r\n      >\r\n        <InputNumber min={0} style={{ width: 200 }} />\r\n      </Form.Item>\r\n\r\n      <Divider />\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Payment Reminders</div>\r\n          <div className={styles.notificationDesc}>\r\n            Send reminders for pending payments\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"payment_reminder\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.notificationItem}>\r\n        <div className={styles.notificationLabel}>\r\n          <div className={styles.notificationTitle}>Daily Report Email</div>\r\n          <div className={styles.notificationDesc}>\r\n            Receive daily sales report via email\r\n          </div>\r\n        </div>\r\n        <Form.Item name=\"daily_report_email\" valuePropName=\"checked\" noStyle>\r\n          <Switch />\r\n        </Form.Item>\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Notification Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default NotificationsTab;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Divider,\r\n  Modal,\r\n  Card,\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\nimport {\r\n  FileTextOutlined,\r\n  SaveOutlined,\r\n  EyeOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\nimport { billTemplates, invoiceTemplates, BillTemplateKey, InvoiceTemplateKey } from '../../RetaillBill/templates/registry';\r\nimport { useUser } from '../../../components/antd/UserContext';\r\n\r\nconst TemplateSettingsTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const userItem = useUser();\r\n  const [previewKey, setPreviewKey] = useState<string | null>(null);\r\n  const [previewType, setPreviewType] = useState<'bill' | 'invoice'>('bill');\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  const billTemplate = Form.useWatch('bill_template', form);\r\n  const invoiceTemplate = Form.useWatch('invoice_template', form);\r\n\r\n  // Generate preview data using actual organization info\r\n  const getPreviewData = () => ({\r\n    customerName: 'Sample Customer',\r\n    customerAddress: 'Sample Address, City',\r\n    customerPhone: '+91 9999999999',\r\n    customerEmail: 'customer@example.com',\r\n    date: new Date().toISOString(),\r\n    invoice_no: 'PREVIEW-001',\r\n    payment_mode: 'Cash',\r\n    items: [\r\n      { \r\n        name: 'Sample Product 1', \r\n        product_name: 'Sample Product 1',\r\n        qty: 2, \r\n        price: 100, \r\n        amount: 200,\r\n        tax_percentage: 18,\r\n        hsn_code: '1234',\r\n        mrp: 120,\r\n        unit: 'Pcs'\r\n      },\r\n      { \r\n        name: 'Sample Product 2', \r\n        product_name: 'Sample Product 2',\r\n        qty: 1, \r\n        price: 150, \r\n        amount: 150,\r\n        tax_percentage: 18,\r\n        hsn_code: '5678',\r\n        mrp: 180,\r\n        unit: 'Pcs'\r\n      },\r\n    ],\r\n    total: 350,\r\n    total_gst: 63,\r\n    cgst: 31.5,\r\n    sgst: 31.5,\r\n    discount: 0,\r\n    discount_type: 'percentage',\r\n    is_paid: true,\r\n    is_partially_paid: false,\r\n    paid_amount: 350,\r\n  });\r\n\r\n  const handlePreview = (key: string, type: 'bill' | 'invoice') => {\r\n    setPreviewKey(key);\r\n    setPreviewType(type);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleUseTemplate = () => {\r\n    if (previewKey) {\r\n      if (previewType === 'bill') {\r\n        form.setFieldValue('bill_template', previewKey);\r\n      } else {\r\n        form.setFieldValue('invoice_template', previewKey);\r\n      }\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n    setPreviewKey(null);\r\n  };\r\n\r\n  const renderTemplateSelector = (\r\n    type: 'bill' | 'invoice',\r\n    selectedKey: string,\r\n    fieldName: string\r\n  ) => {\r\n    const templates = type === 'bill' ? billTemplates : invoiceTemplates;\r\n    \r\n    return (\r\n      <Row gutter={[16, 16]}>\r\n        {Object.entries(templates).map(([key, tpl]) => {\r\n          const isSelected = selectedKey === key;\r\n\r\n          return (\r\n            <Col xs={24} sm={12} md={8} lg={6} key={key}>\r\n              <Card\r\n                hoverable\r\n                style={{\r\n                  border: isSelected ? '2px solid #4e54c8' : '1px solid #eee',\r\n                  borderRadius: 12,\r\n                  boxShadow: isSelected\r\n                    ? '0 4px 16px #4e54c855'\r\n                    : '0 2px 8px rgba(0,0,0,0.06)',\r\n                  background: isSelected\r\n                    ? 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'\r\n                    : '#fff',\r\n                  textAlign: 'center',\r\n                  transition: 'all 0.3s',\r\n                }}\r\n                onClick={() => form.setFieldValue(fieldName, key)}\r\n                bodyStyle={{ padding: 16 }}\r\n              >\r\n                {/* Miniature preview */}\r\n                <div\r\n                  style={{\r\n                    width: '100%',\r\n                    height: 120,\r\n                    overflow: 'hidden',\r\n                    borderRadius: 8,\r\n                    boxShadow: '0 1px 4px rgba(0,0,0,0.07)',\r\n                    background: '#fff',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    border: '1px solid #e0e0e0',\r\n                    marginBottom: 12,\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: 750,\r\n                      height: 400,\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      transform: 'scale(0.22)',\r\n                      transformOrigin: 'center center',\r\n                    pointerEvents: 'none',\r\n                  }}\r\n                >\r\n                  <tpl.component billData={getPreviewData()} />\r\n                </div>\r\n                </div>\r\n\r\n                <div\r\n                  style={{\r\n                    fontWeight: 600,\r\n                    fontSize: 16,\r\n                    marginBottom: 4,\r\n                    color: isSelected ? '#4e54c8' : '#333',\r\n                  }}\r\n                >\r\n                  {tpl.label}\r\n                </div>\r\n                \r\n                <div\r\n                  style={{\r\n                    fontSize: 12,\r\n                    color: '#666',\r\n                    marginBottom: 8,\r\n                  }}\r\n                >\r\n                  {tpl.description}\r\n                </div>\r\n\r\n                {isSelected && (\r\n                  <div\r\n                    style={{\r\n                      color: '#4e54c8',\r\n                      fontWeight: 500,\r\n                      fontSize: 12,\r\n                      marginBottom: 8,\r\n                    }}\r\n                  >\r\n                    ✓ Selected\r\n                  </div>\r\n                )}\r\n\r\n                <Button\r\n                  type=\"primary\"\r\n                  ghost\r\n                  size=\"small\"\r\n                  icon={<EyeOutlined />}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handlePreview(key, type);\r\n                  }}\r\n                >\r\n                  Preview\r\n                </Button>\r\n              </Card>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n        <div className={styles.sectionTitle}>\r\n          <FileTextOutlined />\r\n          Template Settings\r\n        </div>\r\n\r\n        <div className={styles.infoBox}>\r\n          Select your preferred templates for bills and invoices. These templates will be used when printing or generating PDFs.\r\n        </div>\r\n\r\n        <Divider>Bill Template (For Quick Sales / Retail)</Divider>\r\n\r\n        <div className={styles.successBox}>\r\n          📄 <strong>Bill Template:</strong> Used for quick retail sales and POS billing\r\n        </div>\r\n\r\n        <Form.Item name=\"bill_template\">\r\n          {renderTemplateSelector('bill', billTemplate, 'bill_template')}\r\n        </Form.Item>\r\n\r\n        <Divider>Invoice Template (For Formal Invoices)</Divider>\r\n\r\n        <div className={styles.successBox}>\r\n          📋 <strong>Invoice Template:</strong> Used for formal invoices with detailed information\r\n        </div>\r\n\r\n        <Form.Item name=\"invoice_template\">\r\n          {renderTemplateSelector('invoice', invoiceTemplate, 'invoice_template')}\r\n        </Form.Item>\r\n\r\n        <div className={styles.warningBox}>\r\n          💡 <strong>Tip:</strong> You can preview each template before selecting. Click the template card to select it, or click \"Preview\" for a full-size view.\r\n        </div>\r\n\r\n        <div className={styles.formActions}>\r\n          <Button onClick={onReset}>Reset</Button>\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<SaveOutlined />}\r\n            onClick={onSave}\r\n            loading={loading}\r\n          >\r\n            Save Template Settings\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n\r\n      {/* Preview Modal */}\r\n      <Modal\r\n        open={modalOpen}\r\n        onCancel={closeModal}\r\n        footer={[\r\n          <Button key=\"use\" type=\"primary\" onClick={handleUseTemplate}>\r\n            Use this template\r\n          </Button>,\r\n          <Button key=\"close\" onClick={closeModal}>\r\n            Close\r\n          </Button>,\r\n        ]}\r\n        width={800}\r\n        title={\r\n          previewKey\r\n            ? `${previewType === 'bill' ? billTemplates[previewKey as BillTemplateKey]?.label : invoiceTemplates[previewKey as InvoiceTemplateKey]?.label} Preview`\r\n            : ''\r\n        }\r\n        centered\r\n        destroyOnClose\r\n      >\r\n        {previewKey && (\r\n          <div\r\n            style={{\r\n              background: '#fafafa',\r\n              borderRadius: 12,\r\n              padding: 16,\r\n              minHeight: 300,\r\n            }}\r\n          >\r\n            {React.createElement(\r\n              previewType === 'bill' \r\n                ? billTemplates[previewKey as BillTemplateKey].component \r\n                : invoiceTemplates[previewKey as InvoiceTemplateKey].component,\r\n              { billData: getPreviewData() }\r\n            )}\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TemplateSettingsTab;\r\n\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Select,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  BankOutlined,\r\n  SaveOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\n\r\nconst { Option } = Select;\r\n\r\nconst BankDetailsTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <BankOutlined />\r\n        Bank Account Details\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        Add your bank account details to display on invoices and bills\r\n      </div>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Bank Name\"\r\n            name=\"bank_name\"\r\n            extra=\"e.g., State Bank of India, HDFC Bank\"\r\n          >\r\n            <Input placeholder=\"Enter bank name\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Account Holder Name\"\r\n            name=\"account_holder_name\"\r\n            extra=\"Name as per bank records\"\r\n          >\r\n            <Input placeholder=\"Enter account holder name\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Account Number\"\r\n            name=\"account_number\"\r\n          >\r\n            <Input placeholder=\"Enter account number\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Account Type\"\r\n            name=\"account_type\"\r\n          >\r\n            <Select placeholder=\"Select account type\">\r\n              <Option value=\"savings\">Savings Account</Option>\r\n              <Option value=\"current\">Current Account</Option>\r\n              <Option value=\"overdraft\">Overdraft Account</Option>\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>Bank Branch Information</Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"IFSC Code\"\r\n            name=\"ifsc_code\"\r\n            extra=\"11-digit code for bank branch\"\r\n          >\r\n            <Input \r\n              placeholder=\"e.g., SBIN0001234\" \r\n              maxLength={11}\r\n              style={{ textTransform: 'uppercase' }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Branch Name\"\r\n            name=\"branch_name\"\r\n          >\r\n            <Input placeholder=\"Enter branch name\" />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>Digital Payment Details</Divider>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"UPI ID\"\r\n            name=\"upi_id\"\r\n            extra=\"For digital payments (e.g., yourname@upi)\"\r\n          >\r\n            <Input placeholder=\"Enter UPI ID\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"SWIFT Code\"\r\n            name=\"swift_code\"\r\n            extra=\"For international transactions (optional)\"\r\n          >\r\n            <Input \r\n              placeholder=\"e.g., SBININBB123\"\r\n              maxLength={11}\r\n              style={{ textTransform: 'uppercase' }}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <div className={styles.warningBox}>\r\n        💡 <strong>Note:</strong> Bank details will be displayed on printed invoices and bills. Ensure all information is accurate.\r\n      </div>\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save Bank Details\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default BankDetailsTab;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Switch,\r\n  Select,\r\n  Slider,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n  Card,\r\n  Alert,\r\n  Typography,\r\n  Space,\r\n} from 'antd';\r\nimport {\r\n  QrcodeOutlined,\r\n  SaveOutlined,\r\n  CheckCircleOutlined,\r\n  InfoCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../Settings.module.css';\r\nimport { SettingsTabProps } from './types';\r\nimport { \r\n  generateUPIQRCode, \r\n  isValidUPIId, \r\n  getUPIAppInfo \r\n} from '../../../helpers/upiPayment';\r\n\r\nconst { Option } = Select;\r\nconst { Text, Title, Paragraph } = Typography;\r\n\r\nconst PaymentQRTab: React.FC<SettingsTabProps> = ({\r\n  form,\r\n  loading,\r\n  onSave,\r\n  onReset,\r\n}) => {\r\n  const [qrCodePreview, setQrCodePreview] = useState<string>('');\r\n  const [upiValid, setUpiValid] = useState<boolean>(false);\r\n  const [upiAppInfo, setUpiAppInfo] = useState<{ provider: string; appName: string } | null>(null);\r\n  \r\n  // Watch form values for real-time QR preview\r\n  const upiId = Form.useWatch('upi_id', form);\r\n  const enablePaymentQr = Form.useWatch('enable_payment_qr', form);\r\n  const qrSize = Form.useWatch('qr_size', form) || 200;\r\n\r\n  // Generate QR code preview when UPI ID changes\r\n  useEffect(() => {\r\n    const generatePreview = async () => {\r\n      if (!upiId || !isValidUPIId(upiId)) {\r\n        setQrCodePreview('');\r\n        setUpiValid(false);\r\n        setUpiAppInfo(null);\r\n        return;\r\n      }\r\n\r\n      setUpiValid(true);\r\n      setUpiAppInfo(getUPIAppInfo(upiId));\r\n\r\n      try {\r\n        // Get organization name from form or use default\r\n        const orgName = form.getFieldValue('org_name') || 'Your Business';\r\n        \r\n        const qrCode = await generateUPIQRCode({\r\n          upiId: upiId,\r\n          payeeName: orgName,\r\n          transactionNote: 'Payment for Invoice',\r\n        }, {\r\n          width: qrSize,\r\n        });\r\n        \r\n        setQrCodePreview(qrCode);\r\n      } catch (error) {\r\n        console.error('Error generating QR preview:', error);\r\n        setQrCodePreview('');\r\n      }\r\n    };\r\n\r\n    generatePreview();\r\n  }, [upiId, qrSize, form]);\r\n\r\n  return (\r\n    <Form form={form} layout=\"vertical\" className={styles.settingsForm}>\r\n      <div className={styles.sectionTitle}>\r\n        <QrcodeOutlined />\r\n        Payment QR Code Settings\r\n      </div>\r\n\r\n      <div className={styles.infoBox}>\r\n        <Space direction=\"vertical\" size=\"small\">\r\n          <Text>\r\n            <InfoCircleOutlined /> Enable UPI QR codes on your invoices and bills for instant digital payments\r\n          </Text>\r\n          <Text type=\"secondary\" style={{ fontSize: '12px' }}>\r\n            Customers can scan the QR code with Google Pay, PhonePe, Paytm, or any UPI app\r\n          </Text>\r\n        </Space>\r\n      </div>\r\n\r\n      {/* Enable Payment QR */}\r\n      <Form.Item\r\n        label=\"Enable Payment QR Code\"\r\n        name=\"enable_payment_qr\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Show UPI payment QR code on invoices and bills\"\r\n      >\r\n        <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\r\n      </Form.Item>\r\n\r\n      {/* UPI ID Field */}\r\n      <Row gutter={16}>\r\n        <Col span={24}>\r\n          <Form.Item\r\n            label=\"UPI ID\"\r\n            name=\"upi_id\"\r\n            rules={[\r\n              {\r\n                validator: (_, value) => {\r\n                  if (!value) {\r\n                    return Promise.reject('Please enter your UPI ID');\r\n                  }\r\n                  if (!isValidUPIId(value)) {\r\n                    return Promise.reject('Invalid UPI ID format (e.g., 1234567890@ybl)');\r\n                  }\r\n                  return Promise.resolve();\r\n                },\r\n              },\r\n            ]}\r\n            extra=\"Your UPI ID for receiving payments (e.g., 1234567890@ybl)\"\r\n          >\r\n            <Input \r\n              placeholder=\"yourname@upi or phonenumber@ybl\" \r\n              suffix={\r\n                upiValid ? (\r\n                  <CheckCircleOutlined style={{ color: '#52c41a' }} />\r\n                ) : null\r\n              }\r\n            />\r\n          </Form.Item>\r\n          \r\n          {/* Show UPI Provider Info */}\r\n          {upiAppInfo && (\r\n            <Alert\r\n              message={`UPI Provider: ${upiAppInfo.provider}`}\r\n              description={`Compatible with: ${upiAppInfo.appName}`}\r\n              type=\"info\"\r\n              showIcon\r\n              style={{ marginBottom: 16 }}\r\n            />\r\n          )}\r\n        </Col>\r\n      </Row>\r\n\r\n      <Divider>QR Code Display Options</Divider>\r\n\r\n      {/* Display Options */}\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Show on Invoices\"\r\n            name=\"qr_on_invoice\"\r\n            valuePropName=\"checked\"\r\n            extra=\"Display QR code on formal invoices\"\r\n          >\r\n            <Switch \r\n              checkedChildren=\"Yes\" \r\n              unCheckedChildren=\"No\"\r\n              disabled={!enablePaymentQr}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        <Col span={12}>\r\n          <Form.Item\r\n            label=\"Show on Bills\"\r\n            name=\"qr_on_bill\"\r\n            valuePropName=\"checked\"\r\n            extra=\"Display QR code on retail bills\"\r\n          >\r\n            <Switch \r\n              checkedChildren=\"Yes\" \r\n              unCheckedChildren=\"No\"\r\n              disabled={!enablePaymentQr}\r\n            />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* QR Code Size */}\r\n      <Form.Item\r\n        label={`QR Code Size: ${qrSize}px`}\r\n        name=\"qr_size\"\r\n        extra=\"Size of the QR code on printed documents\"\r\n      >\r\n        <Slider\r\n          min={100}\r\n          max={300}\r\n          step={10}\r\n          marks={{\r\n            100: '100px',\r\n            150: '150px',\r\n            200: '200px',\r\n            250: '250px',\r\n            300: '300px',\r\n          }}\r\n          disabled={!enablePaymentQr}\r\n        />\r\n      </Form.Item>\r\n\r\n      {/* QR Position */}\r\n      <Form.Item\r\n        label=\"QR Code Position\"\r\n        name=\"qr_position\"\r\n        extra=\"Where to place the QR code on the document\"\r\n      >\r\n        <Select disabled={!enablePaymentQr}>\r\n          <Option value=\"bottom-right\">Bottom Right</Option>\r\n          <Option value=\"bottom-left\">Bottom Left</Option>\r\n          <Option value=\"top-right\">Top Right (Header)</Option>\r\n          <Option value=\"footer\">Footer Center</Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      {/* Show UPI ID Text */}\r\n      <Form.Item\r\n        label=\"Show UPI ID Text\"\r\n        name=\"show_upi_id_text\"\r\n        valuePropName=\"checked\"\r\n        extra=\"Display UPI ID below the QR code for manual entry\"\r\n      >\r\n        <Switch \r\n          checkedChildren=\"Show\" \r\n          unCheckedChildren=\"Hide\"\r\n          disabled={!enablePaymentQr}\r\n        />\r\n      </Form.Item>\r\n\r\n      <Divider>QR Code Preview</Divider>\r\n\r\n      {/* QR Code Preview */}\r\n      <Card \r\n        title=\"Live Preview\" \r\n        bordered={false}\r\n        style={{ background: '#fafafa', marginBottom: 24 }}\r\n      >\r\n        {qrCodePreview ? (\r\n          <div style={{ textAlign: 'center' }}>\r\n            <img \r\n              src={qrCodePreview} \r\n              alt=\"UPI QR Code Preview\" \r\n              style={{ \r\n                maxWidth: '100%',\r\n                border: '2px solid #d9d9d9',\r\n                padding: 8,\r\n                background: '#fff',\r\n                borderRadius: 8,\r\n              }}\r\n            />\r\n            {form.getFieldValue('show_upi_id_text') && (\r\n              <div style={{ marginTop: 12 }}>\r\n                <Text strong>UPI ID: </Text>\r\n                <Text code>{upiId}</Text>\r\n              </div>\r\n            )}\r\n            <Paragraph type=\"secondary\" style={{ marginTop: 12, fontSize: '12px' }}>\r\n              Scan this QR code with any UPI app to make payment\r\n            </Paragraph>\r\n          </div>\r\n        ) : (\r\n          <div style={{ textAlign: 'center', padding: '40px 20px' }}>\r\n            <QrcodeOutlined style={{ fontSize: 64, color: '#d9d9d9' }} />\r\n            <Paragraph type=\"secondary\" style={{ marginTop: 12 }}>\r\n              {upiId ? 'Generating QR code...' : 'Enter a valid UPI ID to see preview'}\r\n            </Paragraph>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Instructions */}\r\n      <div className={styles.warningBox}>\r\n        <Title level={5} style={{ marginTop: 0 }}>\r\n          📱 How Customers Will Pay:\r\n        </Title>\r\n        <ol style={{ marginBottom: 0, paddingLeft: 20 }}>\r\n          <li>Customer opens Google Pay, PhonePe, Paytm, or any UPI app</li>\r\n          <li>Taps on \"Scan QR Code\" or \"Pay by QR\"</li>\r\n          <li>Scans the QR code printed on your invoice/bill</li>\r\n          <li>Verifies amount and completes payment</li>\r\n          <li>Payment instantly credited to your account</li>\r\n        </ol>\r\n      </div>\r\n\r\n      <Alert\r\n        message=\"Pro Tip\"\r\n        description=\"For best results, ensure your QR code is at least 150px in size and printed with high contrast (black on white background).\"\r\n        type=\"info\"\r\n        showIcon\r\n        style={{ marginTop: 16 }}\r\n      />\r\n\r\n      <div className={styles.formActions}>\r\n        <Button onClick={onReset}>Reset</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<SaveOutlined />}\r\n          onClick={onSave}\r\n          loading={loading}\r\n        >\r\n          Save QR Settings\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default PaymentQRTab;\r\n\r\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport {\r\n  Card,\r\n  Tabs,\r\n  Form,\r\n  Select,\r\n  message,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n} from 'antd';\r\nimport {\r\n  SettingOutlined,\r\n  PercentageOutlined,\r\n  FileTextOutlined,\r\n  PrinterOutlined,\r\n  CheckCircleOutlined,\r\n  BellOutlined,\r\n  ShopOutlined,\r\n  BankOutlined,\r\n  QrcodeOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from './Settings.module.css';\r\nimport { apiSlice } from '../../services/redux/api/apiSlice';\r\nimport { getCurrentUser } from '../../helpers/auth';\r\nimport SessionStorageEncryption from '../../helpers/encryption';\r\nimport {\r\n  BusinessInfoTab,\r\n  TaxTab,\r\n  InvoiceTab,\r\n  PrinterTab,\r\n  DefaultsTab,\r\n  NotificationsTab,\r\n  TemplateSettingsTab,\r\n  BankDetailsTab,\r\n  PaymentQRTab,\r\n} from './tabs';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Option } = Select;\r\n\r\n// Helper function to populate organisation form data\r\nconst populateOrganisationForm = (form: any, orgData: any) => {\r\n  if (!orgData) return;\r\n  \r\n  form.setFieldsValue({\r\n    org_name: orgData.org_name || orgData.organization_name || orgData.name,\r\n    business_type: orgData.business_type,\r\n    email: orgData.email,\r\n    phone: orgData.phone,\r\n    gst_number: orgData.gst_number,\r\n    pan_number: orgData.pan_number,\r\n    address1: orgData.address1 || orgData.address,\r\n    city: orgData.city,\r\n    state: orgData.state,\r\n    pincode: orgData.pincode,\r\n    currency: orgData.currency,\r\n    timezone: orgData.timezone,\r\n    status: orgData.status !== false,\r\n  });\r\n};\r\n\r\nconst Settings: React.FC = () => {\r\n  const [form] = Form.useForm();\r\n  const [businessForm] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [businessLoading, setBusinessLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('business');\r\n  const [selectedTenant, setSelectedTenant] = useState<string>('all');\r\n  const [selectedOrganisation, setSelectedOrganisation] = useState<string>('all');\r\n\r\n  // Get user info with memoization\r\n  const userItem = useMemo(() => getCurrentUser(), []);\r\n  \r\n  // Get user role with memoization to prevent unnecessary recalculations\r\n  const { userRole, isSuperAdmin, isTenant, isOrganisationUser, isBranchUser } = useMemo(() => {\r\n    const scopeData = SessionStorageEncryption.getItem('scope');\r\n    const role = scopeData?.userType || userItem?.user_type || userItem?.usertype || userItem?.user_role || '';\r\n    return {\r\n      userRole: role,\r\n      isSuperAdmin: role.toLowerCase() === 'superadmin',\r\n      isTenant: role.toLowerCase() === 'tenant',\r\n      isOrganisationUser: role.toLowerCase() === 'organisationuser',\r\n      isBranchUser: role.toLowerCase() === 'branchuser'\r\n    };\r\n  }, [userItem]);\r\n\r\n  // Use RTK Query for data fetching\r\n  const { data: tenantsData } = apiSlice.useGetTenantAccountsQuery({}, { skip: !isSuperAdmin });\r\n  \r\n  // For SuperAdmin: Filter organisations by selected tenant\r\n  // For Tenant: Load all organisations (they will be filtered by tenant_id on backend)\r\n  // For OrganisationUser/BranchUser: Load their specific organisation\r\n  const organisationsQueryParams = useMemo(() => {\r\n    if (isSuperAdmin && selectedTenant && selectedTenant !== 'all') {\r\n      return { tenant_id: selectedTenant };\r\n    }\r\n    if (isOrganisationUser || isBranchUser) {\r\n      const organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      if (organisationId) {\r\n        return { organisation_id: organisationId };\r\n      }\r\n    }\r\n    return {};\r\n  }, [isSuperAdmin, selectedTenant, isOrganisationUser, isBranchUser, userItem]);\r\n  \r\n  const { data: organisationsData } = apiSlice.useGetOrganisationsQuery(\r\n    organisationsQueryParams,\r\n    { skip: !isTenant && !isSuperAdmin && !isOrganisationUser && !isBranchUser }\r\n  );\r\n  \r\n  // For Settings by ID, we'll use RTK Query with skip option\r\n  const [selectedSettingsId, setSelectedSettingsId] = useState<string | null>(null);\r\n  \r\n  // Determine if settings API should be skipped\r\n  const shouldSkipSettings = useMemo(() => {\r\n    if (!selectedSettingsId || selectedSettingsId === 'all') return true;\r\n    if (isOrganisationUser || isBranchUser) return false;\r\n    if (isSuperAdmin) return !selectedTenant || selectedTenant === 'all';\r\n    if (isTenant) return false;\r\n    return true;\r\n  }, [selectedSettingsId, isSuperAdmin, isTenant, isOrganisationUser, isBranchUser, selectedTenant]);\r\n\r\n  // Fetch settings using GetAll with organisation_id filter\r\n  const { data: settingsData, refetch: refetchSettings } = apiSlice.useGetSettingsQuery(\r\n    { organisation_id: selectedSettingsId, page: 1, limit: 10 },\r\n    { \r\n      skip: shouldSkipSettings || !selectedSettingsId,\r\n      refetchOnMountOrArgChange: true\r\n    }\r\n  );\r\n  \r\n  // Use RTK Query mutations\r\n  const [updateSettings] = apiSlice.useUpdateSettingsMutation();\r\n  const [createSettings] = apiSlice.useCreateSettingsMutation();\r\n  const [updateOrganisation] = apiSlice.useUpdateOrganisationsMutation();\r\n\r\n  const tenantsItems = (tenantsData as any)?.result || [];\r\n  const organisationsItems = (organisationsData as any)?.result || [];\r\n\r\n  // Get selected organisation data from already-loaded dropdown data\r\n  const selectedOrganisationData = useMemo(() => {\r\n    if (!selectedSettingsId || selectedSettingsId === 'all') return null;\r\n    return organisationsItems?.find((item: any) => item._id === selectedSettingsId) || null;\r\n  }, [selectedSettingsId, organisationsItems]);\r\n\r\n  // Load settings on mount - only for organisation/branch users\r\n  useEffect(() => {\r\n    if ((isOrganisationUser || isBranchUser) && !selectedSettingsId) {\r\n      const organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      if (organisationId) {\r\n        setSelectedSettingsId(organisationId);\r\n        // Populate business form with user's organisation data\r\n        populateOrganisationForm(businessForm, userItem?.organisationItems);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Handle tenant selection change - fetch organisations for selected tenant\r\n  const handleTenantChange = useCallback((tenantId: string) => {\r\n    setSelectedTenant(tenantId || 'all');\r\n    setSelectedOrganisation('all'); // Clear organisation selection\r\n    setSelectedSettingsId(null); // Clear settings when tenant changes\r\n    form.resetFields(); // Reset settings form when tenant changes\r\n    businessForm.resetFields(); // Reset business form when tenant changes\r\n    \r\n    if (tenantId && tenantId !== 'all') {\r\n      // RTK Query will refetch with new filters when tenant changes\r\n      // Organisations are filtered by tenant_id on backend\r\n    }\r\n    // If \"all\" or cleared, don't fetch organisations (keep dropdown disabled)\r\n  }, [form, businessForm]);\r\n\r\n  // Handle organisation selection change\r\n  const handleOrganisationChange = useCallback((organisationId: string) => {\r\n    setSelectedOrganisation(organisationId || 'all');\r\n    \r\n    if (organisationId && organisationId !== 'all') {\r\n      // For SuperAdmin: Only proceed if tenant is selected\r\n      if (isSuperAdmin && (!selectedTenant || selectedTenant === 'all')) {\r\n        setSelectedSettingsId(null);\r\n        form.resetFields();\r\n      } else {\r\n        setSelectedSettingsId(organisationId);\r\n      }\r\n    } else {\r\n      setSelectedSettingsId(null);\r\n      form.resetFields();\r\n    }\r\n  }, [form, isSuperAdmin, selectedTenant]);\r\n\r\n\r\n\r\n  // Populate business form when organisation is selected\r\n  useEffect(() => {\r\n    if (selectedOrganisationData) {\r\n      populateOrganisationForm(businessForm, selectedOrganisationData);\r\n    } else if (selectedSettingsId && selectedSettingsId !== 'all') {\r\n      businessForm.resetFields();\r\n    }\r\n  }, [selectedOrganisationData, selectedSettingsId, businessForm]);\r\n\r\n  // Populate settings form when data loads\r\n  useEffect(() => {\r\n    const settingsResult = (settingsData as any)?.result || settingsData || {};\r\n    const settings = Array.isArray(settingsResult) ? settingsResult[0] : settingsResult;\r\n    const hasSettingsData = settings && typeof settings === 'object' && (settings._id || settings.id);\r\n    \r\n    if (selectedSettingsId) {\r\n      if (hasSettingsData) {\r\n        form.setFieldsValue({\r\n          // Tax Settings\r\n          tax_enabled: settings.tax_enabled ?? null,\r\n          tax_type: settings.tax_type ?? null,\r\n\r\n          // Invoice Settings\r\n          invoice_prefix: settings.invoice_prefix ?? null,\r\n          invoice_starting_number: settings.invoice_starting_number ?? null,\r\n          invoice_footer: settings.invoice_footer ?? null,\r\n          show_logo_on_invoice: settings.show_logo_on_invoice ?? null,\r\n          show_terms_on_invoice: settings.show_terms_on_invoice ?? null,\r\n          invoice_terms: settings.invoice_terms ?? null,\r\n\r\n          // Printer Settings\r\n          thermal_printer_enabled: settings.thermal_printer_enabled ?? null,\r\n          printer_port: settings.printer_port ?? null,\r\n          printer_baud_rate: settings.printer_baud_rate ?? null,\r\n          paper_width: settings.paper_width ?? null,\r\n          auto_print: settings.auto_print ?? null,\r\n\r\n          // Default Values\r\n          default_payment_mode: settings.default_payment_mode ?? null,\r\n          default_document_type: settings.default_document_type ?? null,\r\n\r\n          // Notification Settings\r\n          email_notifications: settings.email_notifications ?? null,\r\n          sms_notifications: settings.sms_notifications ?? null,\r\n          low_stock_alert: settings.low_stock_alert ?? null,\r\n          low_stock_threshold: settings.low_stock_threshold ?? null,\r\n          payment_reminder: settings.payment_reminder ?? null,\r\n          daily_report_email: settings.daily_report_email ?? null,\r\n\r\n          // Template Settings - Use API values directly\r\n          bill_template: settings.bill_template,\r\n          invoice_template: settings.invoice_template,\r\n\r\n          // Bank Details\r\n          bank_name: settings.bank_name ?? null,\r\n          account_holder_name: settings.account_holder_name ?? null,\r\n          account_number: settings.account_number ?? null,\r\n          ifsc_code: settings.ifsc_code ?? null,\r\n          branch_name: settings.branch_name ?? null,\r\n          account_type: settings.account_type ?? null,\r\n          upi_id: settings.upi_id ?? null,\r\n          swift_code: settings.swift_code ?? null,\r\n\r\n          // Payment QR Settings\r\n          enable_payment_qr: settings.enable_payment_qr ?? false,\r\n          qr_on_invoice: settings.qr_on_invoice ?? true,\r\n          qr_on_bill: settings.qr_on_bill ?? true,\r\n          qr_size: settings.qr_size ?? 200,\r\n          qr_position: settings.qr_position ?? 'bottom-right',\r\n          show_upi_id_text: settings.show_upi_id_text ?? true,\r\n        });\r\n      } else {\r\n        // No settings found - initialize with default values\r\n        form.setFieldsValue({\r\n          // Tax Settings\r\n          tax_enabled: null,\r\n          tax_type: null,\r\n\r\n          // Invoice Settings\r\n          invoice_prefix: null,\r\n          invoice_starting_number: null,\r\n          invoice_footer: null,\r\n          show_logo_on_invoice: null,\r\n          show_terms_on_invoice: null,\r\n          invoice_terms: null,\r\n\r\n          // Printer Settings\r\n          thermal_printer_enabled: null,\r\n          printer_port: null,\r\n          printer_baud_rate: null,\r\n          paper_width: null,\r\n          auto_print: null,\r\n\r\n          // Default Values\r\n          default_payment_mode: null,\r\n          default_document_type: null,\r\n\r\n          // Notification Settings\r\n          email_notifications: null,\r\n          sms_notifications: null,\r\n          low_stock_alert: null,\r\n          low_stock_threshold: null,\r\n          payment_reminder: null,\r\n          daily_report_email: null,\r\n\r\n          // Template Settings - No defaults, let backend/initial setup handle this\r\n          bill_template: null,\r\n          invoice_template: null,\r\n\r\n          // Bank Details\r\n          bank_name: null,\r\n          account_holder_name: null,\r\n          account_number: null,\r\n          ifsc_code: null,\r\n          branch_name: null,\r\n          account_type: null,\r\n          upi_id: null,\r\n          swift_code: null,\r\n\r\n          // Payment QR Settings - Initialize with defaults\r\n          enable_payment_qr: false,\r\n          qr_on_invoice: true,\r\n          qr_on_bill: true,\r\n          qr_size: 200,\r\n          qr_position: 'bottom-right',\r\n          show_upi_id_text: true,\r\n        });\r\n      }\r\n    } else if (selectedOrganisation === 'all' && (isSuperAdmin || isTenant)) {\r\n      form.resetFields();\r\n    }\r\n  }, [settingsData, selectedSettingsId, selectedOrganisation, isSuperAdmin, isTenant, form]);\r\n\r\n  // Handle settings save\r\n  const handleSave = useCallback(async () => {\r\n    try {\r\n      // Check if organization is selected for SuperAdmin and Tenant users\r\n      if ((isSuperAdmin || isTenant) && selectedOrganisation === 'all') {\r\n        message.error('Please select an organisation before updating settings');\r\n        return;\r\n      }\r\n\r\n      const values = await form.validateFields();\r\n      setLoading(true);\r\n\r\n      // Determine the organisation ID to update\r\n      let organisationId = selectedOrganisation !== 'all' ? selectedOrganisation : null;\r\n      if (!organisationId) {\r\n        organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      }\r\n\r\n      // Additional validation for SuperAdmin and Tenant users to ensure we have a valid organisation ID\r\n      if ((isSuperAdmin || isTenant) && !organisationId) {\r\n        message.error('Please select an organisation before updating settings');\r\n        return;\r\n      }\r\n\r\n      // Save settings - Send only relevant data based on active tab\r\n      let newSettingsData: any = {};\r\n\r\n      // Tax & GST tab - only tax settings\r\n      if (activeTab === 'tax') {\r\n        newSettingsData = {\r\n          tax_enabled: values.tax_enabled,\r\n          tax_type: values.tax_type,\r\n        };\r\n      }\r\n      // Invoice tab - only invoice settings\r\n      else if (activeTab === 'invoice') {\r\n        newSettingsData = {\r\n          invoice_prefix: values.invoice_prefix,\r\n          invoice_starting_number: values.invoice_starting_number,\r\n          invoice_footer: values.invoice_footer,\r\n          invoice_terms: values.invoice_terms,\r\n          show_logo_on_invoice: values.show_logo_on_invoice,\r\n          show_terms_on_invoice: values.show_terms_on_invoice,\r\n        };\r\n      }\r\n      // Printer tab - only printer settings\r\n      else if (activeTab === 'printer') {\r\n        newSettingsData = {\r\n          thermal_printer_enabled: values.thermal_printer_enabled,\r\n          printer_port: values.printer_port,\r\n          printer_baud_rate: values.printer_baud_rate,\r\n          paper_width: values.paper_width,\r\n          auto_print: values.auto_print,\r\n        };\r\n      }\r\n      // Defaults tab - only default values\r\n      else if (activeTab === 'defaults') {\r\n        newSettingsData = {\r\n          default_payment_mode: values.default_payment_mode,\r\n          default_document_type: values.default_document_type,\r\n        };\r\n      }\r\n      // Notifications tab - only notification settings\r\n      else if (activeTab === 'notifications') {\r\n        newSettingsData = {\r\n          email_notifications: values.email_notifications,\r\n          sms_notifications: values.sms_notifications,\r\n          low_stock_alert: values.low_stock_alert,\r\n          low_stock_threshold: values.low_stock_threshold,\r\n          payment_reminder: values.payment_reminder,\r\n          daily_report_email: values.daily_report_email,\r\n        };\r\n      }\r\n      // Template tab - only template settings\r\n      else if (activeTab === 'templates') {\r\n        newSettingsData = {\r\n          bill_template: values.bill_template,\r\n          invoice_template: values.invoice_template,\r\n        };\r\n      }\r\n      // Bank Details tab - only bank details\r\n      else if (activeTab === 'bank') {\r\n        newSettingsData = {\r\n          bank_name: values.bank_name,\r\n          account_holder_name: values.account_holder_name,\r\n          account_number: values.account_number,\r\n          ifsc_code: values.ifsc_code,\r\n          branch_name: values.branch_name,\r\n          account_type: values.account_type,\r\n          upi_id: values.upi_id,\r\n          swift_code: values.swift_code,\r\n        };\r\n      }\r\n      // Payment QR tab - only payment QR settings\r\n      else if (activeTab === 'payment-qr') {\r\n        newSettingsData = {\r\n          upi_id: values.upi_id,\r\n          enable_payment_qr: values.enable_payment_qr ?? false,\r\n          qr_on_invoice: values.qr_on_invoice ?? true,\r\n          qr_on_bill: values.qr_on_bill ?? true,\r\n          qr_size: values.qr_size ?? 200,\r\n          qr_position: values.qr_position ?? 'bottom-right',\r\n          show_upi_id_text: values.show_upi_id_text ?? true,\r\n        };\r\n      }\r\n\r\n      // Check if settings exist, if not create new settings\r\n      const settingsResult = (settingsData as any)?.result || settingsData || [];\r\n      \r\n      // Extract first item from array if it's an array response\r\n      const existingSettings = Array.isArray(settingsResult) \r\n        ? settingsResult[0] \r\n        : settingsResult;\r\n      \r\n      // Check if we have valid existing settings with an ID\r\n      const hasExistingSettings = existingSettings && (existingSettings._id || existingSettings.id);\r\n      const targetOrgId = organisationId || userItem?._id;\r\n      \r\n      if (hasExistingSettings) {\r\n        // Update existing settings\r\n        const settingsId = existingSettings._id || existingSettings.id;\r\n        await updateSettings({\r\n          id: settingsId,\r\n          data: {\r\n            ...newSettingsData,\r\n            organisation_id: targetOrgId,\r\n          }\r\n        }).unwrap();\r\n        \r\n        message.success('Settings updated successfully! 🎉');\r\n      } else {\r\n        // Create new settings\r\n        await createSettings({\r\n          ...newSettingsData,\r\n          organisation_id: targetOrgId,\r\n        }).unwrap();\r\n        \r\n        message.success(`Settings created successfully! 🎉`);\r\n      }\r\n\r\n      // Reload settings after save to get updated data\r\n      if (targetOrgId) {\r\n        await refetchSettings();\r\n      }\r\n\r\n    } catch (error: any) {\r\n      console.error('❌ Error saving settings:', error);\r\n      message.error(error.message || error.data?.message || 'Failed to save settings');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [\r\n    isSuperAdmin, \r\n    isTenant, \r\n    selectedOrganisation, \r\n    userItem, \r\n    activeTab, \r\n    updateSettings,\r\n    createSettings,\r\n    refetchSettings,\r\n    settingsData,\r\n    form,\r\n    isOrganisationUser,\r\n    isBranchUser\r\n  ]);\r\n\r\n  // Handle business information save\r\n  const handleBusinessSave = useCallback(async () => {\r\n    try {\r\n      // Check if organization is selected for SuperAdmin and Tenant users\r\n      if ((isSuperAdmin || isTenant) && selectedOrganisation === 'all') {\r\n        message.error('Please select an organisation before updating business information');\r\n        return;\r\n      }\r\n\r\n      const values = await businessForm.validateFields();\r\n      setBusinessLoading(true);\r\n\r\n      // Determine the organisation ID to update\r\n      let organisationId = selectedOrganisation !== 'all' ? selectedOrganisation : null;\r\n      if (!organisationId) {\r\n        organisationId = userItem?.organisation_id || userItem?.organisationItems?._id;\r\n      }\r\n\r\n      if (!organisationId) {\r\n        message.error('Organisation ID not found. Please select an organisation.');\r\n        return;\r\n      }\r\n\r\n      // Update organisation\r\n      await updateOrganisation({\r\n        id: organisationId,\r\n        data: {\r\n          org_name: values.org_name,\r\n          business_type: values.business_type,\r\n          email: values.email,\r\n          phone: values.phone,\r\n          gst_number: values.gst_number,\r\n          pan_number: values.pan_number,\r\n          address1: values.address1,\r\n          city: values.city,\r\n          state: values.state,\r\n          pincode: values.pincode,\r\n          currency: values.currency,\r\n          timezone: values.timezone,\r\n          status: values.status,\r\n        }\r\n      }).unwrap();\r\n\r\n      message.success('Business information updated successfully! 🎉');\r\n\r\n      // RTK Query will automatically update the organisations list cache\r\n\r\n    } catch (error: any) {\r\n      console.error('❌ Error saving business information:', error);\r\n      message.error(error.message || error.data?.message || 'Failed to save business information');\r\n    } finally {\r\n      setBusinessLoading(false);\r\n    }\r\n  }, [\r\n    isSuperAdmin,\r\n    isTenant,\r\n    selectedOrganisation,\r\n    userItem,\r\n    businessForm,\r\n    updateOrganisation,\r\n  ]);\r\n\r\n  const handleReset = useCallback(() => {\r\n    form.resetFields();\r\n    message.info('Form reset to last saved values');\r\n  }, [form]);\r\n\r\n  const handleBusinessReset = useCallback(() => {\r\n    businessForm.resetFields();\r\n    message.info('Form reset to last saved values');\r\n  }, [businessForm]);\r\n\r\n  const testPrinter = useCallback(() => {\r\n    message.info('Printing test page... Check your thermal printer');\r\n    // Add actual printer test logic here\r\n  }, []);\r\n\r\n  // Prepare options for dropdowns\r\n  const tenantOptions = useMemo(() => {\r\n    return tenantsItems?.map((tenant: any) => ({\r\n      label: tenant.organization_name || tenant.tenant_name,\r\n      value: tenant._id,\r\n    })) || [];\r\n  }, [tenantsItems]);\r\n\r\n  const organisationOptions = useMemo(() => {\r\n    return organisationsItems?.map((org: any) => ({\r\n      label: org.org_name || org.organization_name || org.name,\r\n      value: org._id,\r\n    })) || [];\r\n  }, [organisationsItems]);\r\n\r\n\r\n  return (\r\n    <div className={styles.settingsContainer}>\r\n      {/* Page Header */}\r\n      <div className={styles.pageHeader}>\r\n        <Title level={2} className={styles.pageTitle}>\r\n          <SettingOutlined />\r\n          Settings\r\n        </Title>\r\n      </div>\r\n\r\n      {/* Filter Dropdowns for SuperAdmin and Tenant */}\r\n      {(isSuperAdmin || isTenant) && (\r\n        <Card style={{ marginBottom: 16 }}>\r\n          <Row gutter={16}>\r\n            {/* Tenant Dropdown - Only for SuperAdmin */}\r\n            {isSuperAdmin && (\r\n              <Col xs={24} sm={12} md={8}>\r\n                <div style={{ marginBottom: 8 }}>\r\n                  <Text strong>Tenant</Text>\r\n                </div>\r\n                <Select\r\n                  style={{ width: '100%' }}\r\n                  placeholder=\"Select Tenant\"\r\n                  value={selectedTenant}\r\n                  onChange={handleTenantChange}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  allowClear\r\n                >\r\n                  <Option value=\"all\">All Tenants</Option>\r\n                  {tenantOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Col>\r\n            )}\r\n\r\n            {/* Organisation Dropdown - For SuperAdmin and Tenant */}\r\n            {(isSuperAdmin || isTenant) && (\r\n              <Col xs={24} sm={12} md={8}>\r\n                <div style={{ marginBottom: 8 }}>\r\n                  <Text strong>Organisation</Text>\r\n                </div>\r\n                <Select\r\n                  style={{ width: '100%' }}\r\n                  placeholder=\"Select Organisation\"\r\n                  value={selectedOrganisation}\r\n                  onChange={handleOrganisationChange}\r\n                  showSearch\r\n                  optionFilterProp=\"children\"\r\n                  allowClear\r\n                  disabled={isSuperAdmin && (selectedTenant === 'all' || !selectedTenant)}\r\n                >\r\n                  <Option value=\"all\">All Organisations</Option>\r\n                  {organisationOptions.map((option: any) => (\r\n                    <Option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Settings Tabs */}\r\n      <Card className={styles.tabsCard}>\r\n        <Tabs\r\n          activeKey={activeTab}\r\n          onChange={setActiveTab}\r\n          type=\"card\"\r\n          items={[\r\n            {\r\n              key: 'business',\r\n              label: (\r\n                <span>\r\n                  <ShopOutlined /> Business Info\r\n                </span>\r\n              ),\r\n              children: (\r\n                <BusinessInfoTab\r\n                  form={businessForm}\r\n                  loading={businessLoading}\r\n                  onSave={handleBusinessSave}\r\n                  onReset={handleBusinessReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'tax',\r\n              label: (\r\n                <span>\r\n                  <PercentageOutlined /> Tax & GST\r\n                </span>\r\n              ),\r\n              children: (\r\n                <TaxTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'invoice',\r\n              label: (\r\n                <span>\r\n                  <FileTextOutlined /> Invoice\r\n                </span>\r\n              ),\r\n              children: (\r\n                <InvoiceTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'printer',\r\n              label: (\r\n                <span>\r\n                  <PrinterOutlined /> Printer\r\n                </span>\r\n              ),\r\n              children: (\r\n                <PrinterTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                  onTestPrinter={testPrinter}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'defaults',\r\n              label: (\r\n                <span>\r\n                  <CheckCircleOutlined /> Defaults\r\n                </span>\r\n              ),\r\n              children: (\r\n                <DefaultsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'notifications',\r\n              label: (\r\n                <span>\r\n                  <BellOutlined /> Notifications\r\n                </span>\r\n              ),\r\n              children: (\r\n                <NotificationsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'templates',\r\n              label: (\r\n                <span>\r\n                  <FileTextOutlined /> Templates\r\n                </span>\r\n              ),\r\n              children: (\r\n                <TemplateSettingsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'bank',\r\n              label: (\r\n                <span>\r\n                  <BankOutlined /> Bank Details\r\n                </span>\r\n              ),\r\n              children: (\r\n                <BankDetailsTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n            {\r\n              key: 'payment-qr',\r\n              label: (\r\n                <span>\r\n                  <QrcodeOutlined /> Payment QR\r\n                </span>\r\n              ),\r\n              children: (\r\n                <PaymentQRTab\r\n                  form={form}\r\n                  loading={loading}\r\n                  onSave={handleSave}\r\n                  onReset={handleReset}\r\n                />\r\n              ),\r\n            },\r\n          ]}\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n\r\n"],"names":["Option","Select","TextArea","Input","businessTypes","name","_ref","form","loading","onSave","onReset","_jsxs","Form","layout","className","styles","children","_jsx","ShopOutlined","Divider","Row","gutter","Col","xs","md","Item","label","rules","required","message","placeholder","showSearch","filterOption","input","option","_option$label","toLowerCase","includes","options","map","type","value","FileProtectOutlined","extra","maxLength","style","textTransform","EnvironmentOutlined","rows","GlobalOutlined","valuePropName","Switch","checkedChildren","unCheckedChildren","Button","onClick","icon","SaveOutlined","navigate","useNavigate","PercentageOutlined","Space","direction","size","width","marginTop","block","FileTextOutlined","span","InputNumber","min","onTestPrinter","PrinterOutlined","CheckCircleOutlined","BellOutlined","noStyle","_billTemplates","_invoiceTemplates","useUser","previewKey","setPreviewKey","useState","previewType","setPreviewType","modalOpen","setModalOpen","billTemplate","useWatch","invoiceTemplate","getPreviewData","customerName","customerAddress","customerPhone","customerEmail","date","Date","toISOString","invoice_no","payment_mode","items","product_name","qty","price","amount","tax_percentage","hsn_code","mrp","unit","total","total_gst","cgst","sgst","discount","discount_type","is_paid","is_partially_paid","paid_amount","closeModal","renderTemplateSelector","selectedKey","fieldName","templates","billTemplates","invoiceTemplates","Object","entries","_ref2","key","tpl","isSelected","sm","lg","Card","hoverable","border","borderRadius","boxShadow","background","textAlign","transition","setFieldValue","bodyStyle","padding","height","overflow","display","alignItems","justifyContent","marginBottom","transform","transformOrigin","pointerEvents","component","billData","fontWeight","fontSize","color","description","ghost","EyeOutlined","e","stopPropagation","handlePreview","_Fragment","Modal","open","onCancel","footer","handleUseTemplate","title","concat","centered","destroyOnClose","minHeight","React","BankOutlined","Text","Title","Paragraph","Typography","qrCodePreview","setQrCodePreview","upiValid","setUpiValid","upiAppInfo","setUpiAppInfo","upiId","enablePaymentQr","qrSize","useEffect","async","isValidUPIId","getUPIAppInfo","orgName","getFieldValue","qrCode","generateUPIQRCode","payeeName","transactionNote","error","console","generatePreview","QrcodeOutlined","InfoCircleOutlined","validator","_","Promise","resolve","reject","suffix","Alert","provider","appName","showIcon","disabled","Slider","max","step","marks","bordered","src","alt","maxWidth","strong","code","level","paddingLeft","populateOrganisationForm","orgData","setFieldsValue","org_name","organization_name","business_type","email","phone","gst_number","pan_number","address1","address","city","state","pincode","currency","timezone","status","Settings","useForm","businessForm","setLoading","businessLoading","setBusinessLoading","activeTab","setActiveTab","selectedTenant","setSelectedTenant","selectedOrganisation","setSelectedOrganisation","userItem","useMemo","getCurrentUser","userRole","isSuperAdmin","isTenant","isOrganisationUser","isBranchUser","scopeData","SessionStorageEncryption","getItem","role","userType","user_type","usertype","user_role","data","tenantsData","apiSlice","useGetTenantAccountsQuery","skip","organisationsQueryParams","tenant_id","_userItem$organisatio","organisationId","organisation_id","organisationItems","_id","organisationsData","useGetOrganisationsQuery","selectedSettingsId","setSelectedSettingsId","shouldSkipSettings","settingsData","refetch","refetchSettings","useGetSettingsQuery","page","limit","refetchOnMountOrArgChange","updateSettings","useUpdateSettingsMutation","createSettings","useCreateSettingsMutation","updateOrganisation","useUpdateOrganisationsMutation","tenantsItems","result","organisationsItems","selectedOrganisationData","find","item","_userItem$organisatio2","handleTenantChange","useCallback","tenantId","resetFields","handleOrganisationChange","settingsResult","settings","Array","isArray","hasSettingsData","id","_settings$tax_enabled","_settings$tax_type","_settings$invoice_pre","_settings$invoice_sta","_settings$invoice_foo","_settings$show_logo_o","_settings$show_terms_","_settings$invoice_ter","_settings$thermal_pri","_settings$printer_por","_settings$printer_bau","_settings$paper_width","_settings$auto_print","_settings$default_pay","_settings$default_doc","_settings$email_notif","_settings$sms_notific","_settings$low_stock_a","_settings$low_stock_t","_settings$payment_rem","_settings$daily_repor","_settings$bank_name","_settings$account_hol","_settings$account_num","_settings$ifsc_code","_settings$branch_name","_settings$account_typ","_settings$upi_id","_settings$swift_code","_settings$enable_paym","_settings$qr_on_invoi","_settings$qr_on_bill","_settings$qr_size","_settings$qr_position","_settings$show_upi_id","tax_enabled","tax_type","invoice_prefix","invoice_starting_number","invoice_footer","show_logo_on_invoice","show_terms_on_invoice","invoice_terms","thermal_printer_enabled","printer_port","printer_baud_rate","paper_width","auto_print","default_payment_mode","default_document_type","email_notifications","sms_notifications","low_stock_alert","low_stock_threshold","payment_reminder","daily_report_email","bill_template","invoice_template","bank_name","account_holder_name","account_number","ifsc_code","branch_name","account_type","upi_id","swift_code","enable_payment_qr","qr_on_invoice","qr_on_bill","qr_size","qr_position","show_upi_id_text","handleSave","values","validateFields","_userItem$organisatio3","newSettingsData","_values$enable_paymen","_values$qr_on_invoice","_values$qr_on_bill","_values$qr_size","_values$qr_position","_values$show_upi_id_t","existingSettings","hasExistingSettings","targetOrgId","settingsId","_objectSpread","unwrap","success","_error$data","handleBusinessSave","_userItem$organisatio4","_error$data2","handleReset","info","handleBusinessReset","testPrinter","tenantOptions","tenant","tenant_name","organisationOptions","org","SettingOutlined","onChange","optionFilterProp","allowClear","Tabs","activeKey","BusinessInfoTab","TaxTab","InvoiceTab","PrinterTab","DefaultsTab","NotificationsTab","TemplateSettingsTab","BankDetailsTab","PaymentQRTab"],"sourceRoot":""}