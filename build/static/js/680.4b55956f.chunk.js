/*! For license information please see 680.4b55956f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkFOCUZ_BILLING=self.webpackChunkFOCUZ_BILLING||[]).push([[680],{21680:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f});l(65043);var i=l(26553),a=l(76399),n=l(6051),s=l(36621),r=l(53722),o=l(75388),d=l(87534),c=l(46011),u=l(82863),p=l(74198),m=l(70579);const{Option:h}=i.A,g={title:"Customer",columns:[{title:"Name",dataIndex:"full_name",key:"full_name",render:e=>(0,m.jsx)(a.A,{icon:(0,m.jsx)(r.A,{}),color:"geekblue",children:e})},{title:"Email",dataIndex:"email",key:"email",render:e=>(0,m.jsxs)(n.A,{children:[(0,m.jsx)(o.A,{style:{color:"#13c2c2"}}),(0,m.jsx)("span",{children:e||"-"})]})},{title:"Mobile",dataIndex:"mobile",key:"mobile",render:e=>(0,m.jsxs)(n.A,{children:[(0,m.jsx)(d.A,{style:{color:"#52c41a"}}),(0,m.jsx)("span",{children:e||"-"})]})},{title:"Address",dataIndex:"address",key:"address",render:e=>(0,m.jsxs)(n.A,{children:[(0,m.jsx)(c.A,{style:{color:"#fa8c16"}}),(0,m.jsx)("span",{children:e||"-"})]})}],formItems:[{name:"full_name",label:"Full Name",rules:[{required:!0,message:"Please enter full name"}],component:(0,m.jsx)(s.A,{prefix:(0,m.jsx)(r.A,{}),placeholder:"Enter full name"})},{name:"email",label:"Email Address",rules:[{required:!1,message:"Please enter email"},{type:"email",message:"Please enter valid email"}],component:(0,m.jsx)(s.A,{prefix:(0,m.jsx)(o.A,{}),placeholder:"Enter email"})},{name:"mobile",label:"Mobile Number",rules:[{required:!0,message:"Please enter mobile number"},{len:10,message:"Mobile number must be 10 digits"}],component:(0,m.jsx)(s.A,{prefix:(0,m.jsx)(d.A,{}),placeholder:"Enter mobile number",maxLength:10})},{name:"address",label:"Address",rules:[{required:!1,message:"Please enter address"}],component:(0,m.jsx)(s.A.TextArea,{placeholder:"Enter address",rows:3})},{name:"customer_type",label:"Customer Type",rules:[{required:!0,message:"Please select customer type"}],component:(0,m.jsxs)(i.A,{placeholder:"Select customer type",children:[(0,m.jsx)(h,{value:"regular",children:"Regular"}),(0,m.jsx)(h,{value:"vip",children:"VIP"}),(0,m.jsx)(h,{value:"wholesale",children:"Wholesale"})]})}],apiRoutes:(0,p._V)("Customer"),formColumns:2,drawerWidth:600},f=()=>(0,m.jsx)(u.r,{config:g})},33359:(e,t,l)=>{l.d(t,{A:()=>o});var i=l(65043),a=l(71360),n=l(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const r=(e,t)=>i.createElement(n.A,s({},e,{ref:t,icon:a.A}));const o=i.forwardRef(r)},74198:(e,t,l)=>{l.d(t,{_V:()=>a});l(65043);var i=l(91449);l(27038);const a=e=>{const t=i.LE[e]||(0,i.lX)(e);return{get:t.getAll(),create:t.create(),update:t.update(),delete:t.delete()}}},82863:(e,t,l)=>{l.d(t,{r:()=>V});var i=l(89379),a=l(65043),n=l(96651),s=l(47419),r=l(11645),o=l(36621),d=l(26553),c=l(93504),u=l(95206),p=l(33359),m=l(9316),h=l(83003),g=l(62305),f=l(97031),x=l(91449),A=l(60446),j=l.n(A);var b=l(22671),y=l(53986),v=l(83833),C=l(88655),k=l(73847),w=l(70579);const R=["key","name","fieldKey"],F=e=>{const{FormValue:t,onSubmit:l,onCancel:n,formItems:o,onChildCancel:d,formColumns:c,splitLabelAndField:p,nested:m,nestedInputs:h,wrapperCol:f,labelCol:x,initialValues:A,loading:j,form:b,onValuesChange:F}=e,L=c||1;return(0,a.useEffect)((()=>{A&&(null===b||void 0===b||b.setFieldsValue(A))}),[A,b]),(0,w.jsxs)("div",{style:{position:"relative",height:"100%"},children:[(0,w.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"600px 600px",opacity:.1,zIndex:0}}),(0,w.jsxs)(g.A,{form:b,onFinish:e=>{l?l(e):t&&t(e),null===b||void 0===b||b.resetFields()},layout:"vertical",onValuesChange:F,children:[(0,w.jsxs)(s.A,{gutter:[16,16],children:[null===o||void 0===o?void 0:o.map(((e,t)=>{var l;return(0,w.jsx)(r.A,{span:24/L,children:p?(0,w.jsxs)("div",{children:[(0,w.jsxs)(v.A.Text,{strong:!0,children:[e.label," ",(null===(l=e.rules)||void 0===l?void 0:l.some((e=>e.required)))&&(0,w.jsx)(v.A.Text,{type:"danger",children:"*"})]}),(0,w.jsx)(g.A.Item,{name:e.name,rules:e.rules,style:{marginTop:"8px"},children:e.component})]}):(0,w.jsx)(g.A.Item,{label:(0,w.jsx)(v.A.Text,{strong:!0,children:e.label}),name:e.name,rules:e.rules,labelCol:{span:x},wrapperCol:{span:f},children:e.component})},t)})),m&&(0,w.jsx)(g.A.List,{name:"nestedItems",children:(e,t)=>{let{add:l,remove:a}=t;return(0,w.jsxs)(w.Fragment,{children:[e.map((e=>{let{key:t,name:l,fieldKey:n}=e,o=(0,y.A)(e,R);return(0,w.jsxs)(s.A,{gutter:[16,16],align:"middle",children:[h.map(((e,t)=>(0,w.jsx)(r.A,{children:(0,w.jsx)(g.A.Item,(0,i.A)((0,i.A)({},o),{},{name:[l,e.name],fieldKey:[n,e.name],rules:[{required:!0,message:"Missing ".concat(e.label)}],label:e.label,children:e.component}))},t))),(0,w.jsx)(r.A,{children:(0,w.jsx)(C.A,{onClick:()=>a(l)})})]},t)})),(0,w.jsx)(s.A,{justify:"center",children:(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{type:"primary",onClick:()=>l(),icon:(0,w.jsx)(k.A,{}),children:"Add More Field"})})})]})}})]}),(0,w.jsxs)(s.A,{justify:"end",gutter:[16,16],style:{padding:"16px"},children:[(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{onClick:()=>{n?n():d&&d(!1),null===b||void 0===b||b.resetFields()},children:"Cancel"})}),(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{type:"primary",htmlType:"submit",loading:j,children:"Submit"})})]})]})]})};var L=l(4413);function S(e,t,l){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{title:"Actions",key:"actions",render:(a,s)=>(0,w.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,w.jsx)(n.A,{title:"Edit ".concat(e),children:(0,w.jsx)(p.A,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>t(s)})}),(0,w.jsx)(n.A,{title:"Delete ".concat(e),children:(0,w.jsx)(m.A,{style:{cursor:i?"not-allowed":"pointer",color:i?"#d9d9d9":"#ff4d4f",opacity:i?.5:1},onClick:()=>!i&&l(s)})})]})}}const V=e=>{let{config:t,filters:l=[],onFilterChange:n,customButtons:p=[],onValuesChange:m}=e;const{loading:A,createLoading:y,updateLoading:v,deleteLoading:C,items:k,pagination:R,drawerVisible:V,initialValues:I,form:P,handleEdit:E,handleDelete:_,handleDrawerOpen:O,resetForm:T,handleSubmit:q,handlePaginationChange:z,columns:K,formItems:M,formColumns:N=2,drawerWidth:B,filterValues:D,setFilterValues:W}=(e=>{const t=(0,h.wA)(),[l]=g.A.useForm(),[n,s]=(0,a.useState)(!1),[r,o]=(0,a.useState)({}),[d,c]=(0,a.useState)({}),[u,p]=(0,a.useState)({current:1,pageSize:10}),{loading:m,items:A}=(0,f.Sm)(e.apiRoutes.get.identifier),{loading:b,items:y,error:v}=(0,f.Sm)(e.apiRoutes.create.identifier),{loading:C,items:k,error:w}=(0,f.Sm)(e.apiRoutes.update.identifier),{loading:R,items:F,error:L}=(0,f.Sm)(e.apiRoutes.delete.identifier),S=(0,a.useCallback)(((e,l,i,a)=>{t((0,f.s7)({method:e,endpoint:l,data:i},a))}),[t]),V=(0,a.useCallback)((()=>{const t=(0,i.A)((0,i.A)({},d),{},{pageNumber:u.current,pageLimit:u.pageSize});S(e.apiRoutes.get.method,e.apiRoutes.get.endpoint,t,e.apiRoutes.get.identifier)}),[S,e.apiRoutes.get,d,u]),I=(0,a.useCallback)((t=>{S(e.apiRoutes.create.method,e.apiRoutes.create.endpoint,t,e.apiRoutes.create.identifier)}),[S,e.apiRoutes.create]),P=(0,a.useCallback)(((t,l)=>{S(e.apiRoutes.update.method,"".concat(e.apiRoutes.update.endpoint,"/").concat(t),l,e.apiRoutes.update.identifier)}),[S,e.apiRoutes.update]),E=(0,a.useCallback)((t=>{S(e.apiRoutes.delete.method,"".concat(e.apiRoutes.delete.endpoint,"/").concat(t),{_id:t},e.apiRoutes.delete.identifier)}),[S,e.apiRoutes.delete]),_=(0,a.useCallback)(((e,t)=>{p({current:e,pageSize:t})}),[]);function O(e){return/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/.test(e)}const T=(0,a.useCallback)((e=>{const t={};for(const l in e){const i=e[l];"string"===typeof i&&O(i)&&j()(i,void 0,!0).isValid()?t[l]=j()(i):t[l]=i}o(t),s(!0)}),[]),q=(0,a.useCallback)((e=>{E(e._id)}),[E]),z=(0,a.useCallback)((()=>{s(!0)}),[]),K=(0,a.useCallback)((()=>{s(!1),o({}),l.resetFields()}),[l]),M=(0,a.useCallback)((e=>{r._id?P(r._id,e):I(e)}),[r._id,I,P]);return(0,a.useEffect)((()=>{if(200===(null===y||void 0===y?void 0:y.statusCode))(0,x.P0)("success","".concat(e.title," created successfully")),V(),K(),t((0,f.Ki)(e.apiRoutes.create.identifier));else if(v){const t=v.message||"Failed to create ".concat(e.title);(0,x.P0)("error",t)}}),[y,v,e.title,V,K,t,e.apiRoutes.create.identifier]),(0,a.useEffect)((()=>{if(200===(null===k||void 0===k?void 0:k.statusCode))(0,x.P0)("success","".concat(e.title," updated successfully")),V(),K(),t((0,f.Ki)(e.apiRoutes.update.identifier));else if(w){const t=w.message||"Failed to update ".concat(e.title);(0,x.P0)("error",t)}}),[k,w,e.title,V,K,t,e.apiRoutes.update.identifier]),(0,a.useEffect)((()=>{if(200===(null===F||void 0===F?void 0:F.statusCode))(0,x.P0)("success","".concat(e.title," deleted successfully")),V(),t((0,f.Ki)(e.apiRoutes.delete.identifier));else if(L){const t=L.message||"Failed to delete ".concat(e.title);(0,x.P0)("error",t)}}),[F,L,e.title,V,t,e.apiRoutes.delete.identifier]),(0,a.useEffect)((()=>{V()}),[V]),(0,i.A)({loading:m,createLoading:b,updateLoading:C,deleteLoading:R,items:null===A||void 0===A?void 0:A.result,pagination:null===A||void 0===A?void 0:A.pagination,drawerVisible:n,initialValues:r,form:l,filterValues:d,setFilterValues:c,handleEdit:T,handleDelete:q,handleDrawerOpen:z,resetForm:K,handleSubmit:M,handlePaginationChange:_},e)})(t),Z=(0,a.useCallback)(((e,t)=>{const l=(0,i.A)((0,i.A)({},D),{},{[e]:t});W(l),n&&n(l)}),[D,W,n]),G=(0,a.useMemo)((()=>[...K,S(t.title,E,_,C)]),[K,t.title,E,_,C]);return(0,w.jsxs)("div",{children:[(0,w.jsxs)(s.A,{justify:"space-between",align:"bottom",gutter:[16,16],style:{marginBottom:16},children:[(0,w.jsx)(r.A,{flex:"auto",children:(0,w.jsx)("h1",{style:{margin:0},children:t.title})}),(0,w.jsx)(r.A,{children:(0,w.jsxs)(s.A,{gutter:[12,12],align:"bottom",justify:"end",wrap:!0,children:[l.map((e=>{var t;return(0,w.jsxs)(r.A,{children:["input"===e.type&&(0,w.jsx)(o.A,{placeholder:e.placeholder||e.label,value:D[e.key]||"",onChange:t=>Z(e.key,t.target.value),style:{width:e.width||200},disabled:y||v||C}),"select"===e.type&&(0,w.jsx)(d.A,{placeholder:e.placeholder||e.label,value:D[e.key],onChange:t=>{Z(e.key,t),e.onChange&&e.onChange(t)},allowClear:!0,style:{width:e.width||200},disabled:e.disabled||y||v||C,children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,w.jsx)(d.A.Option,{value:e.value,children:e.label},e.value)))}),"date"===e.type&&(0,w.jsx)(c.A,{placeholder:e.placeholder||e.label,value:D[e.key],onChange:t=>Z(e.key,t),style:{width:e.width||200},disabled:y||v||C})]},e.key)})),(0,w.jsx)(r.A,{children:(0,w.jsx)(o.A,{placeholder:"Search ".concat(t.title),value:D.searchString||"",onChange:e=>Z("searchString",e.target.value),style:{width:200},disabled:y||v||C})}),p.map((e=>(0,w.jsx)(r.A,{children:(0,w.jsx)(u.Ay,{type:e.type||"default",onClick:e.onClick,icon:e.icon,disabled:y||v||C,children:e.label})},e.key))),(0,w.jsx)(r.A,{children:(0,w.jsxs)(u.Ay,{type:"primary",onClick:O,loading:y,disabled:y,children:["Add ",t.title]})})]})})]}),(0,w.jsx)(L.A,{columns:G,data:k,loading:A||C,rowKeyField:"_id",totalCount:(null===R||void 0===R?void 0:R.totalCount)||0,pageLimit:(null===R||void 0===R?void 0:R.pageLimit)||10,onPaginationChange:z}),(0,w.jsx)(b.A,{title:"".concat(I._id?"Edit":"Add"," ").concat(t.title),open:V,onClose:y||v?()=>{}:T,width:B,children:(0,w.jsx)(F,{form:P,formItems:M,formColumns:N,initialValues:I,onSubmit:q,onCancel:T,onValuesChange:m,loading:y||v})})]})}},87534:(e,t,l)=>{l.d(t,{A:()=>o});var i=l(65043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"};var n=l(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},s.apply(this,arguments)}const r=(e,t)=>i.createElement(n.A,s({},e,{ref:t,icon:a}));const o=i.forwardRef(r)}}]);
//# sourceMappingURL=680.4b55956f.chunk.js.map