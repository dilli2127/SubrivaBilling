{"version":3,"file":"static/js/116.321b2e45.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","helpers/resourceConstants.ts","pages/Roles/RolePermissionForm.tsx","pages/Roles/columns.tsx","pages/Roles/RolesCrudNew.tsx","pages/Roles/crud.tsx"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst PlusOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: PlusOutlinedSvg\n}));\n\n/**![plus](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ4MiAxNTJoNjBxOCAwIDggOHY3MDRxMCA4LTggOGgtNjBxLTggMC04LThWMTYwcTAtOCA4LTh6IiAvPjxwYXRoIGQ9Ik0xOTIgNDc0aDY3MnE4IDAgOCA4djYwcTAgOC04IDhIMTYwcS04IDAtOC04di02MHEwLTggOC04eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(PlusOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PlusOutlined';\n}\nexport default RefIcon;","/**\r\n * Resource Constants - Available Resources for Permission Management\r\n * \r\n * This file defines all available resources in the system and their metadata.\r\n * Used by the Role creation/edit forms to display permission checkboxes.\r\n */\r\n\r\nexport interface ResourceDefinition {\r\n  resource: string;\r\n  label: string;\r\n  category: string;\r\n  description: string;\r\n  menus: string[];\r\n}\r\n\r\n/**\r\n * All available resources in the system\r\n * Each resource maps to backend API endpoints and controls menu visibility\r\n */\r\nexport const AVAILABLE_RESOURCES: ResourceDefinition[] = [\r\n  // Core\r\n  { \r\n    resource: 'dashboard', \r\n    label: 'Dashboard',\r\n    category: 'Core',\r\n    description: 'Main dashboard view',\r\n    menus: ['dashboard']\r\n  },\r\n  \r\n  // Sales (Shared API - one permission controls multiple menus)\r\n  { \r\n    resource: 'sales_record', \r\n    label: 'Sales Records',\r\n    category: 'Sales',\r\n    description: 'Controls: SalesRecords menu, Create Sales, Sales List',\r\n    menus: ['SalesRecords', 'create-sales-record', 'sales-records-list']\r\n  },\r\n  \r\n  // Customers & Vendors (Separate APIs)\r\n  { \r\n    resource: 'customer', \r\n    label: 'Customers',\r\n    category: 'Sales',\r\n    description: 'Customer management',\r\n    menus: ['add-customer']\r\n  },\r\n  { \r\n    resource: 'vendor', \r\n    label: 'Vendors',\r\n    category: 'Sales',\r\n    description: 'Vendor management',\r\n    menus: ['vendor']\r\n  },\r\n  \r\n  // Products (Separate APIs for each)\r\n  { \r\n    resource: 'product', \r\n    label: 'Products',\r\n    category: 'Inventory',\r\n    description: 'Product management',\r\n    menus: ['add-product']\r\n  },\r\n  { \r\n    resource: 'unit', \r\n    label: 'Units',\r\n    category: 'Inventory',\r\n    description: 'Unit management',\r\n    menus: ['unit']\r\n  },\r\n  { \r\n    resource: 'category', \r\n    label: 'Categories',\r\n    category: 'Inventory',\r\n    description: 'Category management',\r\n    menus: ['category']\r\n  },\r\n  { \r\n    resource: 'variant', \r\n    label: 'Variants',\r\n    category: 'Inventory',\r\n    description: 'Variant management',\r\n    menus: ['variant']\r\n  },\r\n  { \r\n    resource: 'warehouse', \r\n    label: 'Warehouses',\r\n    category: 'Inventory',\r\n    description: 'Warehouse management',\r\n    menus: ['warehouse']\r\n  },\r\n  { \r\n    resource: 'rack', \r\n    label: 'Racks',\r\n    category: 'Inventory',\r\n    description: 'Rack management',\r\n    menus: ['rack']\r\n  },\r\n  \r\n  // Stock Management (Mixed - some share APIs, some don't)\r\n  { \r\n    resource: 'stock_audit', \r\n    label: 'Stock In / Org Stock',\r\n    category: 'Stock',\r\n    description: 'Controls: Stock In, Organisation Stock Available',\r\n    menus: ['stock-in', 'organisation-stock-available']\r\n  },\r\n  { \r\n    resource: 'stock_out', \r\n    label: 'Stock Out',\r\n    category: 'Stock',\r\n    description: 'Stock out management',\r\n    menus: ['stock-out']\r\n  },\r\n  { \r\n    resource: 'branch_stock', \r\n    label: 'Branch Stock',\r\n    category: 'Stock',\r\n    description: 'Controls: Branch Stock, Branch Stock Available',\r\n    menus: ['branch-stock', 'branch-stock-available']\r\n  },\r\n  { \r\n    resource: 'storage_stock', \r\n    label: 'Storage Stock',\r\n    category: 'Stock',\r\n    description: 'Storage stock list',\r\n    menus: ['storage-stock-list']\r\n  },\r\n  \r\n  // Financial\r\n  { \r\n    resource: 'payment_history', \r\n    label: 'Payment History',\r\n    category: 'Financial',\r\n    description: 'Payment history management',\r\n    menus: ['payment-history']\r\n  },\r\n  { \r\n    resource: 'expense', \r\n    label: 'Expenses',\r\n    category: 'Financial',\r\n    description: 'Expense management',\r\n    menus: ['expenses']\r\n  },\r\n  \r\n  // Reports\r\n  { \r\n    resource: 'reports', \r\n    label: 'Reports',\r\n    category: 'Reports',\r\n    description: 'All reports',\r\n    menus: ['reports', 'report']\r\n  },\r\n  \r\n  // Advanced\r\n  { \r\n    resource: 'custom_entities', \r\n    label: 'Custom Forms',\r\n    category: 'Advanced',\r\n    description: 'Custom entity management',\r\n    menus: ['custom_forms']\r\n  },\r\n  \r\n  // Settings\r\n  { \r\n    resource: 'settings', \r\n    label: 'Settings',\r\n    category: 'Settings',\r\n    description: 'Application settings',\r\n    menus: ['settings']\r\n  },\r\n  \r\n  // Master Settings\r\n  { \r\n    resource: 'organisation', \r\n    label: 'Organisation',\r\n    category: 'Master Settings',\r\n    description: 'Organisation management',\r\n    menus: ['organisation']\r\n  },\r\n  { \r\n    resource: 'branch', \r\n    label: 'Branches',\r\n    category: 'Master Settings',\r\n    description: 'Branch management',\r\n    menus: ['braches']\r\n  },\r\n  { \r\n    resource: 'billing_user', \r\n    label: 'Users',\r\n    category: 'Master Settings',\r\n    description: 'User management',\r\n    menus: ['users']\r\n  },\r\n  { \r\n    resource: 'role', \r\n    label: 'Roles',\r\n    category: 'Master Settings',\r\n    description: 'Role management',\r\n    menus: ['roles']\r\n  },\r\n  { \r\n    resource: 'permission', \r\n    label: 'Permissions',\r\n    category: 'Master Settings',\r\n    description: 'Permission management',\r\n    menus: ['permissions']\r\n  },\r\n  \r\n  // Tenant Management\r\n  { \r\n    resource: 'tenant_account', \r\n    label: 'Tenant Accounts',\r\n    category: 'Tenant Management',\r\n    description: 'Tenant account management',\r\n    menus: ['tenant_account_list']\r\n  },\r\n  { \r\n    resource: 'entity_definition', \r\n    label: 'Entity Definitions',\r\n    category: 'Tenant Management',\r\n    description: 'Entity definition management',\r\n    menus: ['entity_definitions']\r\n  }\r\n];\r\n\r\n/**\r\n * Group resources by category with memoization\r\n */\r\nlet groupedResourcesCache: Record<string, ResourceDefinition[]> | null = null;\r\n\r\nexport const getGroupedResources = (): Record<string, ResourceDefinition[]> => {\r\n  if (groupedResourcesCache) {\r\n    return groupedResourcesCache;\r\n  }\r\n\r\n  groupedResourcesCache = AVAILABLE_RESOURCES.reduce((acc, resource) => {\r\n    if (!acc[resource.category]) {\r\n      acc[resource.category] = [];\r\n    }\r\n    acc[resource.category].push(resource);\r\n    return acc;\r\n  }, {} as Record<string, ResourceDefinition[]>);\r\n\r\n  return groupedResourcesCache;\r\n};\r\n\r\n/**\r\n * Get all categories with memoization\r\n */\r\nlet categoriesCache: string[] | null = null;\r\n\r\nexport const getCategories = (): string[] => {\r\n  if (categoriesCache) {\r\n    return categoriesCache;\r\n  }\r\n\r\n  categoriesCache = Array.from(new Set(AVAILABLE_RESOURCES.map(r => r.category)));\r\n  return categoriesCache;\r\n};\r\n\r\n/**\r\n * Get resource by name with memoization\r\n */\r\nconst resourceLookupCache = new Map<string, ResourceDefinition | undefined>();\r\n\r\nexport const getResourceByName = (resourceName: string): ResourceDefinition | undefined => {\r\n  if (resourceLookupCache.has(resourceName)) {\r\n    return resourceLookupCache.get(resourceName);\r\n  }\r\n\r\n  const resource = AVAILABLE_RESOURCES.find(r => r.resource === resourceName);\r\n  resourceLookupCache.set(resourceName, resource);\r\n  return resource;\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Checkbox,\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Typography,\r\n  Divider,\r\n  Tag,\r\n} from 'antd';\r\nimport { AVAILABLE_RESOURCES, getGroupedResources } from '../../helpers/resourceConstants';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { TextArea } = Input;\r\n\r\nexport interface PermissionState {\r\n  [resource: string]: {\r\n    can_create: boolean;\r\n    can_read: boolean;\r\n    can_update: boolean;\r\n    can_delete: boolean;\r\n  };\r\n}\r\n\r\ninterface RolePermissionFormProps {\r\n  form: any;\r\n  initialPermissions?: PermissionState;\r\n  onPermissionsChange?: (permissions: PermissionState) => void;\r\n}\r\n\r\n/**\r\n * Role Permission Form Component\r\n * \r\n * This component provides a form for creating/editing roles with the new permission system.\r\n * It uses CRUD checkboxes for each resource instead of menu checkboxes.\r\n */\r\nconst RolePermissionForm: React.FC<RolePermissionFormProps> = ({\r\n  form,\r\n  initialPermissions = {},\r\n  onPermissionsChange\r\n}) => {\r\n  const [permissions, setPermissions] = useState<PermissionState>(initialPermissions);\r\n  const groupedResources = getGroupedResources();\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(initialPermissions).length > 0) {\r\n      setPermissions(initialPermissions);\r\n    }\r\n  }, [initialPermissions]);\r\n\r\n  useEffect(() => {\r\n    if (onPermissionsChange) {\r\n      onPermissionsChange(permissions);\r\n    }\r\n  }, [permissions, onPermissionsChange]);\r\n\r\n  const handleCheckboxChange = (\r\n    resource: string,\r\n    action: 'can_create' | 'can_read' | 'can_update' | 'can_delete',\r\n    checked: boolean\r\n  ) => {\r\n    setPermissions(prev => ({\r\n      ...prev,\r\n      [resource]: {\r\n        ...(prev[resource] || {\r\n          can_create: false,\r\n          can_read: false,\r\n          can_update: false,\r\n          can_delete: false\r\n        }),\r\n        [action]: checked\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleSelectAllForAction = (\r\n    action: 'can_create' | 'can_read' | 'can_update' | 'can_delete',\r\n    checked: boolean\r\n  ) => {\r\n    const updated = { ...permissions };\r\n    AVAILABLE_RESOURCES.forEach(res => {\r\n      if (!updated[res.resource]) {\r\n        updated[res.resource] = {\r\n          can_create: false,\r\n          can_read: false,\r\n          can_update: false,\r\n          can_delete: false\r\n        };\r\n      }\r\n      updated[res.resource][action] = checked;\r\n    });\r\n    setPermissions(updated);\r\n  };\r\n\r\n  const handleSelectAllForResource = (resource: string, checked: boolean) => {\r\n    setPermissions(prev => ({\r\n      ...prev,\r\n      [resource]: {\r\n        can_create: checked,\r\n        can_read: checked,\r\n        can_update: checked,\r\n        can_delete: checked\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Get permissions array for submission\r\n  const getPermissionsArray = () => {\r\n    return Object.entries(permissions)\r\n      .filter(([_, perms]) => \r\n        perms.can_create || perms.can_read || perms.can_update || perms.can_delete\r\n      )\r\n      .map(([resource, perms]) => ({\r\n        resource,\r\n        can_create: perms.can_create || false,\r\n        can_read: perms.can_read || false,\r\n        can_update: perms.can_update || false,\r\n        can_delete: perms.can_delete || false\r\n      }));\r\n  };\r\n\r\n  // Expose getPermissionsArray to parent via form\r\n  useEffect(() => {\r\n    if (form) {\r\n      (form as any).getPermissionsArray = getPermissionsArray;\r\n    }\r\n  }, [permissions, form]);\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Form.Item\r\n        label=\"Role Name\"\r\n        name=\"name\"\r\n        rules={[{ required: true, message: 'Please enter role name!' }]}\r\n      >\r\n        <Input placeholder=\"Enter role name\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"Role Type\"\r\n        name=\"roles_type\"\r\n        rules={[{ required: true, message: 'Please select role type!' }]}\r\n      >\r\n        <Select placeholder=\"Select role type\" allowClear>\r\n          <Select.Option value=\"Admin\">Admin</Select.Option>\r\n          <Select.Option value=\"Manager\">Manager</Select.Option>\r\n          <Select.Option value=\"Employee\">Employee</Select.Option>\r\n          <Select.Option value=\"Salesman\">Salesman</Select.Option>\r\n        </Select>\r\n      </Form.Item>\r\n\r\n      <Form.Item label=\"Description\" name=\"description\">\r\n        <TextArea rows={3} placeholder=\"Enter role description (optional)\" />\r\n      </Form.Item>\r\n\r\n      <Divider orientation=\"left\">\r\n        <Space>\r\n          <Title level={5} style={{ margin: 0 }}>Permissions (CRUD)</Title>\r\n          <Tag color=\"blue\">Select permissions for each resource</Tag>\r\n        </Space>\r\n      </Divider>\r\n\r\n      {/* Select All Row */}\r\n      <Card size=\"small\" style={{ marginBottom: 16, background: '#f0f2f5' }}>\r\n        <Row gutter={16} align=\"middle\">\r\n          <Col span={8}>\r\n            <Text strong>Select All:</Text>\r\n          </Col>\r\n          <Col span={4} style={{ textAlign: 'center' }}>\r\n            <Checkbox\r\n              onChange={(e) => handleSelectAllForAction('can_create', e.target.checked)}\r\n            >\r\n              <Text strong>Create</Text>\r\n            </Checkbox>\r\n          </Col>\r\n          <Col span={4} style={{ textAlign: 'center' }}>\r\n            <Checkbox\r\n              onChange={(e) => handleSelectAllForAction('can_read', e.target.checked)}\r\n            >\r\n              <Text strong>Read</Text>\r\n            </Checkbox>\r\n          </Col>\r\n          <Col span={4} style={{ textAlign: 'center' }}>\r\n            <Checkbox\r\n              onChange={(e) => handleSelectAllForAction('can_update', e.target.checked)}\r\n            >\r\n              <Text strong>Update</Text>\r\n            </Checkbox>\r\n          </Col>\r\n          <Col span={4} style={{ textAlign: 'center' }}>\r\n            <Checkbox\r\n              onChange={(e) => handleSelectAllForAction('can_delete', e.target.checked)}\r\n            >\r\n              <Text strong>Delete</Text>\r\n            </Checkbox>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* Resource Permissions by Category */}\r\n      <div style={{ maxHeight: '500px', overflowY: 'auto', paddingRight: 8 }}>\r\n        {Object.entries(groupedResources).map(([category, resources]) => (\r\n          <Card\r\n            key={category}\r\n            title={<Text strong>{category}</Text>}\r\n            size=\"small\"\r\n            style={{ marginBottom: 16 }}\r\n          >\r\n            {resources.map(res => {\r\n              const perms = permissions[res.resource] || {\r\n                can_create: false,\r\n                can_read: false,\r\n                can_update: false,\r\n                can_delete: false\r\n              };\r\n              \r\n              const allChecked = perms.can_create && perms.can_read && \r\n                                perms.can_update && perms.can_delete;\r\n              \r\n              return (\r\n                <Row \r\n                  key={res.resource} \r\n                  gutter={16} \r\n                  align=\"middle\"\r\n                  style={{ \r\n                    marginBottom: 12, \r\n                    padding: 8,\r\n                    borderBottom: '1px solid #f0f0f0'\r\n                  }}\r\n                >\r\n                  <Col span={8}>\r\n                    <Space direction=\"vertical\" size={0}>\r\n                      <Space>\r\n                        <Text strong>{res.label}</Text>\r\n                        <Checkbox\r\n                          checked={allChecked}\r\n                          onChange={(e) => handleSelectAllForResource(res.resource, e.target.checked)}\r\n                          style={{ fontSize: 11 }}\r\n                        >\r\n                          <Text type=\"secondary\" style={{ fontSize: 11 }}>All</Text>\r\n                        </Checkbox>\r\n                      </Space>\r\n                      <Text type=\"secondary\" style={{ fontSize: 11 }}>\r\n                        {res.description}\r\n                      </Text>\r\n                    </Space>\r\n                  </Col>\r\n                  <Col span={4} style={{ textAlign: 'center' }}>\r\n                    <Checkbox\r\n                      checked={perms.can_create}\r\n                      onChange={(e) => \r\n                        handleCheckboxChange(res.resource, 'can_create', e.target.checked)\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col span={4} style={{ textAlign: 'center' }}>\r\n                    <Checkbox\r\n                      checked={perms.can_read}\r\n                      onChange={(e) => \r\n                        handleCheckboxChange(res.resource, 'can_read', e.target.checked)\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col span={4} style={{ textAlign: 'center' }}>\r\n                    <Checkbox\r\n                      checked={perms.can_update}\r\n                      onChange={(e) => \r\n                        handleCheckboxChange(res.resource, 'can_update', e.target.checked)\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col span={4} style={{ textAlign: 'center' }}>\r\n                    <Checkbox\r\n                      checked={perms.can_delete}\r\n                      onChange={(e) => \r\n                        handleCheckboxChange(res.resource, 'can_delete', e.target.checked)\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              );\r\n            })}\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Hidden field to store permissions - not actually used but satisfies form validation */}\r\n      <Form.Item name=\"permissions\" hidden>\r\n        <Input type=\"hidden\" />\r\n      </Form.Item>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RolePermissionForm;\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport const rolesColumns = [\r\n  {\r\n    title: 'Role Name',\r\n    dataIndex: 'name',\r\n    key: 'name',\r\n    render: (text: string) => <strong>{text}</strong>,\r\n  },\r\n  {\r\n    title: 'Role Type',\r\n    dataIndex: 'roles_type',\r\n    key: 'roles_type',\r\n    render: (text: string) => (\r\n      <span style={{ \r\n        padding: '4px 8px', \r\n        borderRadius: '4px', \r\n        fontSize: '12px',\r\n        fontWeight: '500',\r\n        backgroundColor: text === 'Admin' ? '#f6ffed' : '#fff7e6',\r\n        color: text === 'Admin' ? '#52c41a' : '#fa8c16',\r\n        border: `1px solid ${text === 'Admin' ? '#b7eb8f' : '#ffd591'}`\r\n      }}>\r\n        {text}\r\n      </span>\r\n    ),\r\n  },\r\n  {\r\n    title: 'Description',\r\n    dataIndex: 'description',\r\n    key: 'description',\r\n    ellipsis: true,\r\n  },\r\n];\r\n","import React, { useState, useEffect, memo } from 'react';\r\nimport { Form, message, Modal } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport GlobalTable from '../../components/antd/GlobalTable';\r\nimport GlobalDrawer from '../../components/antd/GlobalDrawer';\r\nimport RolePermissionForm, { PermissionState } from './RolePermissionForm';\r\nimport { rolesColumns } from './columns';\r\nimport requestBackServer from '../../services/api';\r\n\r\ninterface Role {\r\n  _id: string;\r\n  name: string;\r\n  description?: string;\r\n  roles_type: string;\r\n  allowedMenuKeys?: string[];\r\n}\r\n\r\n/**\r\n * Roles CRUD Page - Uses new Permission System\r\n * \r\n * This page handles role creation and editing with the new permission-based approach.\r\n * It sends a `permissions` array instead of `allowedMenuKeys` to the backend.\r\n */\r\nconst RolesCrudNew: React.FC = () => {\r\n  const [form] = Form.useForm();\r\n  const [roles, setRoles] = useState<Role[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [drawerVisible, setDrawerVisible] = useState(false);\r\n  const [editingRole, setEditingRole] = useState<Role | null>(null);\r\n  const [permissions, setPermissions] = useState<PermissionState>({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchRoles();\r\n  }, [pagination.current, pagination.pageSize]);\r\n\r\n  const fetchRoles = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await requestBackServer({\r\n        method: 'GET',\r\n        endpoint: '/roles',\r\n        data: {\r\n          pageNumber: pagination.current,\r\n          pageLimit: pagination.pageSize,\r\n        },\r\n      });\r\n\r\n      if (response.statusCode === 200) {\r\n        setRoles(response.result || []);\r\n        const paginationData = response.pagination as any;\r\n        setPagination(prev => ({\r\n          ...prev,\r\n          total: paginationData?.total || response.result?.length || 0,\r\n        }));\r\n      } else {\r\n        message.error(`Failed to fetch roles: ${response.message || 'Unknown error'}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching roles:', error);\r\n      message.error('Error fetching roles');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setEditingRole(null);\r\n    setPermissions({});\r\n    form.resetFields();\r\n    setDrawerVisible(true);\r\n  };\r\n\r\n  const handleEdit = async (record: Role) => {\r\n    setEditingRole(record);\r\n    form.setFieldsValue({\r\n      name: record.name,\r\n      description: record.description,\r\n      roles_type: record.roles_type,\r\n    });\r\n\r\n    // Fetch permissions for this role\r\n    try {\r\n      const response = await requestBackServer({\r\n        method: 'GET',\r\n        endpoint: `/permissions/role/${record._id}`,\r\n      });\r\n\r\n      if (response.statusCode === 200) {\r\n        const resourcesArray = response.result?.resources || [];\r\n        \r\n        // Convert to PermissionState format\r\n        const permsData: PermissionState = {};\r\n        resourcesArray.forEach((item: any) => {\r\n          permsData[item.resource] = {\r\n            can_create: item.can_create,\r\n            can_read: item.can_read,\r\n            can_update: item.can_update,\r\n            can_delete: item.can_delete,\r\n          };\r\n        });\r\n        \r\n        setPermissions(permsData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching role permissions:', error);\r\n      message.warning('Could not load permissions for this role');\r\n    }\r\n\r\n    setDrawerVisible(true);\r\n  };\r\n\r\n  const handleDelete = async (record: Role) => {\r\n    Modal.confirm({\r\n      title: 'Delete Role',\r\n      content: `Are you sure you want to delete role \"${record.name}\"?`,\r\n      okText: 'Yes',\r\n      okType: 'danger',\r\n      cancelText: 'No',\r\n      onOk: async () => {\r\n        try {\r\n          const response = await requestBackServer({\r\n            method: 'DELETE',\r\n            endpoint: `/roles/${record._id}`,\r\n          });\r\n\r\n          if (response.statusCode === 200) {\r\n            message.success('Role deleted successfully');\r\n            fetchRoles();\r\n          } else {\r\n            message.error(`Failed to delete role: ${response.message || 'Unknown error'}`);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error deleting role:', error);\r\n          message.error('Error deleting role');\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      // Validate form fields\r\n      const values = await form.validateFields();\r\n      \r\n      // Build permissions array from state\r\n      const permissionsArray = Object.entries(permissions)\r\n        .filter(([_, perms]) => \r\n          perms.can_create || perms.can_read || perms.can_update || perms.can_delete\r\n        )\r\n        .map(([resource, perms]) => ({\r\n          resource,\r\n          can_create: perms.can_create || false,\r\n          can_read: perms.can_read || false,\r\n          can_update: perms.can_update || false,\r\n          can_delete: perms.can_delete || false,\r\n        }));\r\n\r\n      // Validate at least one permission is selected\r\n      if (permissionsArray.length === 0) {\r\n        message.warning('Please select at least one permission');\r\n        return;\r\n      }\r\n\r\n      // Prepare payload with NEW format (permissions array)\r\n      const payload = {\r\n        name: values.name,\r\n        description: values.description,\r\n        roles_type: values.roles_type,\r\n        permissions: permissionsArray, // âœ… NEW: Send permissions array\r\n      };\r\n\r\n      setSubmitting(true);\r\n\r\n      if (editingRole) {\r\n        // Update existing role\r\n        const response = await requestBackServer({\r\n          method: 'PATCH',\r\n          endpoint: `/roles/${editingRole._id}`,\r\n          data: payload,\r\n        });\r\n\r\n        if (response.statusCode === 200) {\r\n          message.success('Role updated successfully');\r\n          setDrawerVisible(false);\r\n          form.resetFields();\r\n          setPermissions({});\r\n          fetchRoles();\r\n        } else {\r\n          message.error(`Failed to update role: ${response.message || 'Unknown error'}`);\r\n        }\r\n      } else {\r\n        // Create new role\r\n        const response = await requestBackServer({\r\n          method: 'POST',\r\n          endpoint: '/roles',\r\n          data: payload,\r\n        });\r\n\r\n        if (response.statusCode === 201 || response.statusCode === 200) {\r\n          message.success('Role created successfully');\r\n          setDrawerVisible(false);\r\n          form.resetFields();\r\n          setPermissions({});\r\n          fetchRoles();\r\n        } else {\r\n          message.error(`Failed to create role: ${response.message || 'Unknown error'}`);\r\n        }\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error submitting role:', error);\r\n      if (error.errorFields) {\r\n        message.error('Please fill in all required fields');\r\n      } else {\r\n        message.error('Error submitting role');\r\n      }\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setDrawerVisible(false);\r\n    form.resetFields();\r\n    setPermissions({});\r\n    setEditingRole(null);\r\n  };\r\n\r\n  const handlePaginationChange = (page: number, pageSize: number) => {\r\n    setPagination(prev => ({\r\n      ...prev,\r\n      current: page,\r\n      pageSize,\r\n    }));\r\n  };\r\n\r\n  // Add actions column\r\n  const columns: any = [\r\n    ...rolesColumns,\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      render: (_: any, record: any) => (\r\n        <div style={{ display: 'flex', gap: '16px', justifyContent: 'center' }}>\r\n          <EditOutlined\r\n            style={{ cursor: 'pointer', color: '#1890ff', fontSize: '16px' }}\r\n            onClick={() => handleEdit(record)}\r\n          />\r\n          <DeleteOutlined\r\n            style={{ cursor: 'pointer', color: '#ff4d4f', fontSize: '16px' }}\r\n            onClick={() => handleDelete(record)}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ marginBottom: 16, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <h1 style={{ margin: 0 }}>Roles</h1>\r\n        <button\r\n          onClick={handleAdd}\r\n          style={{\r\n            padding: '8px 16px',\r\n            background: '#1890ff',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n          }}\r\n        >\r\n          <PlusOutlined /> Add Role\r\n        </button>\r\n      </div>\r\n\r\n      <GlobalTable\r\n        columns={columns}\r\n        data={roles}\r\n        loading={loading}\r\n        totalCount={pagination.total}\r\n        pageLimit={pagination.pageSize}\r\n        onPaginationChange={handlePaginationChange}\r\n        rowKeyField=\"_id\"\r\n      />\r\n\r\n      <GlobalDrawer\r\n        title={editingRole ? 'Edit Role' : 'Create Role'}\r\n        open={drawerVisible}\r\n        onClose={handleCancel}\r\n        width={900}\r\n      >\r\n        <Form form={form} layout=\"vertical\" onFinish={handleSubmit}>\r\n          <RolePermissionForm\r\n            form={form}\r\n            initialPermissions={permissions}\r\n            onPermissionsChange={setPermissions}\r\n          />\r\n          \r\n          <div style={{ marginTop: 24, display: 'flex', justifyContent: 'flex-end', gap: 12 }}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCancel}\r\n              style={{\r\n                padding: '8px 24px',\r\n                background: '#fff',\r\n                color: '#000',\r\n                border: '1px solid #d9d9d9',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer',\r\n              }}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={submitting}\r\n              style={{\r\n                padding: '8px 24px',\r\n                background: submitting ? '#d9d9d9' : '#1890ff',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: submitting ? 'not-allowed' : 'pointer',\r\n              }}\r\n            >\r\n              {submitting ? 'Submitting...' : 'Submit'}\r\n            </button>\r\n          </div>\r\n        </Form>\r\n      </GlobalDrawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(RolesCrudNew);\r\n\r\n","import React, { memo } from 'react';\nimport RolesCrudNew from './RolesCrudNew';\n\n/**\n * Roles CRUD Page - Main Entry Point\n * \n * Updated to use new permission system that sends `permissions` array\n * instead of `allowedMenuKeys` to the backend.\n */\nconst RolesCrud: React.FC = () => {\n  return <RolesCrudNew />;\n};\n\nexport default memo(RolesCrud);\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","PlusOutlined","props","ref","React","AntdIcon","icon","PlusOutlinedSvg","AVAILABLE_RESOURCES","resource","label","category","description","menus","groupedResourcesCache","Map","Title","Text","Typography","TextArea","Input","_ref","form","initialPermissions","onPermissionsChange","permissions","setPermissions","useState","groupedResources","reduce","acc","push","useEffect","keys","handleCheckboxChange","action","checked","prev","_objectSpread","can_create","can_read","can_update","can_delete","handleSelectAllForAction","updated","forEach","res","getPermissionsArray","entries","filter","_ref2","_","perms","map","_ref3","_jsxs","style","width","children","_jsx","Form","Item","name","rules","required","message","placeholder","Select","allowClear","Option","value","rows","Divider","orientation","Space","level","margin","Tag","color","Card","size","marginBottom","background","Row","gutter","align","Col","span","strong","textAlign","Checkbox","onChange","e","maxHeight","overflowY","paddingRight","_ref4","resources","title","allChecked","padding","borderBottom","direction","handleSelectAllForResource","fontSize","type","hidden","rolesColumns","dataIndex","render","text","borderRadius","fontWeight","backgroundColor","border","concat","ellipsis","RolesCrudNew","useForm","roles","setRoles","loading","setLoading","drawerVisible","setDrawerVisible","editingRole","setEditingRole","submitting","setSubmitting","pagination","setPagination","current","pageSize","total","fetchRoles","async","response","requestBackServer","method","endpoint","data","pageNumber","pageLimit","statusCode","result","paginationData","_response$result","error","console","handleCancel","resetFields","columns","record","display","gap","justifyContent","EditOutlined","cursor","onClick","setFieldsValue","roles_type","_id","_response$result2","resourcesArray","permsData","item","warning","handleEdit","DeleteOutlined","Modal","confirm","content","okText","okType","cancelText","onOk","success","handleDelete","alignItems","handleAdd","GlobalTable","totalCount","onPaginationChange","handlePaginationChange","page","rowKeyField","GlobalDrawer","open","onClose","layout","onFinish","values","validateFields","permissionsArray","payload","errorFields","RolePermissionForm","marginTop","disabled","memo","RolesCrud"],"sourceRoot":""}