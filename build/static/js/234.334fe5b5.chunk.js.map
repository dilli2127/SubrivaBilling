{"version":3,"file":"static/js/234.334fe5b5.chunk.js","mappings":"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","sources":["components/common/PermissionAwareCrudPage.tsx","pages/Vendor/crud.tsx"],"sourcesContent":["/**\r\n * PermissionAwareCrudPage\r\n * Wrapper around GenericCrudPage that automatically applies permission checks\r\n */\r\n\r\nimport React from 'react';\r\nimport { GenericCrudPage } from './GenericCrudPage';\r\nimport { canCreate, canUpdate, canDelete, RESOURCES } from '../../helpers/permissionHelper';\r\nimport { BaseEntity } from '../../types/entities';\r\nimport { CrudConfig } from '../../hooks/useGenericCrud';\r\nimport { CrudColumn, CrudFormItem, FilterConfig, CustomButtonConfig } from './GenericCrudPage';\r\n\r\ninterface PermissionAwareCrudPageProps<T extends BaseEntity> {\r\n  resource: string; // Resource name for permission checks\r\n  config: Omit<CrudConfig<T>, 'columns' | 'formItems'> & {\r\n    columns: CrudColumn[];\r\n    formItems: CrudFormItem[];\r\n    metadataFieldName?: string;\r\n    canCreate?: () => boolean;\r\n    canEdit?: (record: any) => boolean;\r\n    canDelete?: (record: any) => boolean;\r\n  };\r\n  filters?: FilterConfig[];\r\n  onFilterChange?: (values: Record<string, any>) => void;\r\n  customButtons?: CustomButtonConfig[];\r\n  onValuesChange?: (changed: any, all: any) => void;\r\n  enableSuperAdminFilters?: boolean;\r\n  enableDynamicFields?: boolean;\r\n  showDynamicColumnsInTable?: boolean;\r\n  entityName?: string;\r\n}\r\n\r\n/**\r\n * PermissionAwareCrudPage\r\n * \r\n * Automatically applies permission checks to CRUD operations:\r\n * - Hides \"Add\" button if no create permission\r\n * - Disables edit action if no update permission\r\n * - Disables delete action if no delete permission\r\n * \r\n * @example\r\n * <PermissionAwareCrudPage\r\n *   resource=\"customer\"\r\n *   config={{\r\n *     title: 'Customers',\r\n *     columns: customerColumns,\r\n *     formItems: customerFormItems,\r\n *     apiRoutes: getEntityApiRoutes('Customer'),\r\n *   }}\r\n * />\r\n */\r\nexport function PermissionAwareCrudPage<T extends BaseEntity>({\r\n  resource,\r\n  config,\r\n  ...otherProps\r\n}: PermissionAwareCrudPageProps<T>) {\r\n  // Check permissions\r\n  const canCreateResource = canCreate(resource);\r\n  const canUpdateResource = canUpdate(resource);\r\n  const canDeleteResource = canDelete(resource);\r\n\r\n  // Merge permission checks with any existing custom logic\r\n  const enhancedConfig = {\r\n    ...config,\r\n    // Combine permission checks with custom logic (if any)\r\n    canCreate: config.canCreate \r\n      ? () => canCreateResource && config.canCreate!()\r\n      : () => canCreateResource,\r\n    canEdit: config.canEdit\r\n      ? (record: any) => canUpdateResource && config.canEdit!(record)\r\n      : () => canUpdateResource,\r\n    canDelete: config.canDelete\r\n      ? (record: any) => canDeleteResource && config.canDelete!(record)\r\n      : () => canDeleteResource,\r\n  };\r\n\r\n  return <GenericCrudPage config={enhancedConfig} {...otherProps} />;\r\n}\r\n\r\nexport default PermissionAwareCrudPage;\r\n\r\n","import React from 'react';\r\nimport { Input, Switch } from 'antd';\r\nimport { GenericCrudPage } from '../../components/common/GenericCrudPage';\r\nimport { Vendor } from '../../types/entities';\r\nimport PermissionAwareCrudPage from '../../components/common/PermissionAwareCrudPage';\r\nimport { RESOURCES } from '../../helpers/permissionHelper';\r\n\r\nconst vendorConfig = {\r\n  title: 'Vendor',\r\n  columns: [\r\n    {\r\n      title: 'Vendor Name',\r\n      dataIndex: 'vendor_name',\r\n      key: 'vendor_name',\r\n    },\r\n    {\r\n      title: 'Company Name',\r\n      dataIndex: 'company_name',\r\n      key: 'company_name',\r\n    },\r\n    {\r\n      title: 'Contact Person',\r\n      dataIndex: 'contact_person',\r\n      key: 'contact_person',\r\n    },\r\n    {\r\n      title: 'Phone',\r\n      dataIndex: 'phone',\r\n      key: 'phone',\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'GST No',\r\n      dataIndex: 'gst_no',\r\n      key: 'gst_no',\r\n    },\r\n    {\r\n      title: 'PAN No',\r\n      dataIndex: 'pan_no',\r\n      key: 'pan_no',\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      render: (status: boolean) =>\r\n        status ? (\r\n          <span style={{ color: 'green' }}>Active</span>\r\n        ) : (\r\n          <span style={{ color: 'red' }}>Inactive</span>\r\n        ),\r\n    },\r\n  ],\r\n  formItems: [\r\n    {\r\n      label: 'Vendor Name',\r\n      name: 'vendor_name',\r\n      rules: [{ required: true, message: 'Please enter vendor name!' }],\r\n      component: <Input placeholder=\"Enter vendor name\" />,\r\n    },\r\n    {\r\n      label: 'Company Name',\r\n      name: 'company_name',\r\n      rules: [{ required: true, message: 'Please enter company name!' }],\r\n      component: <Input placeholder=\"Enter company name\" />,\r\n    },\r\n    {\r\n      label: 'Contact Person',\r\n      name: 'contact_person',\r\n      rules: [{ required: true, message: 'Please enter contact person!' }],\r\n      component: <Input placeholder=\"Enter contact person name\" />,\r\n    },\r\n    {\r\n      label: 'Phone',\r\n      name: 'phone',\r\n      rules: [\r\n        { required: true, message: 'Please enter phone number!' },\r\n        { pattern: /^[0-9]{10}$/, message: 'Phone number must be exactly 10 digits!' }\r\n      ],\r\n      component: <Input placeholder=\"Enter phone number\" maxLength={10} />,\r\n    },\r\n    {\r\n      label: 'Email',\r\n      name: 'email',\r\n      rules: [\r\n        { required: true, message: 'Please enter email!' },\r\n        { type: 'email', message: 'Please enter a valid email!' }\r\n      ],\r\n      component: <Input placeholder=\"Enter email address\" />,\r\n    },\r\n    {\r\n      label: 'GST No',\r\n      name: 'gst_no',\r\n      component: <Input placeholder=\"Enter GST number\" />,\r\n    },\r\n    {\r\n      label: 'PAN No',\r\n      name: 'pan_no',\r\n      component: <Input placeholder=\"Enter PAN number\" />,\r\n    },\r\n    {\r\n      label: 'Address',\r\n      name: 'address',\r\n      component: <Input.TextArea placeholder=\"Enter address\" rows={3} />,\r\n    },\r\n    {\r\n      label: 'City',\r\n      name: 'city',\r\n      component: <Input placeholder=\"Enter city\" />,\r\n    },\r\n    {\r\n      label: 'State',\r\n      name: 'state',\r\n      component: <Input placeholder=\"Enter state\" />,\r\n    },\r\n    {\r\n      label: 'Pincode',\r\n      name: 'pincode',\r\n      component: <Input placeholder=\"Enter pincode\" maxLength={6} />,\r\n    },\r\n    {\r\n      label: 'Status',\r\n      name: 'status',\r\n      valuePropName: 'checked',\r\n      component: (\r\n        <Switch\r\n          checkedChildren=\"Active\"\r\n          unCheckedChildren=\"Inactive\"\r\n          defaultChecked\r\n        />\r\n      ),\r\n    },\r\n  ],\r\n  entityName: 'Vendor',\r\n  formColumns: 2,\r\n};\r\n\r\nconst VendorCrud: React.FC = () => {\r\n  return (\r\n    <PermissionAwareCrudPage \r\n      resource={RESOURCES.VENDOR}\r\n      config={vendorConfig}\r\n      enableDynamicFields={true}\r\n      entityName=\"vendor\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default VendorCrud;\r\n"],"names":["PermissionAwareCrudPage","_ref","resource","config","otherProps","_objectWithoutProperties","_excluded","canCreateResource","canCreate","canUpdateResource","canUpdate","canDeleteResource","canDelete","enhancedConfig","_objectSpread","canEdit","record","_jsx","GenericCrudPage","vendorConfig","title","columns","dataIndex","key","render","status","style","color","children","formItems","label","name","rules","required","message","component","Input","placeholder","pattern","maxLength","type","TextArea","rows","valuePropName","Switch","checkedChildren","unCheckedChildren","defaultChecked","entityName","formColumns","VendorCrud","RESOURCES","VENDOR","enableDynamicFields"],"sourceRoot":""}