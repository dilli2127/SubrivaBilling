{"version":3,"file":"static/js/680.3d058248.chunk.js","mappings":"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","sources":["pages/Customer/crud.tsx","components/common/PermissionAwareCrudPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Input, Select, Space, Tag } from 'antd';\r\nimport {\r\n  HomeOutlined,\r\n  MailOutlined,\r\n  PhoneOutlined,\r\n  UserOutlined,\r\n} from '@ant-design/icons';\r\nimport { PermissionAwareCrudPage } from '../../components/common/PermissionAwareCrudPage';\r\nimport { Customer } from '../../types/entities';\r\nimport { RESOURCES } from '../../helpers/permissionHelper';\r\n\r\nconst { Option } = Select;\r\n\r\nconst customerConfig = {\r\n  title: 'Customer',\r\n  columns: [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'full_name',\r\n      key: 'full_name',\r\n      render: (name: string) => (\r\n        <Tag icon={<UserOutlined />} color=\"geekblue\">\r\n          {name}\r\n        </Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n      render: (email: string) => (\r\n        <Space>\r\n          <MailOutlined style={{ color: '#13c2c2' }} />\r\n          <span>{email || '-'}</span>\r\n        </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Mobile',\r\n      dataIndex: 'mobile',\r\n      key: 'mobile',\r\n      render: (mobile: string) => (\r\n        <Space>\r\n          <PhoneOutlined style={{ color: '#52c41a' }} />\r\n          <span>{mobile || '-'}</span>\r\n        </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Address',\r\n      dataIndex: 'address',\r\n      key: 'address',\r\n      render: (address: string) => (\r\n        <Space>\r\n          <HomeOutlined style={{ color: '#fa8c16' }} />\r\n          <span>{address || '-'}</span>\r\n        </Space>\r\n      ),\r\n    },\r\n  ],\r\n  formItems: [\r\n    {\r\n      name: 'full_name',\r\n      label: 'Full Name',\r\n      rules: [{ required: true, message: 'Please enter full name' }],\r\n      component: (\r\n        <Input prefix={<UserOutlined />} placeholder=\"Enter full name\" />\r\n      ),\r\n    },\r\n    {\r\n      name: 'email',\r\n      label: 'Email Address',\r\n      rules: [\r\n        { required: false, message: 'Please enter email' },\r\n        { type: 'email', message: 'Please enter valid email' },\r\n      ],\r\n      component: <Input prefix={<MailOutlined />} placeholder=\"Enter email\" />,\r\n    },\r\n    {\r\n      name: 'mobile',\r\n      label: 'Mobile Number',\r\n      rules: [\r\n        { required: true, message: 'Please enter mobile number' },\r\n        { len: 10, message: 'Mobile number must be 10 digits' },\r\n      ],\r\n      component: (\r\n        <Input\r\n          prefix={<PhoneOutlined />}\r\n          placeholder=\"Enter mobile number\"\r\n          maxLength={10}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      name: 'address',\r\n      label: 'Address',\r\n      rules: [{ required: false, message: 'Please enter address' }],\r\n      component: <Input.TextArea placeholder=\"Enter address\" rows={3} />,\r\n    },\r\n    {\r\n      name: 'customer_type',\r\n      label: 'Customer Type',\r\n      rules: [{ required: true, message: 'Please select customer type' }],\r\n      component: (\r\n        <Select placeholder=\"Select customer type\">\r\n          <Option value=\"regular\">Regular</Option>\r\n          <Option value=\"vip\">VIP</Option>\r\n          <Option value=\"wholesale\">Wholesale</Option>\r\n        </Select>\r\n      ),\r\n    },\r\n  ],\r\n  entityName: 'Customer',\r\n  formColumns: 2,\r\n  drawerWidth: 600,\r\n};\r\n\r\nconst CustomerCrud: React.FC = () => {\r\n  return (\r\n    <PermissionAwareCrudPage \r\n      resource={RESOURCES.CUSTOMER}\r\n      config={customerConfig}\r\n      enableDynamicFields={true}\r\n      entityName=\"customer\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default CustomerCrud;","/**\r\n * PermissionAwareCrudPage\r\n * Wrapper around GenericCrudPage that automatically applies permission checks\r\n */\r\n\r\nimport React from 'react';\r\nimport { GenericCrudPage } from './GenericCrudPage';\r\nimport { canCreate, canUpdate, canDelete, RESOURCES } from '../../helpers/permissionHelper';\r\nimport { BaseEntity } from '../../types/entities';\r\nimport { CrudConfig } from '../../hooks/useGenericCrud';\r\nimport { CrudColumn, CrudFormItem, FilterConfig, CustomButtonConfig } from './GenericCrudPage';\r\n\r\ninterface PermissionAwareCrudPageProps<T extends BaseEntity> {\r\n  resource: string; // Resource name for permission checks\r\n  config: Omit<CrudConfig<T>, 'columns' | 'formItems'> & {\r\n    columns: CrudColumn[];\r\n    formItems: CrudFormItem[];\r\n    metadataFieldName?: string;\r\n    canCreate?: () => boolean;\r\n    canEdit?: (record: any) => boolean;\r\n    canDelete?: (record: any) => boolean;\r\n  };\r\n  filters?: FilterConfig[];\r\n  onFilterChange?: (values: Record<string, any>) => void;\r\n  customButtons?: CustomButtonConfig[];\r\n  onValuesChange?: (changed: any, all: any) => void;\r\n  enableSuperAdminFilters?: boolean;\r\n  enableDynamicFields?: boolean;\r\n  showDynamicColumnsInTable?: boolean;\r\n  entityName?: string;\r\n}\r\n\r\n/**\r\n * PermissionAwareCrudPage\r\n * \r\n * Automatically applies permission checks to CRUD operations:\r\n * - Hides \"Add\" button if no create permission\r\n * - Disables edit action if no update permission\r\n * - Disables delete action if no delete permission\r\n * \r\n * @example\r\n * <PermissionAwareCrudPage\r\n *   resource=\"customer\"\r\n *   config={{\r\n *     title: 'Customers',\r\n *     columns: customerColumns,\r\n *     formItems: customerFormItems,\r\n *     apiRoutes: getEntityApiRoutes('Customer'),\r\n *   }}\r\n * />\r\n */\r\nexport function PermissionAwareCrudPage<T extends BaseEntity>({\r\n  resource,\r\n  config,\r\n  ...otherProps\r\n}: PermissionAwareCrudPageProps<T>) {\r\n  // Check permissions\r\n  const canCreateResource = canCreate(resource);\r\n  const canUpdateResource = canUpdate(resource);\r\n  const canDeleteResource = canDelete(resource);\r\n\r\n  // Merge permission checks with any existing custom logic\r\n  const enhancedConfig = {\r\n    ...config,\r\n    // Combine permission checks with custom logic (if any)\r\n    canCreate: config.canCreate \r\n      ? () => canCreateResource && config.canCreate!()\r\n      : () => canCreateResource,\r\n    canEdit: config.canEdit\r\n      ? (record: any) => canUpdateResource && config.canEdit!(record)\r\n      : () => canUpdateResource,\r\n    canDelete: config.canDelete\r\n      ? (record: any) => canDeleteResource && config.canDelete!(record)\r\n      : () => canDeleteResource,\r\n  };\r\n\r\n  return <GenericCrudPage config={enhancedConfig} {...otherProps} />;\r\n}\r\n\r\nexport default PermissionAwareCrudPage;\r\n\r\n"],"names":["Option","Select","customerConfig","title","columns","dataIndex","key","render","name","_jsx","Tag","icon","UserOutlined","color","children","email","_jsxs","Space","MailOutlined","style","mobile","PhoneOutlined","address","HomeOutlined","formItems","label","rules","required","message","component","Input","prefix","placeholder","type","len","maxLength","TextArea","rows","value","entityName","formColumns","drawerWidth","CustomerCrud","PermissionAwareCrudPage","resource","RESOURCES","CUSTOMER","config","enableDynamicFields","_ref","otherProps","_objectWithoutProperties","_excluded","canCreateResource","canCreate","canUpdateResource","canUpdate","canDeleteResource","canDelete","enhancedConfig","_objectSpread","canEdit","record","GenericCrudPage"],"sourceRoot":""}