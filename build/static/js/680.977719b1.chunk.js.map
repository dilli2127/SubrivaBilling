{"version":3,"file":"static/js/680.977719b1.chunk.js","mappings":"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","sources":["pages/Customer/crud.tsx","components/common/PermissionAwareCrudPage.tsx"],"sourcesContent":["import React from 'react';\nimport { Input, Select, Space, Tag } from 'antd';\nimport {\n  HomeOutlined,\n  MailOutlined,\n  PhoneOutlined,\n  UserOutlined,\n} from '@ant-design/icons';\nimport { PermissionAwareCrudPage } from '../../components/common/PermissionAwareCrudPage';\nimport { Customer } from '../../types/entities';\nimport { getEntityApiRoutes } from '../../helpers/CrudFactory';\nimport { RESOURCES } from '../../helpers/permissionHelper';\n\nconst { Option } = Select;\n\nconst customerConfig = {\n  title: 'Customer',\n  columns: [\n    {\n      title: 'Name',\n      dataIndex: 'full_name',\n      key: 'full_name',\n      render: (name: string) => (\n        <Tag icon={<UserOutlined />} color=\"geekblue\">\n          {name}\n        </Tag>\n      ),\n    },\n    {\n      title: 'Email',\n      dataIndex: 'email',\n      key: 'email',\n      render: (email: string) => (\n        <Space>\n          <MailOutlined style={{ color: '#13c2c2' }} />\n          <span>{email || '-'}</span>\n        </Space>\n      ),\n    },\n    {\n      title: 'Mobile',\n      dataIndex: 'mobile',\n      key: 'mobile',\n      render: (mobile: string) => (\n        <Space>\n          <PhoneOutlined style={{ color: '#52c41a' }} />\n          <span>{mobile || '-'}</span>\n        </Space>\n      ),\n    },\n    {\n      title: 'Address',\n      dataIndex: 'address',\n      key: 'address',\n      render: (address: string) => (\n        <Space>\n          <HomeOutlined style={{ color: '#fa8c16' }} />\n          <span>{address || '-'}</span>\n        </Space>\n      ),\n    },\n  ],\n  formItems: [\n    {\n      name: 'full_name',\n      label: 'Full Name',\n      rules: [{ required: true, message: 'Please enter full name' }],\n      component: (\n        <Input prefix={<UserOutlined />} placeholder=\"Enter full name\" />\n      ),\n    },\n    {\n      name: 'email',\n      label: 'Email Address',\n      rules: [\n        { required: false, message: 'Please enter email' },\n        { type: 'email', message: 'Please enter valid email' },\n      ],\n      component: <Input prefix={<MailOutlined />} placeholder=\"Enter email\" />,\n    },\n    {\n      name: 'mobile',\n      label: 'Mobile Number',\n      rules: [\n        { required: true, message: 'Please enter mobile number' },\n        { len: 10, message: 'Mobile number must be 10 digits' },\n      ],\n      component: (\n        <Input\n          prefix={<PhoneOutlined />}\n          placeholder=\"Enter mobile number\"\n          maxLength={10}\n        />\n      ),\n    },\n    {\n      name: 'address',\n      label: 'Address',\n      rules: [{ required: false, message: 'Please enter address' }],\n      component: <Input.TextArea placeholder=\"Enter address\" rows={3} />,\n    },\n    {\n      name: 'customer_type',\n      label: 'Customer Type',\n      rules: [{ required: true, message: 'Please select customer type' }],\n      component: (\n        <Select placeholder=\"Select customer type\">\n          <Option value=\"regular\">Regular</Option>\n          <Option value=\"vip\">VIP</Option>\n          <Option value=\"wholesale\">Wholesale</Option>\n        </Select>\n      ),\n    },\n  ],\n  apiRoutes: getEntityApiRoutes('Customer'),\n  formColumns: 2,\n  drawerWidth: 600,\n};\n\nconst CustomerCrud: React.FC = () => {\n  return (\n    <PermissionAwareCrudPage \n      resource={RESOURCES.CUSTOMER}\n      config={customerConfig}\n      enableDynamicFields={true}\n      entityName=\"customer\"\n    />\n  );\n};\n\nexport default CustomerCrud;","/**\r\n * PermissionAwareCrudPage\r\n * Wrapper around GenericCrudPage that automatically applies permission checks\r\n */\r\n\r\nimport React from 'react';\r\nimport { GenericCrudPage } from './GenericCrudPage';\r\nimport { canCreate, canUpdate, canDelete, RESOURCES } from '../../helpers/permissionHelper';\r\nimport { BaseEntity } from '../../types/entities';\r\nimport { CrudConfig } from '../../hooks/useGenericCrud';\r\nimport { CrudColumn, CrudFormItem, FilterConfig, CustomButtonConfig } from './GenericCrudPage';\r\n\r\ninterface PermissionAwareCrudPageProps<T extends BaseEntity> {\r\n  resource: string; // Resource name for permission checks\r\n  config: Omit<CrudConfig<T>, 'columns' | 'formItems'> & {\r\n    columns: CrudColumn[];\r\n    formItems: CrudFormItem[];\r\n    metadataFieldName?: string;\r\n    canCreate?: () => boolean;\r\n    canEdit?: (record: any) => boolean;\r\n    canDelete?: (record: any) => boolean;\r\n  };\r\n  filters?: FilterConfig[];\r\n  onFilterChange?: (values: Record<string, any>) => void;\r\n  customButtons?: CustomButtonConfig[];\r\n  onValuesChange?: (changed: any, all: any) => void;\r\n  enableSuperAdminFilters?: boolean;\r\n  enableDynamicFields?: boolean;\r\n  showDynamicColumnsInTable?: boolean;\r\n  entityName?: string;\r\n}\r\n\r\n/**\r\n * PermissionAwareCrudPage\r\n * \r\n * Automatically applies permission checks to CRUD operations:\r\n * - Hides \"Add\" button if no create permission\r\n * - Disables edit action if no update permission\r\n * - Disables delete action if no delete permission\r\n * \r\n * @example\r\n * <PermissionAwareCrudPage\r\n *   resource=\"customer\"\r\n *   config={{\r\n *     title: 'Customers',\r\n *     columns: customerColumns,\r\n *     formItems: customerFormItems,\r\n *     apiRoutes: getEntityApiRoutes('Customer'),\r\n *   }}\r\n * />\r\n */\r\nexport function PermissionAwareCrudPage<T extends BaseEntity>({\r\n  resource,\r\n  config,\r\n  ...otherProps\r\n}: PermissionAwareCrudPageProps<T>) {\r\n  // Check permissions\r\n  const canCreateResource = canCreate(resource);\r\n  const canUpdateResource = canUpdate(resource);\r\n  const canDeleteResource = canDelete(resource);\r\n\r\n  // Merge permission checks with any existing custom logic\r\n  const enhancedConfig = {\r\n    ...config,\r\n    // Combine permission checks with custom logic (if any)\r\n    canCreate: config.canCreate \r\n      ? () => canCreateResource && config.canCreate!()\r\n      : () => canCreateResource,\r\n    canEdit: config.canEdit\r\n      ? (record: any) => canUpdateResource && config.canEdit!(record)\r\n      : () => canUpdateResource,\r\n    canDelete: config.canDelete\r\n      ? (record: any) => canDeleteResource && config.canDelete!(record)\r\n      : () => canDeleteResource,\r\n  };\r\n\r\n  return <GenericCrudPage config={enhancedConfig} {...otherProps} />;\r\n}\r\n\r\nexport default PermissionAwareCrudPage;\r\n\r\n"],"names":["Option","Select","customerConfig","title","columns","dataIndex","key","render","name","_jsx","Tag","icon","UserOutlined","color","children","email","_jsxs","Space","MailOutlined","style","mobile","PhoneOutlined","address","HomeOutlined","formItems","label","rules","required","message","component","Input","prefix","placeholder","type","len","maxLength","TextArea","rows","value","apiRoutes","getEntityApiRoutes","formColumns","drawerWidth","CustomerCrud","PermissionAwareCrudPage","resource","RESOURCES","CUSTOMER","config","enableDynamicFields","entityName","_ref","otherProps","_objectWithoutProperties","_excluded","canCreateResource","canCreate","canUpdateResource","canUpdate","canDeleteResource","canDelete","enhancedConfig","_objectSpread","canEdit","record","GenericCrudPage"],"sourceRoot":""}