{"version":3,"file":"static/js/102.8faa5e20.chunk.js","mappings":"iQAOA,MAAM,OAAEA,GAAWC,EAAAA,EA2InB,EA/H+BC,KAC7B,MAAM,aAAEC,IAAiBC,EAAAA,EAAAA,KACnBC,EAAgBF,EAAa,eAC3BG,MAAOC,EAAgBC,QAASC,IACtCC,EAAAA,EAAAA,IAAmBL,EAAcM,cAAc,YAEjDC,EAAAA,EAAAA,YAAU,KACRP,EAAc,YACb,CAACA,IAoBJ,MAAMQ,EAAiB,CACrBC,MAAO,YACPC,QAAS,CACP,CACED,MAAO,UACPE,IAAK,UACLC,OAAQA,CAACC,EAAQC,KAAsB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,MACrC,CAC0B,QAD1BL,EACED,EAAOO,yBAAiB,IAAAN,GAAa,QAAbC,EAAxBD,EAA0BO,mBAAW,IAAAN,OAAb,EAAxBA,EAAuCO,KACf,QADmBN,EAC3CH,EAAOO,yBAAiB,IAAAJ,GAAa,QAAbC,EAAxBD,EAA0BK,mBAAW,IAAAJ,GAAa,QAAbC,EAArCD,EAAuCM,mBAAW,IAAAL,OAA1B,EAAxBA,EAAoDM,aAC9C,OAANX,QAAM,IAANA,GAAyB,QAAnBM,EAANN,EAAQO,yBAAiB,IAAAD,OAAnB,EAANA,EAA2BM,UAE1BC,OAAOC,SACPC,KAAK,QAAU,QAEtB,CACEpB,MAAO,aACPqB,UAAW,aACXnB,IAAK,cAEP,CACEF,MAAO,WACPqB,UAAW,WACXnB,IAAK,YAEP,CACEF,MAAO,YACPE,IAAK,YACLC,OAAQA,CAACC,EAAQC,KAAsB,IAAAiB,EAAA,OACb,QAAxBA,EAAAjB,EAAOO,yBAAiB,IAAAU,OAAA,EAAxBA,EAA0BC,YAAa,SAG7CC,UAAW,CACT,CACEC,MAAO,iBACPX,KAAM,iBACNY,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,kCACnCC,WACEC,EAAAA,EAAAA,KAAC3C,EAAAA,EAAM,CACL4C,YAAY,kBACZrC,QAASC,EACTqC,YAAU,EACVC,YAAU,EAAAC,WAEM,OAAdzC,QAAc,IAAdA,OAAc,EAAdA,EAAgB0C,SAAU,IAAIC,KAAKC,IAAe,IAAAC,EAAAC,EAAAC,EAAA,OAClDC,EAAAA,EAAAA,MAACvD,EAAM,CAAewD,MAAOL,EAAIM,IAAIT,SAAA,CAC/B,OAAHG,QAAG,IAAHA,GAAgB,QAAbC,EAAHD,EAAKxB,mBAAW,IAAAyB,OAAb,EAAHA,EAAkBxB,KAAK,KAAG,IACvB,OAAHuB,QAAG,IAAHA,GAAgB,QAAbE,EAAHF,EAAKxB,mBAAW,IAAA0B,GAAa,QAAbC,EAAhBD,EAAkBxB,mBAAW,IAAAyB,OAA1B,EAAHA,EAA+BxB,aAAa,MAAO,OAAHqB,QAAG,IAAHA,OAAG,EAAHA,EAAKpB,WAF3CoB,EAAIM,WAQzB,CACElB,MAAO,WACPX,KAAM,WACNY,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,6BACnCC,WACEC,EAAAA,EAAAA,KAACc,EAAAA,EAAW,CAACC,IAAK,EAAGd,YAAY,UAAUe,MAAO,CAAEC,MAAO,WAG/D,CACEtB,MAAO,SACPX,KAAM,aACNY,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,4BACnCC,WACEY,EAAAA,EAAAA,MAACtD,EAAAA,EAAM,CAAC4C,YAAY,uBAAsBG,SAAA,EACxCJ,EAAAA,EAAAA,KAAC3C,EAAAA,EAAOD,OAAM,CAACwD,MAAM,UAASR,SAAC,aAC/BJ,EAAAA,EAAAA,KAAC3C,EAAAA,EAAOD,OAAM,CAACwD,MAAM,UAASR,SAAC,aAC/BJ,EAAAA,EAAAA,KAAC3C,EAAAA,EAAOD,OAAM,CAACwD,MAAM,eAAcR,SAAC,kBACpCJ,EAAAA,EAAAA,KAAC3C,EAAAA,EAAOD,OAAM,CAACwD,MAAM,YAAWR,SAAC,eACjCJ,EAAAA,EAAAA,KAAC3C,EAAAA,EAAOD,OAAM,CAACwD,MAAM,mBAAkBR,SAAC,yBAM9C,CACET,MAAO,WACPX,KAAM,WACNY,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2BACnCC,WACEC,EAAAA,EAAAA,KAACkB,EAAAA,EAAU,CAACjB,YAAY,cAAce,MAAO,CAAEC,MAAO,WAG1D,CACEtB,MAAO,OACPX,KAAM,OACNY,MAAO,GACPG,WAAWC,EAAAA,EAAAA,KAACmB,EAAAA,EAAMC,SAAQ,CAACC,KAAM,EAAGpB,YAAY,oBAGpDqB,WAAWC,EAAAA,EAAAA,IAAmB,YAC9BC,YAAa,GAGf,OAAOxB,EAAAA,EAAAA,KAACyB,EAAAA,EAAe,CAACC,OAAQzD,I","sources":["pages/StockOut/crud.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { DatePicker, Input, InputNumber, Select } from \"antd\";\r\nimport { useApiActions } from \"../../services/api/useApiActions\";\r\nimport { useDynamicSelector } from \"../../services/redux\";\r\nimport { GenericCrudPage } from \"../../components/common/GenericCrudPage\";\r\nimport type { StockOut } from \"../../types/entities\";\r\nimport { getEntityApiRoutes } from \"../../helpers/CrudFactory\";\r\nconst { Option } = Select;\r\ntype StockAudit = {\r\n  _id: string;\r\n  batch_no: string;\r\n  category_name: string;\r\n  ProductItem?: {\r\n    name?: string;\r\n    VariantItem?: {\r\n      variant_name?: string;\r\n    };\r\n  };\r\n};\r\nconst StockOutCrud: React.FC = () => {\r\n  const { getEntityApi } = useApiActions();\r\n  const StockAuditApi = getEntityApi(\"StockAudit\");\r\n  const { items: StockAuditList, loading: stockAuditLoading } =\r\n    useDynamicSelector(StockAuditApi.getIdentifier(\"GetAll\"));\r\n\r\n  useEffect(() => {\r\n    StockAuditApi(\"GetAll\");\r\n  }, [StockAuditApi]);\r\n\r\n  type StockOutRecord = {\r\n    stock_audit_items?: {\r\n      batch_no?: string;\r\n      ProductItem?: {\r\n        name?: string;\r\n        category?: string;\r\n        VariantItem?: {\r\n          variant_name?: string;\r\n        };\r\n      };\r\n      pack_size?: string;\r\n      pack_type?: string;\r\n    };\r\n    out_reason?: string;\r\n    quantity?: number;\r\n    batch_no?: string;\r\n  };\r\n\r\n  const stockOutConfig = {\r\n    title: \"Stock Out\",\r\n    columns: [\r\n      {\r\n        title: \"Product\",\r\n        key: \"product\",\r\n        render: (_: any, record: StockOutRecord) =>\r\n          [\r\n            record.stock_audit_items?.ProductItem?.name,\r\n            record.stock_audit_items?.ProductItem?.VariantItem?.variant_name,\r\n            record?.stock_audit_items?.batch_no\r\n          ]\r\n            .filter(Boolean)\r\n            .join(\" - \") || \"N/A\",\r\n      },\r\n      {\r\n        title: \"Out Reason\",\r\n        dataIndex: \"out_reason\",\r\n        key: \"out_reason\",\r\n      },\r\n      {\r\n        title: \"Quantity\",\r\n        dataIndex: \"quantity\",\r\n        key: \"quantity\",\r\n      },\r\n      {\r\n        title: \"Pack Size\",\r\n        key: \"pack_size\",\r\n        render: (_: any, record: StockOutRecord) =>\r\n          record.stock_audit_items?.pack_size || \"N/A\",\r\n      },\r\n    ],\r\n    formItems: [\r\n      {\r\n        label: \"Stock In Batch\",\r\n        name: \"stock_audit_id\",\r\n        rules: [{ required: true, message: \"Please select the stock batch\" }],\r\n        component: (\r\n          <Select\r\n            placeholder=\"Select category\"\r\n            loading={stockAuditLoading}\r\n            showSearch\r\n            allowClear\r\n          >\r\n            {(StockAuditList?.result || []).map((cat: StockAudit) => (\r\n              <Option key={cat._id} value={cat._id}>\r\n                {cat?.ProductItem?.name} -{\" \"}\r\n                {cat?.ProductItem?.VariantItem?.variant_name} - {cat?.batch_no}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        ),\r\n      },\r\n      {\r\n        label: \"Quantity\",\r\n        name: \"quantity\",\r\n        rules: [{ required: true, message: \"Enter quantity to remove\" }],\r\n        component: (\r\n          <InputNumber min={1} placeholder=\"e.g., 5\" style={{ width: \"100%\" }} />\r\n        ),\r\n      },\r\n      {\r\n        label: \"Reason\",\r\n        name: \"out_reason\",\r\n        rules: [{ required: true, message: \"Please enter the reason\" }],\r\n        component: (\r\n          <Select placeholder=\"Reason for stock out\">\r\n            <Select.Option value=\"expired\">Expired</Select.Option>\r\n            <Select.Option value=\"damaged\">Damaged</Select.Option>\r\n            <Select.Option value=\"internal_use\">Internal Use</Select.Option>\r\n            <Select.Option value=\"bulk_sale\">Bulk Sale</Select.Option>\r\n            <Select.Option value=\"return_to_vendor\">\r\n              Return to Vendor\r\n            </Select.Option>\r\n          </Select>\r\n        ),\r\n      },\r\n      {\r\n        label: \"Out Date\",\r\n        name: \"out_date\",\r\n        rules: [{ required: true, message: \"Please select the date\" }],\r\n        component: (\r\n          <DatePicker placeholder=\"Select Date\" style={{ width: \"100%\" }} />\r\n        ),\r\n      },\r\n      {\r\n        label: \"Note\",\r\n        name: \"note\",\r\n        rules: [],\r\n        component: <Input.TextArea rows={3} placeholder=\"Optional note\" />,\r\n      },\r\n    ],\r\n    apiRoutes: getEntityApiRoutes(\"StockOut\"),\r\n    formColumns: 2,\r\n  };\r\n\r\n  return <GenericCrudPage config={stockOutConfig} />;\r\n};\r\n\r\nexport default StockOutCrud;\r\n"],"names":["Option","Select","StockOutCrud","getEntityApi","useApiActions","StockAuditApi","items","StockAuditList","loading","stockAuditLoading","useDynamicSelector","getIdentifier","useEffect","stockOutConfig","title","columns","key","render","_","record","_record$stock_audit_i","_record$stock_audit_i2","_record$stock_audit_i3","_record$stock_audit_i4","_record$stock_audit_i5","_record$stock_audit_i6","stock_audit_items","ProductItem","name","VariantItem","variant_name","batch_no","filter","Boolean","join","dataIndex","_record$stock_audit_i7","pack_size","formItems","label","rules","required","message","component","_jsx","placeholder","showSearch","allowClear","children","result","map","cat","_cat$ProductItem","_cat$ProductItem2","_cat$ProductItem2$Var","_jsxs","value","_id","InputNumber","min","style","width","DatePicker","Input","TextArea","rows","apiRoutes","getEntityApiRoutes","formColumns","GenericCrudPage","config"],"sourceRoot":""}