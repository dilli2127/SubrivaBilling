/*! For license information please see 234.f9826eb4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkSUBRIVA_BILLING=self.webpackChunkSUBRIVA_BILLING||[]).push([[234],{33359:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(65043),l=n(71360),i=n(66381);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const s=(e,t)=>a.createElement(i.A,o({},e,{ref:t,icon:l.A}));const r=a.forwardRef(s)},74198:(e,t,n)=>{n.d(t,{_V:()=>l});n(65043);var a=n(91449);n(27038);const l=e=>{const t=a.LE[e]||(0,a.lX)(e);return{get:t.getAll(),create:t.create(),update:t.update(),delete:t.delete()}}},82863:(e,t,n)=>{n.d(t,{r:()=>_});var a=n(89379),l=n(65043),i=n(96651),o=n(47419),s=n(11645),r=n(36621),d=n(26553),c=n(93504),u=n(95206),p=n(33359),m=n(9316),h=n(83003),g=n(62305),x=n(97031),A=n(91449),f=n(60446),y=n.n(f);var j=n(22671),b=n(53986),C=n(83833),v=n(88655),k=n(73847),R=n(70579);const S=["key","name","fieldKey"],w=e=>{const{FormValue:t,onSubmit:n,onCancel:i,formItems:r,onChildCancel:d,formColumns:c,splitLabelAndField:p,nested:m,nestedInputs:h,wrapperCol:x,labelCol:A,initialValues:f,loading:y,form:j,onValuesChange:w}=e,I=c||1;return(0,l.useEffect)((()=>{f&&(null===j||void 0===j||j.setFieldsValue(f))}),[f,j]),(0,R.jsxs)("div",{style:{position:"relative",height:"100%"},children:[(0,R.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"600px 600px",opacity:.1,zIndex:0}}),(0,R.jsxs)(g.A,{form:j,onFinish:e=>{n?n(e):t&&t(e),null===j||void 0===j||j.resetFields()},layout:"vertical",onValuesChange:w,children:[(0,R.jsxs)(o.A,{gutter:[16,16],children:[null===r||void 0===r?void 0:r.map(((e,t)=>{var n;return(0,R.jsx)(s.A,{span:24/I,children:p?(0,R.jsxs)("div",{children:[(0,R.jsxs)(C.A.Text,{strong:!0,children:[e.label," ",(null===(n=e.rules)||void 0===n?void 0:n.some((e=>e.required)))&&(0,R.jsx)(C.A.Text,{type:"danger",children:"*"})]}),(0,R.jsx)(g.A.Item,{name:e.name,rules:e.rules,style:{marginTop:"8px"},children:e.component})]}):(0,R.jsx)(g.A.Item,{label:(0,R.jsx)(C.A.Text,{strong:!0,children:e.label}),name:e.name,rules:e.rules,labelCol:{span:A},wrapperCol:{span:x},children:e.component})},t)})),m&&(0,R.jsx)(g.A.List,{name:"nestedItems",children:(e,t)=>{let{add:n,remove:l}=t;return(0,R.jsxs)(R.Fragment,{children:[e.map((e=>{let{key:t,name:n,fieldKey:i}=e,r=(0,b.A)(e,S);return(0,R.jsxs)(o.A,{gutter:[16,16],align:"middle",children:[h.map(((e,t)=>(0,R.jsx)(s.A,{children:(0,R.jsx)(g.A.Item,(0,a.A)((0,a.A)({},r),{},{name:[n,e.name],fieldKey:[i,e.name],rules:[{required:!0,message:"Missing ".concat(e.label)}],label:e.label,children:e.component}))},t))),(0,R.jsx)(s.A,{children:(0,R.jsx)(v.A,{onClick:()=>l(n)})})]},t)})),(0,R.jsx)(o.A,{justify:"center",children:(0,R.jsx)(s.A,{children:(0,R.jsx)(u.Ay,{type:"primary",onClick:()=>n(),icon:(0,R.jsx)(k.A,{}),children:"Add More Field"})})})]})}})]}),(0,R.jsxs)(o.A,{justify:"end",gutter:[16,16],style:{padding:"16px"},children:[(0,R.jsx)(s.A,{children:(0,R.jsx)(u.Ay,{onClick:()=>{i?i():d&&d(!1),null===j||void 0===j||j.resetFields()},children:"Cancel"})}),(0,R.jsx)(s.A,{children:(0,R.jsx)(u.Ay,{type:"primary",htmlType:"submit",loading:y,children:"Submit"})})]})]})]})};var I=n(4413);function P(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{title:"Actions",key:"actions",render:(l,o)=>(0,R.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,R.jsx)(i.A,{title:"Edit ".concat(e),children:(0,R.jsx)(p.A,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>t(o)})}),(0,R.jsx)(i.A,{title:"Delete ".concat(e),children:(0,R.jsx)(m.A,{style:{cursor:a?"not-allowed":"pointer",color:a?"#d9d9d9":"#ff4d4f",opacity:a?.5:1},onClick:()=>!a&&n(o)})})]})}}const _=e=>{let{config:t,filters:n=[],onFilterChange:i,customButtons:p=[],onValuesChange:m}=e;const{loading:f,createLoading:b,updateLoading:C,deleteLoading:v,items:k,pagination:S,drawerVisible:_,initialValues:V,form:E,handleEdit:F,handleDelete:L,handleDrawerOpen:N,resetForm:T,handleSubmit:q,handlePaginationChange:K,columns:O,formItems:B,formColumns:z=2,drawerWidth:D,filterValues:G,setFilterValues:M}=(e=>{const t=(0,h.wA)(),[n]=g.A.useForm(),[i,o]=(0,l.useState)(!1),[s,r]=(0,l.useState)({}),[d,c]=(0,l.useState)({}),[u,p]=(0,l.useState)({current:1,pageSize:10}),{loading:m,items:f}=(0,x.Sm)(e.apiRoutes.get.identifier),{loading:j,items:b,error:C}=(0,x.Sm)(e.apiRoutes.create.identifier),{loading:v,items:k,error:R}=(0,x.Sm)(e.apiRoutes.update.identifier),{loading:S,items:w,error:I}=(0,x.Sm)(e.apiRoutes.delete.identifier),P=(0,l.useCallback)(((e,n,a,l)=>{t((0,x.s7)({method:e,endpoint:n,data:a},l))}),[t]),_=(0,l.useCallback)((()=>{const t=(0,a.A)((0,a.A)({},d),{},{pageNumber:u.current,pageLimit:u.pageSize});P(e.apiRoutes.get.method,e.apiRoutes.get.endpoint,t,e.apiRoutes.get.identifier)}),[P,e.apiRoutes.get,d,u]),V=(0,l.useCallback)((t=>{P(e.apiRoutes.create.method,e.apiRoutes.create.endpoint,t,e.apiRoutes.create.identifier)}),[P,e.apiRoutes.create]),E=(0,l.useCallback)(((t,n)=>{P(e.apiRoutes.update.method,"".concat(e.apiRoutes.update.endpoint,"/").concat(t),n,e.apiRoutes.update.identifier)}),[P,e.apiRoutes.update]),F=(0,l.useCallback)((t=>{P(e.apiRoutes.delete.method,"".concat(e.apiRoutes.delete.endpoint,"/").concat(t),{_id:t},e.apiRoutes.delete.identifier)}),[P,e.apiRoutes.delete]),L=(0,l.useCallback)(((e,t)=>{p({current:e,pageSize:t})}),[]);function N(e){return/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/.test(e)}const T=(0,l.useCallback)((e=>{const t={};for(const n in e){const a=e[n];"string"===typeof a&&N(a)&&y()(a,void 0,!0).isValid()?t[n]=y()(a):t[n]=a}r(t),o(!0)}),[]),q=(0,l.useCallback)((e=>{F(e._id)}),[F]),K=(0,l.useCallback)((()=>{o(!0)}),[]),O=(0,l.useCallback)((()=>{o(!1),r({}),n.resetFields()}),[n]),B=(0,l.useCallback)((e=>{s._id?E(s._id,e):V(e)}),[s._id,V,E]);return(0,l.useEffect)((()=>{if(200===(null===b||void 0===b?void 0:b.statusCode))(0,A.P0)("success","".concat(e.title," created successfully")),_(),O(),t((0,x.Ki)(e.apiRoutes.create.identifier));else if(C){const t=C.message||"Failed to create ".concat(e.title);(0,A.P0)("error",t)}}),[b,C,e.title,_,O,t,e.apiRoutes.create.identifier]),(0,l.useEffect)((()=>{if(200===(null===k||void 0===k?void 0:k.statusCode))(0,A.P0)("success","".concat(e.title," updated successfully")),_(),O(),t((0,x.Ki)(e.apiRoutes.update.identifier));else if(R){const t=R.message||"Failed to update ".concat(e.title);(0,A.P0)("error",t)}}),[k,R,e.title,_,O,t,e.apiRoutes.update.identifier]),(0,l.useEffect)((()=>{if(200===(null===w||void 0===w?void 0:w.statusCode))(0,A.P0)("success","".concat(e.title," deleted successfully")),_(),t((0,x.Ki)(e.apiRoutes.delete.identifier));else if(I){const t=I.message||"Failed to delete ".concat(e.title);(0,A.P0)("error",t)}}),[w,I,e.title,_,t,e.apiRoutes.delete.identifier]),(0,l.useEffect)((()=>{_()}),[_]),(0,a.A)({loading:m,createLoading:j,updateLoading:v,deleteLoading:S,items:null===f||void 0===f?void 0:f.result,pagination:null===f||void 0===f?void 0:f.pagination,drawerVisible:i,initialValues:s,form:n,filterValues:d,setFilterValues:c,handleEdit:T,handleDelete:q,handleDrawerOpen:K,resetForm:O,handleSubmit:B,handlePaginationChange:L},e)})(t),U=(0,l.useCallback)(((e,t)=>{const n=(0,a.A)((0,a.A)({},G),{},{[e]:t});M(n),i&&i(n)}),[G,M,i]),W=(0,l.useMemo)((()=>[...O,P(t.title,F,L,v)]),[O,t.title,F,L,v]);return(0,R.jsxs)("div",{children:[(0,R.jsxs)(o.A,{justify:"space-between",align:"bottom",gutter:[16,16],style:{marginBottom:16},children:[(0,R.jsx)(s.A,{flex:"auto",children:(0,R.jsx)("h1",{style:{margin:0},children:t.title})}),(0,R.jsx)(s.A,{children:(0,R.jsxs)(o.A,{gutter:[12,12],align:"bottom",justify:"end",wrap:!0,children:[n.map((e=>{var t;return(0,R.jsxs)(s.A,{children:["input"===e.type&&(0,R.jsx)(r.A,{placeholder:e.placeholder||e.label,value:G[e.key]||"",onChange:t=>U(e.key,t.target.value),style:{width:e.width||200},disabled:b||C||v}),"select"===e.type&&(0,R.jsx)(d.A,{placeholder:e.placeholder||e.label,value:G[e.key],onChange:t=>{U(e.key,t),e.onChange&&e.onChange(t)},allowClear:!0,style:{width:e.width||200},disabled:e.disabled||b||C||v,children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,R.jsx)(d.A.Option,{value:e.value,children:e.label},e.value)))}),"date"===e.type&&(0,R.jsx)(c.A,{placeholder:e.placeholder||e.label,value:G[e.key],onChange:t=>U(e.key,t),style:{width:e.width||200},disabled:b||C||v})]},e.key)})),(0,R.jsx)(s.A,{children:(0,R.jsx)(r.A,{placeholder:"Search ".concat(t.title),value:G.searchString||"",onChange:e=>U("searchString",e.target.value),style:{width:200},disabled:b||C||v})}),p.map((e=>(0,R.jsx)(s.A,{children:(0,R.jsx)(u.Ay,{type:e.type||"default",onClick:e.onClick,icon:e.icon,disabled:b||C||v,children:e.label})},e.key))),(0,R.jsx)(s.A,{children:(0,R.jsxs)(u.Ay,{type:"primary",onClick:N,loading:b,disabled:b,children:["Add ",t.title]})})]})})]}),(0,R.jsx)(I.A,{columns:W,data:k,loading:f||v,rowKeyField:"_id",totalCount:(null===S||void 0===S?void 0:S.totalCount)||0,pageLimit:(null===S||void 0===S?void 0:S.pageLimit)||10,onPaginationChange:K}),(0,R.jsx)(j.A,{title:"".concat(V._id?"Edit":"Add"," ").concat(t.title),open:_,onClose:b||C?()=>{}:T,width:D,children:(0,R.jsx)(w,{form:E,formItems:B,formColumns:z,initialValues:V,onSubmit:q,onCancel:T,onValuesChange:m,loading:b||C})})]})}},94234:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});n(65043);var a=n(36621),l=n(12624),i=n(82863),o=n(74198),s=n(70579);const r={title:"Vendor",columns:[{title:"Vendor Name",dataIndex:"vendor_name",key:"vendor_name"},{title:"Company Name",dataIndex:"company_name",key:"company_name"},{title:"Contact Person",dataIndex:"contact_person",key:"contact_person"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Email",dataIndex:"email",key:"email"},{title:"GST No",dataIndex:"gst_no",key:"gst_no"},{title:"PAN No",dataIndex:"pan_no",key:"pan_no"},{title:"Status",dataIndex:"status",key:"status",render:e=>e?(0,s.jsx)("span",{style:{color:"green"},children:"Active"}):(0,s.jsx)("span",{style:{color:"red"},children:"Inactive"})}],formItems:[{label:"Vendor Name",name:"vendor_name",rules:[{required:!0,message:"Please enter vendor name!"}],component:(0,s.jsx)(a.A,{placeholder:"Enter vendor name"})},{label:"Company Name",name:"company_name",rules:[{required:!0,message:"Please enter company name!"}],component:(0,s.jsx)(a.A,{placeholder:"Enter company name"})},{label:"Contact Person",name:"contact_person",rules:[{required:!0,message:"Please enter contact person!"}],component:(0,s.jsx)(a.A,{placeholder:"Enter contact person name"})},{label:"Phone",name:"phone",rules:[{required:!0,message:"Please enter phone number!"}],component:(0,s.jsx)(a.A,{placeholder:"Enter phone number"})},{label:"Email",name:"email",rules:[{required:!0,message:"Please enter email!"},{type:"email",message:"Please enter a valid email!"}],component:(0,s.jsx)(a.A,{placeholder:"Enter email address"})},{label:"GST No",name:"gst_no",component:(0,s.jsx)(a.A,{placeholder:"Enter GST number"})},{label:"PAN No",name:"pan_no",component:(0,s.jsx)(a.A,{placeholder:"Enter PAN number"})},{label:"Address",name:"address",component:(0,s.jsx)(a.A.TextArea,{placeholder:"Enter address",rows:3})},{label:"City",name:"city",component:(0,s.jsx)(a.A,{placeholder:"Enter city"})},{label:"State",name:"state",component:(0,s.jsx)(a.A,{placeholder:"Enter state"})},{label:"Pincode",name:"pincode",component:(0,s.jsx)(a.A,{placeholder:"Enter pincode",maxLength:6})},{label:"Status",name:"status",valuePropName:"checked",component:(0,s.jsx)(l.A,{checkedChildren:"Active",unCheckedChildren:"Inactive",defaultChecked:!0})}],apiRoutes:(0,o._V)("Vendor"),formColumns:2},d=()=>(0,s.jsx)(i.r,{config:r})}}]);
//# sourceMappingURL=234.f9826eb4.chunk.js.map