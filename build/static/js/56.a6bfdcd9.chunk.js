/*! For license information please see 56.a6bfdcd9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkFOCUZ_BILLING=self.webpackChunkFOCUZ_BILLING||[]).push([[56],{33359:(e,t,i)=>{i.d(t,{A:()=>d});var a=i(65043),l=i(71360),n=i(66381);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s.apply(this,arguments)}const o=(e,t)=>a.createElement(n.A,s({},e,{ref:t,icon:l.A}));const d=a.forwardRef(o)},51056:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});i(65043);var a=i(36621),l=i(7866),n=i(82863),s=i(74198),o=i(70579);const d={title:"Categories",columns:[{title:"Name",dataIndex:"category_name",key:"category_name"},{title:"HSN Code",dataIndex:"hsn_code",key:"hsn_code"},{title:"Tax Percentage",dataIndex:"tax_percentage",key:"tax_percentage"}],formItems:[{label:"Category Name",name:"category_name",rules:[{required:!0,message:"Please enter category name"}],component:(0,o.jsx)(a.A,{placeholder:"Enter category name"})},{label:"HSN Code",name:"hsn_code",rules:[{required:!0,message:"Please enter HSN code"}],component:(0,o.jsx)(a.A,{placeholder:"Enter HSN code"})},{label:"Tax Percentage",name:"tax_percentage",rules:[{required:!0,message:"Please enter tax percentage"}],component:(0,o.jsx)(l.A,{placeholder:"Tax %",min:0,max:100,style:{width:"100%"}})}],apiRoutes:(0,s._V)("Category"),formColumns:2},r=()=>(0,o.jsx)(n.r,{config:d})},74198:(e,t,i)=>{i.d(t,{_V:()=>l});i(65043);var a=i(91449);i(52614);const l=e=>{const t=a.LE[e]||(0,a.lX)(e);return{get:t.getAll(),create:t.create(),update:t.update(),delete:t.delete()}}},82863:(e,t,i)=>{i.d(t,{r:()=>V});var a=i(89379),l=i(65043),n=i(96651),s=i(47419),o=i(11645),d=i(36621),r=i(26553),c=i(93504),u=i(95206),p=i(33359),m=i(9316),h=i(83003),g=i(62305),f=i(97031),x=i(91449),y=i(60446),A=i.n(y);var j=i(22671),C=i(53986),b=i(83833),v=i(88655),k=i(73847),R=i(70579);const w=["key","name","fieldKey"],S=e=>{const{FormValue:t,onSubmit:i,onCancel:n,formItems:d,onChildCancel:r,formColumns:c,splitLabelAndField:p,nested:m,nestedInputs:h,wrapperCol:f,labelCol:x,initialValues:y,loading:A,form:j,onValuesChange:S}=e,F=c||1;return(0,l.useEffect)((()=>{y&&(null===j||void 0===j||j.setFieldsValue(y))}),[y,j]),(0,R.jsxs)("div",{style:{position:"relative",height:"100%"},children:[(0,R.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"600px 600px",opacity:.1,zIndex:0}}),(0,R.jsxs)(g.A,{form:j,onFinish:e=>{i?i(e):t&&t(e),null===j||void 0===j||j.resetFields()},layout:"vertical",onValuesChange:S,children:[(0,R.jsxs)(s.A,{gutter:[16,16],children:[null===d||void 0===d?void 0:d.map(((e,t)=>{var i;return(0,R.jsx)(o.A,{span:24/F,children:p?(0,R.jsxs)("div",{children:[(0,R.jsxs)(b.A.Text,{strong:!0,children:[e.label," ",(null===(i=e.rules)||void 0===i?void 0:i.some((e=>e.required)))&&(0,R.jsx)(b.A.Text,{type:"danger",children:"*"})]}),(0,R.jsx)(g.A.Item,{name:e.name,rules:e.rules,style:{marginTop:"8px"},children:e.component})]}):(0,R.jsx)(g.A.Item,{label:(0,R.jsx)(b.A.Text,{strong:!0,children:e.label}),name:e.name,rules:e.rules,labelCol:{span:x},wrapperCol:{span:f},children:e.component})},t)})),m&&(0,R.jsx)(g.A.List,{name:"nestedItems",children:(e,t)=>{let{add:i,remove:l}=t;return(0,R.jsxs)(R.Fragment,{children:[e.map((e=>{let{key:t,name:i,fieldKey:n}=e,d=(0,C.A)(e,w);return(0,R.jsxs)(s.A,{gutter:[16,16],align:"middle",children:[h.map(((e,t)=>(0,R.jsx)(o.A,{children:(0,R.jsx)(g.A.Item,(0,a.A)((0,a.A)({},d),{},{name:[i,e.name],fieldKey:[n,e.name],rules:[{required:!0,message:"Missing ".concat(e.label)}],label:e.label,children:e.component}))},t))),(0,R.jsx)(o.A,{children:(0,R.jsx)(v.A,{onClick:()=>l(i)})})]},t)})),(0,R.jsx)(s.A,{justify:"center",children:(0,R.jsx)(o.A,{children:(0,R.jsx)(u.Ay,{type:"primary",onClick:()=>i(),icon:(0,R.jsx)(k.A,{}),children:"Add More Field"})})})]})}})]}),(0,R.jsxs)(s.A,{justify:"end",gutter:[16,16],style:{padding:"16px"},children:[(0,R.jsx)(o.A,{children:(0,R.jsx)(u.Ay,{onClick:()=>{n?n():r&&r(!1),null===j||void 0===j||j.resetFields()},children:"Cancel"})}),(0,R.jsx)(o.A,{children:(0,R.jsx)(u.Ay,{type:"primary",htmlType:"submit",loading:A,children:"Submit"})})]})]})]})};var F=i(4413);function _(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{title:"Actions",key:"actions",render:(l,s)=>(0,R.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,R.jsx)(n.A,{title:"Edit ".concat(e),children:(0,R.jsx)(p.A,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>t(s)})}),(0,R.jsx)(n.A,{title:"Delete ".concat(e),children:(0,R.jsx)(m.A,{style:{cursor:a?"not-allowed":"pointer",color:a?"#d9d9d9":"#ff4d4f",opacity:a?.5:1},onClick:()=>!a&&i(s)})})]})}}const V=e=>{let{config:t,filters:i=[],onFilterChange:n,customButtons:p=[],onValuesChange:m}=e;const{loading:y,createLoading:C,updateLoading:b,deleteLoading:v,items:k,pagination:w,drawerVisible:V,initialValues:I,form:L,handleEdit:P,handleDelete:E,handleDrawerOpen:N,resetForm:O,handleSubmit:T,handlePaginationChange:K,columns:q,formItems:z,formColumns:D=2,drawerWidth:B,filterValues:H,setFilterValues:M}=(e=>{const t=(0,h.wA)(),[i]=g.A.useForm(),[n,s]=(0,l.useState)(!1),[o,d]=(0,l.useState)({}),[r,c]=(0,l.useState)({}),[u,p]=(0,l.useState)({current:1,pageSize:10}),{loading:m,items:y}=(0,f.Sm)(e.apiRoutes.get.identifier),{loading:j,items:C,error:b}=(0,f.Sm)(e.apiRoutes.create.identifier),{loading:v,items:k,error:R}=(0,f.Sm)(e.apiRoutes.update.identifier),{loading:w,items:S,error:F}=(0,f.Sm)(e.apiRoutes.delete.identifier),_=(0,l.useCallback)(((e,i,a,l)=>{t((0,f.s7)({method:e,endpoint:i,data:a},l))}),[t]),V=(0,l.useCallback)((()=>{const t=(0,a.A)((0,a.A)({},r),{},{pageNumber:u.current,pageLimit:u.pageSize});_(e.apiRoutes.get.method,e.apiRoutes.get.endpoint,t,e.apiRoutes.get.identifier)}),[_,e.apiRoutes.get,r,u]),I=(0,l.useCallback)((t=>{_(e.apiRoutes.create.method,e.apiRoutes.create.endpoint,t,e.apiRoutes.create.identifier)}),[_,e.apiRoutes.create]),L=(0,l.useCallback)(((t,i)=>{_(e.apiRoutes.update.method,"".concat(e.apiRoutes.update.endpoint,"/").concat(t),i,e.apiRoutes.update.identifier)}),[_,e.apiRoutes.update]),P=(0,l.useCallback)((t=>{_(e.apiRoutes.delete.method,"".concat(e.apiRoutes.delete.endpoint,"/").concat(t),{_id:t},e.apiRoutes.delete.identifier)}),[_,e.apiRoutes.delete]),E=(0,l.useCallback)(((e,t)=>{p({current:e,pageSize:t})}),[]);function N(e){return/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/.test(e)}const O=(0,l.useCallback)((e=>{const t={};for(const i in e){const a=e[i];"string"===typeof a&&N(a)&&A()(a,void 0,!0).isValid()?t[i]=A()(a):t[i]=a}d(t),s(!0)}),[]),T=(0,l.useCallback)((e=>{P(e._id)}),[P]),K=(0,l.useCallback)((()=>{s(!0)}),[]),q=(0,l.useCallback)((()=>{s(!1),d({}),i.resetFields()}),[i]),z=(0,l.useCallback)((e=>{o._id?L(o._id,e):I(e)}),[o._id,I,L]);return(0,l.useEffect)((()=>{if(200===(null===C||void 0===C?void 0:C.statusCode))(0,x.P0)("success","".concat(e.title," created successfully")),V(),q(),t((0,f.Ki)(e.apiRoutes.create.identifier));else if(b){const t=b.message||"Failed to create ".concat(e.title);(0,x.P0)("error",t)}}),[C,b,e.title,V,q,t,e.apiRoutes.create.identifier]),(0,l.useEffect)((()=>{if(200===(null===k||void 0===k?void 0:k.statusCode))(0,x.P0)("success","".concat(e.title," updated successfully")),V(),q(),t((0,f.Ki)(e.apiRoutes.update.identifier));else if(R){const t=R.message||"Failed to update ".concat(e.title);(0,x.P0)("error",t)}}),[k,R,e.title,V,q,t,e.apiRoutes.update.identifier]),(0,l.useEffect)((()=>{if(200===(null===S||void 0===S?void 0:S.statusCode))(0,x.P0)("success","".concat(e.title," deleted successfully")),V(),t((0,f.Ki)(e.apiRoutes.delete.identifier));else if(F){const t=F.message||"Failed to delete ".concat(e.title);(0,x.P0)("error",t)}}),[S,F,e.title,V,t,e.apiRoutes.delete.identifier]),(0,l.useEffect)((()=>{V()}),[V]),(0,a.A)({loading:m,createLoading:j,updateLoading:v,deleteLoading:w,items:null===y||void 0===y?void 0:y.result,pagination:null===y||void 0===y?void 0:y.pagination,drawerVisible:n,initialValues:o,form:i,filterValues:r,setFilterValues:c,handleEdit:O,handleDelete:T,handleDrawerOpen:K,resetForm:q,handleSubmit:z,handlePaginationChange:E},e)})(t),Z=(0,l.useCallback)(((e,t)=>{const i=(0,a.A)((0,a.A)({},H),{},{[e]:t});M(i),n&&n(i)}),[H,M,n]),G=(0,l.useMemo)((()=>[...q,_(t.title,P,E,v)]),[q,t.title,P,E,v]);return(0,R.jsxs)("div",{children:[(0,R.jsxs)(s.A,{justify:"space-between",align:"bottom",gutter:[16,16],style:{marginBottom:16},children:[(0,R.jsx)(o.A,{flex:"auto",children:(0,R.jsx)("h1",{style:{margin:0},children:t.title})}),(0,R.jsx)(o.A,{children:(0,R.jsxs)(s.A,{gutter:[12,12],align:"bottom",justify:"end",wrap:!0,children:[i.map((e=>{var t;return(0,R.jsxs)(o.A,{children:["input"===e.type&&(0,R.jsx)(d.A,{placeholder:e.placeholder||e.label,value:H[e.key]||"",onChange:t=>Z(e.key,t.target.value),style:{width:e.width||200},disabled:C||b||v}),"select"===e.type&&(0,R.jsx)(r.A,{placeholder:e.placeholder||e.label,value:H[e.key],onChange:t=>{Z(e.key,t),e.onChange&&e.onChange(t)},allowClear:!0,style:{width:e.width||200},disabled:e.disabled||C||b||v,children:null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,R.jsx)(r.A.Option,{value:e.value,children:e.label},e.value)))}),"date"===e.type&&(0,R.jsx)(c.A,{placeholder:e.placeholder||e.label,value:H[e.key],onChange:t=>Z(e.key,t),style:{width:e.width||200},disabled:C||b||v})]},e.key)})),(0,R.jsx)(o.A,{children:(0,R.jsx)(d.A,{placeholder:"Search ".concat(t.title),value:H.searchString||"",onChange:e=>Z("searchString",e.target.value),style:{width:200},disabled:C||b||v})}),p.map((e=>(0,R.jsx)(o.A,{children:(0,R.jsx)(u.Ay,{type:e.type||"default",onClick:e.onClick,icon:e.icon,disabled:C||b||v,children:e.label})},e.key))),(0,R.jsx)(o.A,{children:(0,R.jsxs)(u.Ay,{type:"primary",onClick:N,loading:C,disabled:C,children:["Add ",t.title]})})]})})]}),(0,R.jsx)(F.A,{columns:G,data:k,loading:y||v,rowKeyField:"_id",totalCount:(null===w||void 0===w?void 0:w.totalCount)||0,pageLimit:(null===w||void 0===w?void 0:w.pageLimit)||10,onPaginationChange:K}),(0,R.jsx)(j.A,{title:"".concat(I._id?"Edit":"Add"," ").concat(t.title),open:V,onClose:C||b?()=>{}:O,width:B,children:(0,R.jsx)(S,{form:L,formItems:z,formColumns:D,initialValues:I,onSubmit:T,onCancel:O,onValuesChange:m,loading:C||b})})]})}}}]);
//# sourceMappingURL=56.a6bfdcd9.chunk.js.map