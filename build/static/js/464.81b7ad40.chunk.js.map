{"version":3,"file":"static/js/464.81b7ad40.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","pages/DynamicEntity/EntityExplorer.tsx","pages/DynamicEntity/hooks/useEntityExplorer.tsx"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst PlusOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: PlusOutlinedSvg\n}));\n\n/**![plus](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ4MiAxNTJoNjBxOCAwIDggOHY3MDRxMCA4LTggOGgtNjBxLTggMC04LThWMTYwcTAtOCA4LTh6IiAvPjxwYXRoIGQ9Ik0xOTIgNDc0aDY3MnE4IDAgOCA4djYwcTAgOC04IDhIMTYwcS04IDAtOC04di02MHEwLTggOC04eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(PlusOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PlusOutlined';\n}\nexport default RefIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst RightOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: RightOutlinedSvg\n}));\n\n/**![right](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc2NS43IDQ4Ni44TDMxNC45IDEzNC43QTcuOTcgNy45NyAwIDAwMzAyIDE0MXY3Ny4zYzAgNC45IDIuMyA5LjYgNi4xIDEyLjZsMzYwIDI4MS4xLTM2MCAyODEuMWMtMy45IDMtNi4xIDcuNy02LjEgMTIuNlY4ODNjMCA2LjcgNy43IDEwLjQgMTIuOSA2LjNsNDUwLjgtMzUyLjFhMzEuOTYgMzEuOTYgMCAwMDAtNTAuNHoiIC8+PC9zdmc+) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(RightOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'RightOutlined';\n}\nexport default RefIcon;","import React, { memo } from 'react';\r\nimport { Card, Row, Col, Typography, Button, Tag, Space, Spin } from 'antd';\r\nimport {\r\n  AppstoreAddOutlined,\r\n  RightOutlined,\r\n  PlusOutlined,\r\n} from '@ant-design/icons';\r\nimport { useEntityExplorer } from './hooks/useEntityExplorer';\r\n\r\nconst { Title, Paragraph } = Typography;\r\n\r\n/**\r\n * Optimized Entity Explorer - Browse and access all custom entities\r\n * \r\n * Key optimizations:\r\n * - Uses custom hook for state management\r\n * - Memoized component to prevent unnecessary re-renders\r\n * - Better separation of concerns\r\n */\r\nconst EntityExplorer: React.FC = memo(() => {\r\n  const {\r\n    entities,\r\n    loading,\r\n    hasEntities,\r\n    isSuperAdmin,\r\n    navigateToEntity,\r\n    navigateToDefinitions,\r\n  } = useEntityExplorer();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '50vh',\r\n        }}\r\n      >\r\n        <Spin size=\"large\" tip=\"Loading entities...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '24px' }}>\r\n      <Row justify=\"space-between\" align=\"middle\" style={{ marginBottom: 24 }}>\r\n        <Col>\r\n          <Title level={2}>\r\n            <AppstoreAddOutlined style={{ marginRight: 8 }} />\r\n            Custom Entities\r\n          </Title>\r\n          <Paragraph type=\"secondary\">\r\n            Manage your custom business entities and their data\r\n          </Paragraph>\r\n        </Col>\r\n        <Col>\r\n          {isSuperAdmin && (\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<PlusOutlined />}\r\n              onClick={navigateToDefinitions}\r\n            >\r\n              Manage Entity Definitions\r\n            </Button>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n\r\n      {!hasEntities ? (\r\n        <Card>\r\n          <div style={{ textAlign: 'center', padding: '40px 0' }}>\r\n            <AppstoreAddOutlined style={{ fontSize: 64, color: '#d9d9d9' }} />\r\n            <Title level={4} style={{ marginTop: 16 }}>\r\n              No Custom Entities\r\n            </Title>\r\n            <Paragraph type=\"secondary\">\r\n              {isSuperAdmin\r\n                ? 'Create your first custom entity to get started'\r\n                : 'Contact your administrator to create custom entities'}\r\n            </Paragraph>\r\n            {isSuperAdmin && (\r\n              <Button\r\n                type=\"primary\"\r\n                icon={<PlusOutlined />}\r\n                onClick={navigateToDefinitions}\r\n                style={{ marginTop: 16 }}\r\n              >\r\n                Create Entity Definition\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      ) : (\r\n        <Row gutter={[16, 16]}>\r\n          {entities.map((entity) => (\r\n            <Col xs={24} sm={12} md={8} lg={6} key={entity._id}>\r\n              <Card\r\n                hoverable\r\n                onClick={() => navigateToEntity(entity.entity_name)}\r\n                style={{ height: '100%' }}\r\n              >\r\n                <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <AppstoreAddOutlined style={{ fontSize: 32, color: '#1890ff' }} />\r\n                    {entity.is_global && (\r\n                      <Tag color=\"gold\">Global</Tag>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <Title level={5} style={{ marginBottom: 4 }}>\r\n                      {entity.plural_name}\r\n                    </Title>\r\n                    <Tag color=\"cyan\" style={{ fontSize: 11 }}>\r\n                      {entity.entity_name}\r\n                    </Tag>\r\n                  </div>\r\n\r\n                  {entity.description && (\r\n                    <Paragraph\r\n                      type=\"secondary\"\r\n                      ellipsis={{ rows: 2 }}\r\n                      style={{ marginBottom: 0, fontSize: 13 }}\r\n                    >\r\n                      {entity.description}\r\n                    </Paragraph>\r\n                  )}\r\n\r\n                  <Button\r\n                    type=\"link\"\r\n                    icon={<RightOutlined />}\r\n                    style={{ padding: 0 }}\r\n                  >\r\n                    Open\r\n                  </Button>\r\n                </Space>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nEntityExplorer.displayName = 'EntityExplorer';\r\n\r\nexport default EntityExplorer;\r\n\r\n","import { useCallback, useMemo, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Dispatch } from 'redux';\r\nimport { dynamic_request, useDynamicSelector } from '../../../services/redux';\r\nimport { createApiRouteGetter } from '../../../helpers/Common_functions';\r\nimport { getCurrentUserRole } from '../../../helpers/auth';\r\nimport { EntityDefinition, UseEntityExplorerReturn } from '../types';\r\n\r\n/**\r\n * Custom hook for Entity Explorer functionality\r\n * Handles entity definitions fetching, user permissions, and navigation\r\n */\r\nexport const useEntityExplorer = (): UseEntityExplorerReturn => {\r\n  const navigate = useNavigate();\r\n  const dispatch: Dispatch<any> = useDispatch();\r\n\r\n  // Get current user role for permission checks\r\n  const currentUserRole = getCurrentUserRole();\r\n  const isSuperAdmin = useMemo(() => {\r\n    const role = currentUserRole?.toLowerCase();\r\n    return role === 'superadmin' || role === 'tenant' || role === 'admin';\r\n  }, [currentUserRole]);\r\n\r\n  // Memoized API route getter\r\n  const getApiRoute = useMemo(() => createApiRouteGetter('EntityDefinition'), []);\r\n  const entityRoute = useMemo(() => getApiRoute('Get'), [getApiRoute]);\r\n\r\n  // Fetch entity definitions\r\n  const { loading, items } = useDynamicSelector(entityRoute.identifier);\r\n\r\n  // Memoized entities list\r\n  const entities = useMemo<EntityDefinition[]>(() => {\r\n    return items?.result || [];\r\n  }, [items?.result]);\r\n\r\n  // Fetch entity definitions on mount\r\n  const fetchEntities = useCallback(() => {\r\n    dispatch(\r\n      dynamic_request(\r\n        {\r\n          method: entityRoute.method,\r\n          endpoint: entityRoute.endpoint,\r\n          data: { is_active: true },\r\n        },\r\n        entityRoute.identifier\r\n      )\r\n    );\r\n  }, [dispatch, entityRoute]);\r\n\r\n  useEffect(() => {\r\n    fetchEntities();\r\n  }, [fetchEntities]);\r\n\r\n  // Navigation handlers\r\n  const navigateToEntity = useCallback((entityName: string) => {\r\n    navigate(`/dynamic-entity/${entityName}`);\r\n  }, [navigate]);\r\n\r\n  const navigateToDefinitions = useCallback(() => {\r\n    navigate('/entity-definitions');\r\n  }, [navigate]);\r\n\r\n  // Computed values\r\n  const hasEntities = useMemo(() => entities.length > 0, [entities.length]);\r\n  const isLoading = loading;\r\n\r\n  return {\r\n    // State\r\n    entities,\r\n    loading: isLoading,\r\n    hasEntities,\r\n    \r\n    // Permissions\r\n    isSuperAdmin,\r\n    \r\n    // Actions\r\n    navigateToEntity,\r\n    navigateToDefinitions,\r\n    fetchEntities,\r\n    \r\n    // Computed\r\n    entityRoute,\r\n  };\r\n};\r\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","PlusOutlined","props","ref","React","AntdIcon","icon","PlusOutlinedSvg","RightOutlined","RightOutlinedSvg","Title","Paragraph","Typography","EntityExplorer","memo","entities","loading","hasEntities","isSuperAdmin","navigateToEntity","navigateToDefinitions","useEntityExplorer","navigate","useNavigate","dispatch","useDispatch","currentUserRole","getCurrentUserRole","useMemo","role","toLowerCase","getApiRoute","createApiRouteGetter","entityRoute","items","useDynamicSelector","identifier","result","fetchEntities","useCallback","dynamic_request","method","endpoint","data","is_active","useEffect","entityName","concat","_jsx","style","display","justifyContent","alignItems","height","children","Spin","size","tip","_jsxs","padding","Row","justify","align","marginBottom","Col","level","AppstoreAddOutlined","marginRight","type","Button","onClick","gutter","map","entity","xs","sm","md","lg","Card","hoverable","entity_name","Space","direction","width","fontSize","color","is_global","Tag","plural_name","description","ellipsis","rows","_id","textAlign","marginTop","displayName"],"sourceRoot":""}