{"version":3,"file":"static/js/5511.191ee160.chunk.js","mappings":"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","sources":["pages/Products/columns.tsx","pages/Products/formItems.tsx","pages/Products/crud.tsx","components/common/PermissionAwareCrudPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Space, Tag } from 'antd';\r\nimport {\r\n  AppstoreOutlined,\r\n  BarcodeOutlined,\r\n  CheckCircleTwoTone,\r\n  CloseCircleTwoTone,\r\n  TagOutlined,\r\n  TagsOutlined,\r\n} from '@ant-design/icons';\r\n\r\ninterface ColumnsParams {\r\n  variantMap: Record<string, string>;\r\n  isSuperAdmin: boolean;\r\n}\r\n\r\n// Memoized render functions to prevent recreation\r\nconst NameRenderer = React.memo(({ text }: { text: string }) => (\r\n  <Space>\r\n    <TagsOutlined style={{ color: '#1890ff' }} />\r\n    <strong>{text}</strong>\r\n  </Space>\r\n));\r\n\r\nconst CategoryRenderer = React.memo(({ CategoryItem }: { CategoryItem: any }) => (\r\n  <Tag icon={<AppstoreOutlined />} color=\"geekblue\">\r\n    {CategoryItem?.category_name || '-'}\r\n  </Tag>\r\n));\r\n\r\nconst SKURenderer = React.memo(({ sku }: { sku: string }) => (\r\n  <Space>\r\n    <BarcodeOutlined style={{ color: '#722ed1' }} />\r\n    <span>{sku || '-'}</span>\r\n  </Space>\r\n));\r\n\r\nconst BarcodeRenderer = React.memo(({ barcode }: { barcode: string }) => (\r\n  <Tag color=\"green\" icon={<BarcodeOutlined />}>\r\n    {barcode || '-'}\r\n  </Tag>\r\n));\r\n\r\nconst HSNCodeRenderer = React.memo(({ hsnCode }: { hsnCode: string }) => (\r\n  <Tag color=\"orange\">\r\n    {hsnCode || '-'}\r\n  </Tag>\r\n));\r\n\r\nconst VariantRenderer = React.memo(({ id, variantMap }: { id: string; variantMap: Record<string, string> }) => (\r\n  <Tag icon={<TagOutlined />} color=\"purple\">\r\n    {variantMap[id] || '-'}\r\n  </Tag>\r\n));\r\n\r\nconst StatusRenderer = React.memo(({ status }: { status: boolean }) =>\r\n  status ? (\r\n    <Tag\r\n      icon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />}\r\n      color=\"success\"\r\n    >\r\n      Active\r\n    </Tag>\r\n  ) : (\r\n    <Tag\r\n      icon={<CloseCircleTwoTone twoToneColor=\"#ff4d4f\" />}\r\n      color=\"error\"\r\n    >\r\n      Inactive\r\n    </Tag>\r\n  )\r\n);\r\n\r\nconst BrandNameRenderer = React.memo(({ brandName }: { brandName: string }) => (\r\n  <Tag color=\"cyan\">\r\n    {brandName || '-'}\r\n  </Tag>\r\n));\r\n\r\nconst BusinessTypeRenderer = React.memo(({ businessType }: { businessType: string }) => (\r\n  <Tag color=\"blue\">\r\n    {businessType || '-'}\r\n  </Tag>\r\n));\r\n\r\nconst GlobalProductRenderer = React.memo(({ globalProduct }: { globalProduct: boolean }) => (\r\n  globalProduct ? (\r\n    <Tag\r\n      icon={<CheckCircleTwoTone twoToneColor=\"#52c41a\" />}\r\n      color=\"success\"\r\n    >\r\n      Yes\r\n    </Tag>\r\n  ) : (\r\n    <Tag color=\"default\">\r\n      No\r\n    </Tag>\r\n  )\r\n));\r\n\r\nexport const productsColumns = ({ variantMap, isSuperAdmin }: ColumnsParams) => [\r\n  {\r\n    title: 'Name',\r\n    dataIndex: 'name',\r\n    key: 'name',\r\n    render: (text: string) => <NameRenderer text={text} />,\r\n  },\r\n  {\r\n    title: 'Category',\r\n    dataIndex: 'CategoryItem',\r\n    key: 'category',\r\n    render: (CategoryItem: any) => <CategoryRenderer CategoryItem={CategoryItem} />,\r\n  },\r\n  {\r\n    title: 'SKU',\r\n    dataIndex: 'sku',\r\n    key: 'sku',\r\n    render: (sku: string) => <SKURenderer sku={sku} />,\r\n  },\r\n  {\r\n    title: 'Barcode',\r\n    dataIndex: 'barcode',\r\n    key: 'barcode',\r\n    render: (barcode: string) => <BarcodeRenderer barcode={barcode} />,\r\n  },\r\n  {\r\n    title: 'HSN Code',\r\n    dataIndex: 'hsn_code',\r\n    key: 'hsn_code',\r\n    render: (hsnCode: string) => <HSNCodeRenderer hsnCode={hsnCode} />,\r\n  },\r\n  {\r\n    title: 'Variant',\r\n    dataIndex: 'variant',\r\n    key: 'variant',\r\n    render: (id: string) => <VariantRenderer id={id} variantMap={variantMap} />,\r\n  },\r\n  {\r\n    title: 'Status',\r\n    dataIndex: 'status',\r\n    key: 'status',\r\n    render: (status: boolean) => <StatusRenderer status={status} />,\r\n  },\r\n  {\r\n    title: 'Brand Name',\r\n    dataIndex: 'brand_name',\r\n    key: 'brand_name',\r\n    render: (brandName: string) => <BrandNameRenderer brandName={brandName} />,\r\n  },\r\n  ...(isSuperAdmin ? [{\r\n    title: 'Business Type',\r\n    dataIndex: 'business_type',\r\n    key: 'business_type',\r\n    render: (businessType: string) => <BusinessTypeRenderer businessType={businessType} />,\r\n  },\r\n  {\r\n    title: 'Global Product',\r\n    dataIndex: 'global_product',\r\n    key: 'global_product',\r\n    render: (globalProduct: boolean) => <GlobalProductRenderer globalProduct={globalProduct} />,\r\n  }] : [\r\n    {\r\n      title: 'Global Product',\r\n      dataIndex: 'global_product',\r\n      key: 'global_product',\r\n      render: (globalProduct: boolean) => <GlobalProductRenderer globalProduct={globalProduct} />,\r\n    }\r\n  ]),\r\n];\r\n\r\n","import React from 'react';\r\nimport { Input, Select, Switch, Button } from 'antd';\r\nimport { ScanOutlined } from '@ant-design/icons';\r\nimport { InfiniteDropdownResult } from '../../hooks/useInfiniteDropdown';\r\n\r\nconst { Option } = Select;\r\n\r\ntype Variant = {\r\n  _id: string;\r\n  variant_name: string;\r\n  unit: string;\r\n  pack_type: string;\r\n  pack_size: string;\r\n};\r\n\r\ntype Category = {\r\n  _id: string;\r\n  category_name: string;\r\n};\r\n\r\ninterface FormItemsParams {\r\n  categoryDropdown: InfiniteDropdownResult;\r\n  variantDropdown: InfiniteDropdownResult;\r\n  isSuperAdmin: boolean;\r\n  onScanClick: () => void;\r\n  onBarcodeInputFocus: () => void;\r\n}\r\n\r\nexport const productsFormItems = ({\r\n  categoryDropdown,\r\n  variantDropdown,\r\n  isSuperAdmin,\r\n  onScanClick,\r\n  onBarcodeInputFocus,\r\n}: FormItemsParams) => [\r\n  {\r\n    label: 'Product Name',\r\n    name: 'name',\r\n    rules: [{ required: true, message: 'Please enter the product name!' }],\r\n    component: <Input placeholder=\"e.g., HP Toner 85A\" />,\r\n  },\r\n  {\r\n    label: 'Category',\r\n    name: 'category',\r\n    rules: [{ required: true, message: 'Please select a category!' }],\r\n    component: (\r\n      <Select\r\n        placeholder=\"Select category\"\r\n        loading={categoryDropdown.loading && categoryDropdown.items.length === 0}\r\n        showSearch\r\n        allowClear\r\n        onSearch={categoryDropdown.setSearchString}\r\n        onPopupScroll={categoryDropdown.handlePopupScroll}\r\n        onDropdownVisibleChange={categoryDropdown.onDropdownVisibleChange}\r\n        filterOption={false}\r\n        notFoundContent={\r\n          categoryDropdown.loading ? 'Loading categories...' : \r\n          categoryDropdown.items.length === 0 ? 'No categories found' : \r\n          null\r\n        }\r\n        dropdownRender={(menu) => (\r\n          <>\r\n            {menu}\r\n            {categoryDropdown.hasMore && categoryDropdown.items.length > 0 && (\r\n              <div style={{ textAlign: 'center', padding: '8px', color: '#999' }}>\r\n                {categoryDropdown.loading ? 'Loading...' : 'Scroll for more'}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      >\r\n        {categoryDropdown.items.map((cat: Category) => (\r\n          <Option key={cat._id} value={cat._id}>\r\n            {cat.category_name}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    ),\r\n  },\r\n  {\r\n    label: 'SKU / Code',\r\n    name: 'sku',\r\n    rules: [],\r\n    component: <Input placeholder=\"e.g., HP-85A-TONER\" />,\r\n  },\r\n  {\r\n    label: 'Barcode',\r\n    name: 'barcode',\r\n    rules: [],\r\n    component: (\r\n      <Input.Group compact>\r\n        <Input\r\n          placeholder=\"e.g., 1234567890123\"\r\n          style={{ width: 'calc(100% - 40px)' }}\r\n          onFocus={onBarcodeInputFocus}\r\n        />\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<ScanOutlined />}\r\n          onClick={onScanClick}\r\n          style={{ width: 40 }}\r\n        />\r\n      </Input.Group>\r\n    ),\r\n  },\r\n  {\r\n    label: 'HSN Code',\r\n    name: 'hsn_code',\r\n    rules: [],\r\n    component: <Input placeholder=\"e.g., 8443.32.10\" />,\r\n  },\r\n  {\r\n    label: 'Variant',\r\n    name: 'variant',\r\n    rules: [{ required: true, message: 'Please select a variant!' }],\r\n    component: (\r\n      <Select\r\n        placeholder=\"Select variant\"\r\n        loading={variantDropdown.loading && variantDropdown.items.length === 0}\r\n        showSearch\r\n        allowClear\r\n        onSearch={variantDropdown.setSearchString}\r\n        onPopupScroll={variantDropdown.handlePopupScroll}\r\n        onDropdownVisibleChange={variantDropdown.onDropdownVisibleChange}\r\n        filterOption={false}\r\n        notFoundContent={\r\n          variantDropdown.loading ? 'Loading variants...' : \r\n          variantDropdown.items.length === 0 ? 'No variants found' : \r\n          null\r\n        }\r\n        dropdownRender={(menu) => (\r\n          <>\r\n            {menu}\r\n            {variantDropdown.hasMore && variantDropdown.items.length > 0 && (\r\n              <div style={{ textAlign: 'center', padding: '8px', color: '#999' }}>\r\n                {variantDropdown.loading ? 'Loading...' : 'Scroll for more'}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      >\r\n        {variantDropdown.items.map((variant: Variant) => (\r\n          <Option key={variant._id} value={variant._id}>\r\n            {variant.variant_name} ({variant.unit})\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    ),\r\n  },\r\n  {\r\n    label: 'Status',\r\n    name: 'status',\r\n    valuePropName: 'checked',\r\n    component: (\r\n      <Switch\r\n        checkedChildren=\"Active\"\r\n        unCheckedChildren=\"Inactive\"\r\n        defaultChecked\r\n      />\r\n    ),\r\n  },\r\n  {\r\n    label: 'Brand Name',\r\n    name: 'brand_name',\r\n    rules: [],\r\n    component: <Input placeholder=\"e.g., HP\" />,\r\n  },\r\n  ...(isSuperAdmin ? [{\r\n    label: 'Business Type',\r\n    name: 'business_type',\r\n    rules: [{ required: false, message: 'Please select business type!' }],\r\n    component: (\r\n      <Select\r\n        placeholder=\"Select business type\"\r\n        allowClear\r\n      >\r\n        <Option value=\"Supermarket / Grocery Store\">Supermarket / Grocery Store</Option>\r\n        <Option value=\"Medical / Pharmacy\">Medical / Pharmacy</Option>\r\n        <Option value=\"Hardware Store\">Hardware Store</Option>\r\n        <Option value=\"Hardware and Electronics Store\">Hardware and Electronics Store</Option>\r\n        <Option value=\"Electronics Store\">Electronics Store</Option>\r\n        <Option value=\"Stationery / Book Store\">Stationery / Book Store</Option>\r\n        <Option value=\"Clothing / Textile Store\">Clothing / Textile Store</Option>\r\n        <Option value=\"Footwear Store\">Footwear Store</Option>\r\n        <Option value=\"Bakery / Sweet Shop\">Bakery / Sweet Shop</Option>\r\n        <Option value=\"Fruits & Vegetables Shop\">Fruits & Vegetables Shop</Option>\r\n        <Option value=\"Furniture Store\">Furniture Store</Option>\r\n        <Option value=\"Automobile / Spare Parts\">Automobile / Spare Parts</Option>\r\n        <Option value=\"Mobile Accessories Store\">Mobile Accessories Store</Option>\r\n        <Option value=\"Cosmetics / Beauty Store\">Cosmetics / Beauty Store</Option>\r\n        <Option value=\"Jewellery / Fancy Store\">Jewellery / Fancy Store</Option>\r\n        <Option value=\"Pet Store\">Pet Store</Option>\r\n        <Option value=\"General Store\">General Store</Option>\r\n        <Option value=\"Wholesale Business\">Wholesale Business</Option>\r\n        <Option value=\"Computer & Laptop Store\">Computer & Laptop Store</Option>\r\n        <Option value=\"Mobile And Laptop Store\">Mobile And Laptop Store</Option>\r\n        <Option value=\"Other\">Other</Option>\r\n      </Select>\r\n    ),\r\n  },\r\n  {\r\n    label: 'Global Product',\r\n    name: 'global_product',\r\n    valuePropName: 'checked',\r\n    component: (\r\n      <Switch\r\n        checkedChildren=\"Yes\"\r\n        unCheckedChildren=\"No\"\r\n      />\r\n    ),\r\n  }] : []),\r\n];\r\n\r\n","import React, { useCallback, useState, useMemo } from 'react';\r\nimport BarcodeScanner from '../../components/common/BarcodeScanner';\r\nimport { PermissionAwareCrudPage } from '../../components/common/PermissionAwareCrudPage';\r\nimport { Product } from '../../types/entities';\r\nimport { getCurrentUserRole } from '../../helpers/auth';\r\nimport { RESOURCES } from '../../helpers/permissionHelper';\r\nimport { productsColumns } from './columns';\r\nimport { productsFormItems } from './formItems';\r\nimport { apiSlice } from '../../services/redux/api/apiSlice';\r\nimport { useInfiniteDropdown } from '../../hooks/useInfiniteDropdown';\r\n\r\nconst ProductCrud: React.FC = () => {\r\n  const currentUserRole = getCurrentUserRole();\r\n  const isSuperAdmin = currentUserRole?.toLowerCase() === 'superadmin';\r\n\r\n  // Use infinite scroll dropdowns\r\n  const categoryDropdown = useInfiniteDropdown({\r\n    queryHook: apiSlice.useGetCategoryQuery,\r\n    limit: 20,\r\n  });\r\n\r\n  const variantDropdown = useInfiniteDropdown({\r\n    queryHook: apiSlice.useGetVariantQuery,\r\n    limit: 20,\r\n  });\r\n\r\n  const [scannerVisible, setScannerVisible] = useState(false);\r\n  const [currentForm, setCurrentForm] = useState<any>(null);\r\n\r\n  const createMap = useCallback((items: any[], labelKey: string) =>\r\n    items.reduce((acc: Record<string, string>, item) => {\r\n      acc[item._id] = item[labelKey];\r\n      return acc;\r\n    }, {}), []);\r\n\r\n  const variantMap = useMemo(() => \r\n    createMap(variantDropdown.items, 'variant_name'), \r\n    [variantDropdown.items, createMap]\r\n  );\r\n\r\n  // Memoize callback functions to prevent recreation\r\n  const handleScanClick = useCallback(() => setScannerVisible(true), []);\r\n  const handleBarcodeInputFocus = useCallback(() => setCurrentForm('barcode'), []);\r\n  \r\n  const canEdit = useCallback((record: Product) => {\r\n    // Global products can only be edited by superadmin\r\n    if (record.global_product) {\r\n      return isSuperAdmin;\r\n    }\r\n    return true;\r\n  }, [isSuperAdmin]);\r\n  \r\n  const canDelete = useCallback((record: Product) => {\r\n    // Global products can only be deleted by superadmin\r\n    if (record.global_product) {\r\n      return isSuperAdmin;\r\n    }\r\n    return true;\r\n  }, [isSuperAdmin]);\r\n\r\n  const productConfig = useMemo(() => ({\r\n    title: 'Products',\r\n    columns: productsColumns({ variantMap, isSuperAdmin }),\r\n    formItems: productsFormItems({\r\n      categoryDropdown,\r\n      variantDropdown,\r\n      isSuperAdmin,\r\n      onScanClick: handleScanClick,\r\n      onBarcodeInputFocus: handleBarcodeInputFocus,\r\n    }),\r\n    entityName: 'Product',\r\n    formColumns: 2,\r\n    // Custom business logic for global products\r\n    // Note: PermissionAwareCrudPage will combine these with user permissions\r\n    canEdit,\r\n    canDelete,\r\n  }), [variantMap, categoryDropdown, variantDropdown, isSuperAdmin, handleScanClick, handleBarcodeInputFocus, canEdit, canDelete]);\r\n\r\n  // Handle barcode scan\r\n  const handleBarcodeScan = (barcode: string) => {\r\n    setScannerVisible(false);\r\n    if (currentForm === 'barcode') {\r\n      // Find the barcode input field and set its value\r\n      const barcodeInput = document.querySelector('input[name=\"barcode\"]') as HTMLInputElement;\r\n      if (barcodeInput) {\r\n        barcodeInput.value = barcode;\r\n        barcodeInput.dispatchEvent(new Event('input', { bubbles: true }));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PermissionAwareCrudPage\r\n        resource={RESOURCES.PRODUCT}\r\n        config={productConfig}\r\n        enableDynamicFields={true}\r\n        entityName=\"products\"\r\n      />\r\n      \r\n      {/* Barcode Scanner Modal */}\r\n      <BarcodeScanner\r\n        visible={scannerVisible}\r\n        onClose={() => setScannerVisible(false)}\r\n        onScan={handleBarcodeScan}\r\n        title=\"Scan Product Barcode\"\r\n        description=\"Scan barcode to add to product\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCrud;\r\n","/**\r\n * PermissionAwareCrudPage\r\n * Wrapper around GenericCrudPage that automatically applies permission checks\r\n */\r\n\r\nimport React from 'react';\r\nimport { GenericCrudPage } from './GenericCrudPage';\r\nimport { canCreate, canUpdate, canDelete, RESOURCES } from '../../helpers/permissionHelper';\r\nimport { BaseEntity } from '../../types/entities';\r\nimport { CrudConfig } from '../../hooks/useGenericCrud';\r\nimport { CrudColumn, CrudFormItem, FilterConfig, CustomButtonConfig } from './GenericCrudPage';\r\n\r\ninterface PermissionAwareCrudPageProps<T extends BaseEntity> {\r\n  resource: string; // Resource name for permission checks\r\n  config: Omit<CrudConfig<T>, 'columns' | 'formItems'> & {\r\n    columns: CrudColumn[];\r\n    formItems: CrudFormItem[];\r\n    metadataFieldName?: string;\r\n    canCreate?: () => boolean;\r\n    canEdit?: (record: any) => boolean;\r\n    canDelete?: (record: any) => boolean;\r\n  };\r\n  filters?: FilterConfig[];\r\n  onFilterChange?: (values: Record<string, any>) => void;\r\n  customButtons?: CustomButtonConfig[];\r\n  onValuesChange?: (changed: any, all: any) => void;\r\n  enableSuperAdminFilters?: boolean;\r\n  enableDynamicFields?: boolean;\r\n  showDynamicColumnsInTable?: boolean;\r\n  entityName?: string;\r\n}\r\n\r\n/**\r\n * PermissionAwareCrudPage\r\n * \r\n * Automatically applies permission checks to CRUD operations:\r\n * - Hides \"Add\" button if no create permission\r\n * - Disables edit action if no update permission\r\n * - Disables delete action if no delete permission\r\n * \r\n * @example\r\n * <PermissionAwareCrudPage\r\n *   resource=\"customer\"\r\n *   config={{\r\n *     title: 'Customers',\r\n *     columns: customerColumns,\r\n *     formItems: customerFormItems,\r\n *     apiRoutes: getEntityApiRoutes('Customer'),\r\n *   }}\r\n * />\r\n */\r\nexport function PermissionAwareCrudPage<T extends BaseEntity>({\r\n  resource,\r\n  config,\r\n  ...otherProps\r\n}: PermissionAwareCrudPageProps<T>) {\r\n  // Check permissions\r\n  const canCreateResource = canCreate(resource);\r\n  const canUpdateResource = canUpdate(resource);\r\n  const canDeleteResource = canDelete(resource);\r\n\r\n  // Merge permission checks with any existing custom logic\r\n  const enhancedConfig = {\r\n    ...config,\r\n    // Combine permission checks with custom logic (if any)\r\n    canCreate: config.canCreate \r\n      ? () => canCreateResource && config.canCreate!()\r\n      : () => canCreateResource,\r\n    canEdit: config.canEdit\r\n      ? (record: any) => canUpdateResource && config.canEdit!(record)\r\n      : () => canUpdateResource,\r\n    canDelete: config.canDelete\r\n      ? (record: any) => canDeleteResource && config.canDelete!(record)\r\n      : () => canDeleteResource,\r\n  };\r\n\r\n  return <GenericCrudPage config={enhancedConfig} {...otherProps} />;\r\n}\r\n\r\nexport default PermissionAwareCrudPage;\r\n\r\n"],"names":["NameRenderer","React","_ref","text","_jsxs","Space","children","_jsx","TagsOutlined","style","color","CategoryRenderer","_ref2","CategoryItem","Tag","icon","AppstoreOutlined","category_name","SKURenderer","_ref3","sku","BarcodeOutlined","BarcodeRenderer","_ref4","barcode","HSNCodeRenderer","_ref5","hsnCode","VariantRenderer","_ref6","id","variantMap","TagOutlined","StatusRenderer","_ref7","status","CheckCircleTwoTone","twoToneColor","CloseCircleTwoTone","BrandNameRenderer","_ref8","brandName","BusinessTypeRenderer","_ref9","businessType","GlobalProductRenderer","_ref0","globalProduct","productsColumns","_ref1","isSuperAdmin","title","dataIndex","key","render","Option","Select","productsFormItems","categoryDropdown","variantDropdown","onScanClick","onBarcodeInputFocus","label","name","rules","required","message","component","Input","placeholder","loading","items","length","showSearch","allowClear","onSearch","setSearchString","onPopupScroll","handlePopupScroll","onDropdownVisibleChange","filterOption","notFoundContent","dropdownRender","menu","_Fragment","hasMore","textAlign","padding","map","cat","value","_id","Group","compact","width","onFocus","Button","type","ScanOutlined","onClick","variant","variant_name","unit","valuePropName","Switch","checkedChildren","unCheckedChildren","defaultChecked","ProductCrud","currentUserRole","getCurrentUserRole","toLowerCase","useInfiniteDropdown","queryHook","apiSlice","useGetCategoryQuery","limit","useGetVariantQuery","scannerVisible","setScannerVisible","useState","currentForm","setCurrentForm","createMap","useCallback","labelKey","reduce","acc","item","useMemo","handleScanClick","handleBarcodeInputFocus","canEdit","record","global_product","canDelete","productConfig","columns","formItems","entityName","formColumns","PermissionAwareCrudPage","resource","RESOURCES","PRODUCT","config","enableDynamicFields","BarcodeScanner","visible","onClose","onScan","barcodeInput","document","querySelector","dispatchEvent","Event","bubbles","description","otherProps","_objectWithoutProperties","_excluded","canCreateResource","canCreate","canUpdateResource","canUpdate","canDeleteResource","enhancedConfig","_objectSpread","GenericCrudPage"],"sourceRoot":""}