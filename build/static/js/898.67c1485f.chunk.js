/*! For license information please see 898.67c1485f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkSUBRIVA_BILLING=self.webpackChunkSUBRIVA_BILLING||[]).push([[898],{9764:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(65043);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"}}]},name:"tags",theme:"outlined"};var n=t(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}const c=(e,r)=>a.createElement(n.A,l({},e,{ref:r,icon:o}));const s=a.forwardRef(c)},13699:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(65043);const o={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:r}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:e}}]}},name:"close-circle",theme:"twotone"};var n=t(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}const c=(e,r)=>a.createElement(n.A,l({},e,{ref:r,icon:o}));const s=a.forwardRef(c)},28071:(e,r,t)=>{t.d(r,{A:()=>d,p:()=>i});var a=t(89379),o=t(53986),n=(t(65043),t(73146)),l=t(58209),c=t(70579);const s=["resource","config"];function i(e){let{resource:r,config:t}=e,i=(0,o.A)(e,s);const d=(0,l.BA)(r),u=(0,l.Ev)(r),h=(0,l.W9)(r),p=(0,a.A)((0,a.A)({},t),{},{canCreate:t.canCreate?()=>d&&t.canCreate():()=>d,canEdit:t.canEdit?e=>u&&t.canEdit(e):()=>u,canDelete:t.canDelete?e=>h&&t.canDelete(e):()=>h});return(0,c.jsx)(n.r,(0,a.A)({config:p},i))}const d=i},83898:(e,r,t)=>{t.r(r),t.d(r,{default:()=>D});var a=t(65043),o=t(35708),n=t(28071),l=t(89472),c=t(58209),s=t(6051),i=t(76399),d=t(9764),u=t(74563),h=t(27089);const p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};var m=t(66381);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},x.apply(this,arguments)}const g=(e,r)=>a.createElement(m.A,x({},e,{ref:r,icon:p}));const j=a.forwardRef(g);var b=t(92882),v=t(13699),S=t(70579);const y=a.memo((e=>{let{text:r}=e;return(0,S.jsxs)(s.A,{children:[(0,S.jsx)(d.A,{style:{color:"#1890ff"}}),(0,S.jsx)("strong",{children:r})]})})),f=a.memo((e=>{let{CategoryItem:r}=e;return(0,S.jsx)(i.A,{icon:(0,S.jsx)(u.A,{}),color:"geekblue",children:(null===r||void 0===r?void 0:r.category_name)||"-"})})),A=a.memo((e=>{let{sku:r}=e;return(0,S.jsxs)(s.A,{children:[(0,S.jsx)(h.A,{style:{color:"#722ed1"}}),(0,S.jsx)("span",{children:r||"-"})]})})),C=a.memo((e=>{let{barcode:r}=e;return(0,S.jsx)(i.A,{color:"green",icon:(0,S.jsx)(h.A,{}),children:r||"-"})})),k=a.memo((e=>{let{hsnCode:r}=e;return(0,S.jsx)(i.A,{color:"orange",children:r||"-"})})),w=a.memo((e=>{let{id:r,variantMap:t}=e;return(0,S.jsx)(i.A,{icon:(0,S.jsx)(j,{}),color:"purple",children:t[r]||"-"})})),P=a.memo((e=>{let{status:r}=e;return r?(0,S.jsx)(i.A,{icon:(0,S.jsx)(b.A,{twoToneColor:"#52c41a"}),color:"success",children:"Active"}):(0,S.jsx)(i.A,{icon:(0,S.jsx)(v.A,{twoToneColor:"#ff4d4f"}),color:"error",children:"Inactive"})})),_=a.memo((e=>{let{brandName:r}=e;return(0,S.jsx)(i.A,{color:"cyan",children:r||"-"})})),B=a.memo((e=>{let{businessType:r}=e;return(0,S.jsx)(i.A,{color:"blue",children:r||"-"})})),I=a.memo((e=>{let{globalProduct:r}=e;return r?(0,S.jsx)(i.A,{icon:(0,S.jsx)(b.A,{twoToneColor:"#52c41a"}),color:"success",children:"Yes"}):(0,S.jsx)(i.A,{color:"default",children:"No"})})),M=e=>{let{variantMap:r,isSuperAdmin:t}=e;return[{title:"Name",dataIndex:"name",key:"name",render:e=>(0,S.jsx)(y,{text:e})},{title:"Category",dataIndex:"CategoryItem",key:"category",render:e=>(0,S.jsx)(f,{CategoryItem:e})},{title:"SKU",dataIndex:"sku",key:"sku",render:e=>(0,S.jsx)(A,{sku:e})},{title:"Barcode",dataIndex:"barcode",key:"barcode",render:e=>(0,S.jsx)(C,{barcode:e})},{title:"HSN Code",dataIndex:"hsn_code",key:"hsn_code",render:e=>(0,S.jsx)(k,{hsnCode:e})},{title:"Variant",dataIndex:"variant",key:"variant",render:e=>(0,S.jsx)(w,{id:e,variantMap:r})},{title:"Status",dataIndex:"status",key:"status",render:e=>(0,S.jsx)(P,{status:e})},{title:"Brand Name",dataIndex:"brand_name",key:"brand_name",render:e=>(0,S.jsx)(_,{brandName:e})},...t?[{title:"Business Type",dataIndex:"business_type",key:"business_type",render:e=>(0,S.jsx)(B,{businessType:e})},{title:"Global Product",dataIndex:"global_product",key:"global_product",render:e=>(0,S.jsx)(I,{globalProduct:e})}]:[{title:"Global Product",dataIndex:"global_product",key:"global_product",render:e=>(0,S.jsx)(I,{globalProduct:e})}]]};var L=t(26553),O=t(36621),z=t(95206),N=t(12624),E=t(47615);const{Option:F}=L.A,H=e=>{let{categoryDropdown:r,variantDropdown:t,isSuperAdmin:a,onScanClick:o,onBarcodeInputFocus:n}=e;return[{label:"Product Name",name:"name",rules:[{required:!0,message:"Please enter the product name!"}],component:(0,S.jsx)(O.A,{placeholder:"e.g., HP Toner 85A"})},{label:"Category",name:"category",rules:[{required:!0,message:"Please select a category!"}],component:(0,S.jsx)(L.A,{placeholder:"Select category",loading:r.loading&&0===r.items.length,showSearch:!0,allowClear:!0,onSearch:r.setSearchString,onPopupScroll:r.handlePopupScroll,filterOption:!1,dropdownRender:e=>(0,S.jsxs)(S.Fragment,{children:[e,r.hasMore&&r.items.length>0&&(0,S.jsx)("div",{style:{textAlign:"center",padding:"8px",color:"#999"},children:r.loading?"Loading...":"Scroll for more"})]}),children:r.items.map((e=>(0,S.jsx)(F,{value:e._id,children:e.category_name},e._id)))})},{label:"SKU / Code",name:"sku",rules:[],component:(0,S.jsx)(O.A,{placeholder:"e.g., HP-85A-TONER"})},{label:"Barcode",name:"barcode",rules:[],component:(0,S.jsxs)(O.A.Group,{compact:!0,children:[(0,S.jsx)(O.A,{placeholder:"e.g., 1234567890123",style:{width:"calc(100% - 40px)"},onFocus:n}),(0,S.jsx)(z.Ay,{type:"primary",icon:(0,S.jsx)(E.A,{}),onClick:o,style:{width:40}})]})},{label:"HSN Code",name:"hsn_code",rules:[],component:(0,S.jsx)(O.A,{placeholder:"e.g., 8443.32.10"})},{label:"Variant",name:"variant",rules:[{required:!0,message:"Please select a variant!"}],component:(0,S.jsx)(L.A,{placeholder:"Select variant",loading:t.loading&&0===t.items.length,showSearch:!0,allowClear:!0,onSearch:t.setSearchString,onPopupScroll:t.handlePopupScroll,filterOption:!1,dropdownRender:e=>(0,S.jsxs)(S.Fragment,{children:[e,t.hasMore&&t.items.length>0&&(0,S.jsx)("div",{style:{textAlign:"center",padding:"8px",color:"#999"},children:t.loading?"Loading...":"Scroll for more"})]}),children:t.items.map((e=>(0,S.jsxs)(F,{value:e._id,children:[e.variant_name," (",e.unit,")"]},e._id)))})},{label:"Status",name:"status",valuePropName:"checked",component:(0,S.jsx)(N.A,{checkedChildren:"Active",unCheckedChildren:"Inactive",defaultChecked:!0})},{label:"Brand Name",name:"brand_name",rules:[],component:(0,S.jsx)(O.A,{placeholder:"e.g., HP"})},...a?[{label:"Business Type",name:"business_type",rules:[{required:!1,message:"Please select business type!"}],component:(0,S.jsxs)(L.A,{placeholder:"Select business type",allowClear:!0,children:[(0,S.jsx)(F,{value:"Supermarket / Grocery Store",children:"Supermarket / Grocery Store"}),(0,S.jsx)(F,{value:"Medical / Pharmacy",children:"Medical / Pharmacy"}),(0,S.jsx)(F,{value:"Hardware Store",children:"Hardware Store"}),(0,S.jsx)(F,{value:"Hardware and Electronics Store",children:"Hardware and Electronics Store"}),(0,S.jsx)(F,{value:"Electronics Store",children:"Electronics Store"}),(0,S.jsx)(F,{value:"Stationery / Book Store",children:"Stationery / Book Store"}),(0,S.jsx)(F,{value:"Clothing / Textile Store",children:"Clothing / Textile Store"}),(0,S.jsx)(F,{value:"Footwear Store",children:"Footwear Store"}),(0,S.jsx)(F,{value:"Bakery / Sweet Shop",children:"Bakery / Sweet Shop"}),(0,S.jsx)(F,{value:"Fruits & Vegetables Shop",children:"Fruits & Vegetables Shop"}),(0,S.jsx)(F,{value:"Furniture Store",children:"Furniture Store"}),(0,S.jsx)(F,{value:"Automobile / Spare Parts",children:"Automobile / Spare Parts"}),(0,S.jsx)(F,{value:"Mobile Accessories Store",children:"Mobile Accessories Store"}),(0,S.jsx)(F,{value:"Cosmetics / Beauty Store",children:"Cosmetics / Beauty Store"}),(0,S.jsx)(F,{value:"Jewellery / Fancy Store",children:"Jewellery / Fancy Store"}),(0,S.jsx)(F,{value:"Pet Store",children:"Pet Store"}),(0,S.jsx)(F,{value:"General Store",children:"General Store"}),(0,S.jsx)(F,{value:"Wholesale Business",children:"Wholesale Business"}),(0,S.jsx)(F,{value:"Computer & Laptop Store",children:"Computer & Laptop Store"}),(0,S.jsx)(F,{value:"Mobile And Laptop Store",children:"Mobile And Laptop Store"}),(0,S.jsx)(F,{value:"Other",children:"Other"})]})},{label:"Global Product",name:"global_product",valuePropName:"checked",component:(0,S.jsx)(N.A,{checkedChildren:"Yes",unCheckedChildren:"No"})}]:[]]};var G=t(98350),T=t(39387);const D=()=>{const e=(0,l.Ff)(),r="superadmin"===(null===e||void 0===e?void 0:e.toLowerCase()),t=(0,T.x)({queryHook:G.lh.useGetCategoryQuery,limit:20}),s=(0,T.x)({queryHook:G.lh.useGetVariantQuery,limit:20}),[i,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),p=(0,a.useCallback)(((e,r)=>e.reduce(((e,t)=>(e[t._id]=t[r],e)),{})),[]),m=(0,a.useMemo)((()=>p(s.items,"variant_name")),[s.items,p]),x=(0,a.useCallback)((()=>d(!0)),[]),g=(0,a.useCallback)((()=>h("barcode")),[]),j=(0,a.useCallback)((e=>!e.global_product||r),[r]),b=(0,a.useCallback)((e=>!e.global_product||r),[r]),v=(0,a.useMemo)((()=>({title:"Products",columns:M({variantMap:m,isSuperAdmin:r}),formItems:H({categoryDropdown:t,variantDropdown:s,isSuperAdmin:r,onScanClick:x,onBarcodeInputFocus:g}),entityName:"Product",formColumns:2,canEdit:j,canDelete:b})),[m,t,s,r,x,g,j,b]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(n.p,{resource:c.eZ.PRODUCT,config:v,enableDynamicFields:!0,entityName:"products"}),(0,S.jsx)(o.A,{visible:i,onClose:()=>d(!1),onScan:e=>{if(d(!1),"barcode"===u){const r=document.querySelector('input[name="barcode"]');r&&(r.value=e,r.dispatchEvent(new Event("input",{bubbles:!0})))}},title:"Scan Product Barcode",description:"Scan barcode to add to product"})]})}},92882:(e,r,t)=>{t.d(r,{A:()=>s});var a=t(65043);const o={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:r}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"};var n=t(66381);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}const c=(e,r)=>a.createElement(n.A,l({},e,{ref:r,icon:o}));const s=a.forwardRef(c)}}]);
//# sourceMappingURL=898.67c1485f.chunk.js.map